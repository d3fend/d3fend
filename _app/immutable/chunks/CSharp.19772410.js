import{c as be,a as Ml}from"./_commonjsHelpers.de833af9.js";import{c as Rl}from"./_commonjs-dynamic-modules.302442b1.js";var Pl={},Le={};(function(e){var t=be&&be.__awaiter||function($,j,W,Y){return new(W||(W=Promise))(function(se,he){function Ze(Ge){try{Xe(Y.next(Ge))}catch(kt){he(kt)}}function St(Ge){try{Xe(Y.throw(Ge))}catch(kt){he(kt)}}function Xe(Ge){Ge.done?se(Ge.value):new W(function(kt){kt(Ge.value)}).then(Ze,St)}Xe((Y=Y.apply($,j||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.hashCodeInit=17;function n($){let j=0;for(let W=0;W<$.length;W++){const Y=$.charCodeAt(W);j=(j<<5)-j+Y,j=j&j}return j}e.hashString=n;function r($,j){return $*31+(j|0)|0}e.addHashCode=r;function i($,j){return $!==void 0?$:j}e.withDefault=i;function a($,j){if($!==void 0)return j($)}e.definedMap=a;function s($,j,W){return i(a($,W),j)}e.definedMapWithDefault=s;function l($,j){return $==null?!1:Object.prototype.hasOwnProperty.call($,j)}e.hasOwnProperty=l;function c($,j){for(const W of $)if(j(W))return W}e.iterableFind=c;function p($,j){for(const W of $)if(!j(W))return!1;return!0}e.iterableEvery=p;function g($,j){for(const W of $)if(j(W))return!0;return!1}e.iterableSome=g;function y($){for(const j of $)return j}e.iterableFirst=y;function w($){let j;for(const W of $)(j===void 0||W>j)&&(j=W);return j}e.iterableMax=w;function d($,j){let W,Y;for(const se of $){const he=j(se);(W===void 0||he<W)&&(W=he,Y=se)}return Y}e.iterableMinBy=d;function b($,j,W){let Y=j;for(const se of $)Y=W(Y,se);return Y}e.iterableReduce=b;function*m($){let j=0;for(const W of $)yield[j,W],j+=1}e.iterableEnumerate=m;function*T($,j){let W=0;for(const Y of $)W>=j?yield Y:W+=1}e.iterableSkip=T;function C($,j){const W=$.length;if(!(j>W))return $[W-j]}e.arrayGetFromEnd=C;function P($){return C($,1)}e.arrayLast=P;function z($){const j=$.length;if(j===0)throw new Error("Cannot pop empty array");return $.slice(0,j-1)}e.arrayPop=z;function U($,j){const W=[];for(const Y of j)W.length>0&&W.push($),W.push(Y);return W}e.arrayIntercalate=U;function B($,j){return t(this,void 0,void 0,function*(){const W=[];let Y=0;for(const se of $)W.push(yield j(se,Y)),Y+=1;return W})}e.arrayMapSync=B;function F($,j){return $<j?-1:$>j?1:0}function D($,j){return $.sort((W,Y)=>F(j(W),j(Y)))}e.arraySortByInto=D;function R($){return Array.isArray($)?$:Array.from($)}e.toReadonlyArray=R;function G($,j){const W=new Map;for(const[Y,se]of $)W.set(Y,j(se,Y));return W}e.mapMap=G;function Q($){for(const j of $.values())return j}e.mapFirst=Q;function Z($,j){for(const W of $.values())if(W===j)return!0;return!1}e.mapContains=Z;function V($,j){for(const[W,Y]of $)if(j(Y,W))return!0;return!1}e.mapSome=V;function u($,j){for(const[W,Y]of j)$.set(W,Y);return $}e.mapMergeInto=u;function o($,j){const W=new Map($);return u(W,j),W}e.mapMerge=o;function f($,j,W){for(const[Y,se]of W){const he=$.get(Y),Ze=he===void 0?se:j(he,se,Y);$.set(Y,Ze)}return $}e.mapMergeWithInto=f;function v($,j,W){const Y=new Map($);return f(Y,j,W),Y}e.mapMergeWith=v;function N($,j){const W=new Map;for(const[Y,se]of $)j(se,Y)&&W.set(Y,se);return W}e.mapFilter=N;function E($,j){const W=new Map;for(const[Y,se]of $){const he=j(se,Y);he!==void 0&&W.set(Y,he)}return W}e.mapFilterMap=E;function M($,j){return D(Array.from($),([W,Y])=>j(Y,W))}e.mapSortToArray=M;function h($,j){return new Map(M($,j))}e.mapSortBy=h;function _($){return h($,(j,W)=>W)}e.mapSortByKey=_;function A($,j){const W=new Map;for(const[Y,se]of $){const[he,Ze]=j(se,Y);W.set(he,Ze)}return W}e.mapMapEntries=A;function S($,j,W){return $.set(j,W($.get(j))),$}e.mapUpdateInto=S;function O($){const j=new Map;for(const W of Object.getOwnPropertyNames($))j.set(W,$[W]);return j}e.mapFromObject=O;function L($){const j={};for(const[W,Y]of $)j[W]=Y;return j}e.mapToObject=L;function K($,j){const W=new Map;for(const Y of $)W.set(Y,j(Y));return W}e.mapFromIterable=K;function I($,j){for(const[W,Y]of $)if(j(Y,W))return Y}e.mapFind=I;function k($){const j=new Map;for(const W of $)for(const[Y,se]of W){let he=j.get(Y);he===void 0&&(he=[],j.set(Y,he)),he.push(se)}return j}e.mapTranspose=k;function x($,j){return t(this,void 0,void 0,function*(){const W=new Map;for(const[Y,se]of $)W.set(Y,yield j(se,Y));return W})}e.mapMapSync=x;function q($,j){for(const W of j)if(!$.has(W))return!1;return!0}e.setIsSuperset=q;function X($,j){for(const W of j)for(const Y of W)$.add(Y);return $}e.setUnionManyInto=X;function te($,...j){return X($,j)}e.setUnionInto=te;function ne($,j){const W=new Set;for(const Y of $)j.has(Y)&&W.add(Y);return W}e.setIntersect=ne;function ue($,j){const W=new Set($);for(const Y of j)W.delete(Y);return W}e.setSubtract=ue;function H(...$){const j=new Set;return te(j,...$),j}e.setUnion=H;function J($,j){const W=new Set;for(const Y of $)W.add(j(Y));return W}e.setMap=J;function ee($,j){const W=new Set;for(const Y of $)j(Y)&&W.add(Y);return W}e.setFilter=ee;function re($,j){const W=new Set;for(const Y of $){const se=j(Y);se!==void 0&&W.add(se)}return W}e.setFilterMap=re;function ae($,j){return new Set(D(Array.from($),j))}e.setSortBy=ae;function oe($,j){const W=new Map;for(const Y of $){const se=j(Y);let he=W.get(se);he===void 0&&(he=new Set,W.set(se,he)),he.add(Y)}return W}e.setGroupBy=oe;function ke($){return $ instanceof Set?$:new Set($)}e.toReadonlySet=ke;class fe{constructor(){this._map=new Map}set(j,W){let Y=_e(j)|0;for(;;){const se=this._map.get(Y);if(se===void 0){this._map.set(Y,[j,W]);return}if(ge(j,se[0])){se[1]=W;return}Y=Y+1|0}}get(j){let W=_e(j)|0;for(;;){const Y=this._map.get(W);if(Y===void 0)return;if(ge(j,Y[0]))return Y[1];W=W+1|0}}has(j){return this.get(j)!==void 0}*values(){for(const[,[,j]]of this._map)yield j}}e.EqualityMap=fe;function ge($,j){if($===j)return!0;if($===void 0||j===void 0||$===null||j===null)return!1;if(typeof $.equals=="function"&&typeof j.equals=="function")return $.equals(j);if($ instanceof Set&&j instanceof Set){if($.size!==j.size)return!1;for(const W of $)if(!j.has(W))return!1;return!0}if($ instanceof Map&&j instanceof Map){if($.size!==j.size)return!1;for(const[W,Y]of $){const se=j.get(W);if(!ge(Y,se))return!1}return!0}if(Array.isArray($)&&Array.isArray(j)){const W=$.length;if(W!==j.length)return!1;for(let Y=0;Y<W;Y++)if(!ge($[Y],j[Y]))return!1;return!0}return!1}e.areEqual=ge;function _e($){if(typeof $=="number")return $|0;if(typeof $=="string")return n($);let j=e.hashCodeInit;if($===void 0)return j;if($===!0)return j+1|0;if($===!1)return j+2|0;if($===null)return j+3|0;if(typeof $.hashCode=="function")return $.hashCode();if($ instanceof Set){for(const W of $)j+=_e(W);return j}if($ instanceof Map){let W=e.hashCodeInit;for(const[Y,se]of $)W+=_e(Y),j+=_e(se);return r(W,j)}if(Array.isArray($)){for(const W of $)j=r(j,_e(W));return j}throw new Error(`Cannot hash ${$}`)}e.hashCodeOf=_e})(Le);var Ii={},ie={},So={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(typeof self<"u"?self:typeof window<"u"?window:typeof be<"u"?be:be,function(){var n="3.7.5",r=n,i=typeof atob=="function",a=typeof btoa=="function",s=typeof Buffer=="function",l=typeof TextDecoder=="function"?new TextDecoder:void 0,c=typeof TextEncoder=="function"?new TextEncoder:void 0,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",g=Array.prototype.slice.call(p),y=function(I){var k={};return I.forEach(function(x,q){return k[x]=q}),k}(g),w=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,d=String.fromCharCode.bind(String),b=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(I){return new Uint8Array(Array.prototype.slice.call(I,0))},m=function(I){return I.replace(/=/g,"").replace(/[+\/]/g,function(k){return k=="+"?"-":"_"})},T=function(I){return I.replace(/[^A-Za-z0-9\+\/]/g,"")},C=function(I){for(var k,x,q,X,te="",ne=I.length%3,ue=0;ue<I.length;){if((x=I.charCodeAt(ue++))>255||(q=I.charCodeAt(ue++))>255||(X=I.charCodeAt(ue++))>255)throw new TypeError("invalid character found");k=x<<16|q<<8|X,te+=g[k>>18&63]+g[k>>12&63]+g[k>>6&63]+g[k&63]}return ne?te.slice(0,ne-3)+"===".substring(ne):te},P=a?function(I){return btoa(I)}:s?function(I){return Buffer.from(I,"binary").toString("base64")}:C,z=s?function(I){return Buffer.from(I).toString("base64")}:function(I){for(var k=4096,x=[],q=0,X=I.length;q<X;q+=k)x.push(d.apply(null,I.subarray(q,q+k)));return P(x.join(""))},U=function(I,k){return k===void 0&&(k=!1),k?m(z(I)):z(I)},B=function(I){if(I.length<2){var k=I.charCodeAt(0);return k<128?I:k<2048?d(192|k>>>6)+d(128|k&63):d(224|k>>>12&15)+d(128|k>>>6&63)+d(128|k&63)}else{var k=65536+(I.charCodeAt(0)-55296)*1024+(I.charCodeAt(1)-56320);return d(240|k>>>18&7)+d(128|k>>>12&63)+d(128|k>>>6&63)+d(128|k&63)}},F=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,D=function(I){return I.replace(F,B)},R=s?function(I){return Buffer.from(I,"utf8").toString("base64")}:c?function(I){return z(c.encode(I))}:function(I){return P(D(I))},G=function(I,k){return k===void 0&&(k=!1),k?m(R(I)):R(I)},Q=function(I){return G(I,!0)},Z=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,V=function(I){switch(I.length){case 4:var k=(7&I.charCodeAt(0))<<18|(63&I.charCodeAt(1))<<12|(63&I.charCodeAt(2))<<6|63&I.charCodeAt(3),x=k-65536;return d((x>>>10)+55296)+d((x&1023)+56320);case 3:return d((15&I.charCodeAt(0))<<12|(63&I.charCodeAt(1))<<6|63&I.charCodeAt(2));default:return d((31&I.charCodeAt(0))<<6|63&I.charCodeAt(1))}},u=function(I){return I.replace(Z,V)},o=function(I){if(I=I.replace(/\s+/g,""),!w.test(I))throw new TypeError("malformed base64.");I+="==".slice(2-(I.length&3));for(var k,x="",q,X,te=0;te<I.length;)k=y[I.charAt(te++)]<<18|y[I.charAt(te++)]<<12|(q=y[I.charAt(te++)])<<6|(X=y[I.charAt(te++)]),x+=q===64?d(k>>16&255):X===64?d(k>>16&255,k>>8&255):d(k>>16&255,k>>8&255,k&255);return x},f=i?function(I){return atob(T(I))}:s?function(I){return Buffer.from(I,"base64").toString("binary")}:o,v=s?function(I){return b(Buffer.from(I,"base64"))}:function(I){return b(f(I).split("").map(function(k){return k.charCodeAt(0)}))},N=function(I){return v(M(I))},E=s?function(I){return Buffer.from(I,"base64").toString("utf8")}:l?function(I){return l.decode(v(I))}:function(I){return u(f(I))},M=function(I){return T(I.replace(/[-_]/g,function(k){return k=="-"?"+":"/"}))},h=function(I){return E(M(I))},_=function(I){if(typeof I!="string")return!1;var k=I.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(k)||!/[^\s0-9a-zA-Z\-_]/.test(k)},A=function(I){return{value:I,enumerable:!1,writable:!0,configurable:!0}},S=function(){var I=function(k,x){return Object.defineProperty(String.prototype,k,A(x))};I("fromBase64",function(){return h(this)}),I("toBase64",function(k){return G(this,k)}),I("toBase64URI",function(){return G(this,!0)}),I("toBase64URL",function(){return G(this,!0)}),I("toUint8Array",function(){return N(this)})},O=function(){var I=function(k,x){return Object.defineProperty(Uint8Array.prototype,k,A(x))};I("toBase64",function(k){return U(this,k)}),I("toBase64URI",function(){return U(this,!0)}),I("toBase64URL",function(){return U(this,!0)})},L=function(){S(),O()},K={version:n,VERSION:r,atob:f,atobPolyfill:o,btoa:P,btoaPolyfill:C,fromBase64:h,toBase64:G,encode:G,encodeURI:Q,encodeURL:Q,utob:D,btou:u,decode:h,isValid:_,fromUint8Array:U,toUint8Array:N,extendString:S,extendUint8Array:O,extendBuiltins:L};return K.Base64={},Object.keys(K).forEach(function(I){return K.Base64[I]=K[I]}),K})})(So);var Fl=So.exports,Mt={};(function(e){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function n(a,s){return Object.prototype.hasOwnProperty.call(a,s)}e.assign=function(a){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var l=s.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var c in l)n(l,c)&&(a[c]=l[c])}}return a},e.shrinkBuf=function(a,s){return a.length===s?a:a.subarray?a.subarray(0,s):(a.length=s,a)};var r={arraySet:function(a,s,l,c,p){if(s.subarray&&a.subarray){a.set(s.subarray(l,l+c),p);return}for(var g=0;g<c;g++)a[p+g]=s[l+g]},flattenChunks:function(a){var s,l,c,p,g,y;for(c=0,s=0,l=a.length;s<l;s++)c+=a[s].length;for(y=new Uint8Array(c),p=0,s=0,l=a.length;s<l;s++)g=a[s],y.set(g,p),p+=g.length;return y}},i={arraySet:function(a,s,l,c,p){for(var g=0;g<c;g++)a[p+g]=s[l+g]},flattenChunks:function(a){return[].concat.apply([],a)}};e.setTyped=function(a){a?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,r)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,i))},e.setTyped(t)})(Mt);var ur={},wt={},En={},Dl=Mt,Bl=4,ra=0,ia=1,Ul=2;function Mn(e){for(var t=e.length;--t>=0;)e[t]=0}var xl=0,ko=1,zl=2,$l=3,jl=258,_s=29,lr=256,Xn=lr+1+_s,kn=30,ws=19,Ao=2*Xn+1,Jt=15,Oi=16,Gl=7,Ss=256,Co=16,No=17,Io=18,as=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Mr=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ql=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Oo=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Kl=512,It=new Array((Xn+2)*2);Mn(It);var Kn=new Array(kn*2);Mn(Kn);var Yn=new Array(Kl);Mn(Yn);var er=new Array(jl-$l+1);Mn(er);var ks=new Array(_s);Mn(ks);var Gr=new Array(kn);Mn(Gr);function Li(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}var Lo,Eo,Mo;function Ei(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function Ro(e){return e<256?Yn[e]:Yn[256+(e>>>7)]}function tr(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}function Ke(e,t,n){e.bi_valid>Oi-n?(e.bi_buf|=t<<e.bi_valid&65535,tr(e,e.bi_buf),e.bi_buf=t>>Oi-e.bi_valid,e.bi_valid+=n-Oi):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function yt(e,t,n){Ke(e,n[t*2],n[t*2+1])}function Po(e,t){var n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1}function Hl(e){e.bi_valid===16?(tr(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function Wl(e,t){var n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,c=t.stat_desc.max_length,p,g,y,w,d,b,m=0;for(w=0;w<=Jt;w++)e.bl_count[w]=0;for(n[e.heap[e.heap_max]*2+1]=0,p=e.heap_max+1;p<Ao;p++)g=e.heap[p],w=n[n[g*2+1]*2+1]+1,w>c&&(w=c,m++),n[g*2+1]=w,!(g>r)&&(e.bl_count[w]++,d=0,g>=l&&(d=s[g-l]),b=n[g*2],e.opt_len+=b*(w+d),a&&(e.static_len+=b*(i[g*2+1]+d)));if(m!==0){do{for(w=c-1;e.bl_count[w]===0;)w--;e.bl_count[w]--,e.bl_count[w+1]+=2,e.bl_count[c]--,m-=2}while(m>0);for(w=c;w!==0;w--)for(g=e.bl_count[w];g!==0;)y=e.heap[--p],!(y>r)&&(n[y*2+1]!==w&&(e.opt_len+=(w-n[y*2+1])*n[y*2],n[y*2+1]=w),g--)}}function Fo(e,t,n){var r=new Array(Jt+1),i=0,a,s;for(a=1;a<=Jt;a++)r[a]=i=i+n[a-1]<<1;for(s=0;s<=t;s++){var l=e[s*2+1];l!==0&&(e[s*2]=Po(r[l]++,l))}}function Vl(){var e,t,n,r,i,a=new Array(Jt+1);for(n=0,r=0;r<_s-1;r++)for(ks[r]=n,e=0;e<1<<as[r];e++)er[n++]=r;for(er[n-1]=r,i=0,r=0;r<16;r++)for(Gr[r]=i,e=0;e<1<<Mr[r];e++)Yn[i++]=r;for(i>>=7;r<kn;r++)for(Gr[r]=i<<7,e=0;e<1<<Mr[r]-7;e++)Yn[256+i++]=r;for(t=0;t<=Jt;t++)a[t]=0;for(e=0;e<=143;)It[e*2+1]=8,e++,a[8]++;for(;e<=255;)It[e*2+1]=9,e++,a[9]++;for(;e<=279;)It[e*2+1]=7,e++,a[7]++;for(;e<=287;)It[e*2+1]=8,e++,a[8]++;for(Fo(It,Xn+1,a),e=0;e<kn;e++)Kn[e*2+1]=5,Kn[e*2]=Po(e,5);Lo=new Li(It,as,lr+1,Xn,Jt),Eo=new Li(Kn,Mr,0,kn,Jt),Mo=new Li(new Array(0),ql,0,ws,Gl)}function Do(e){var t;for(t=0;t<Xn;t++)e.dyn_ltree[t*2]=0;for(t=0;t<kn;t++)e.dyn_dtree[t*2]=0;for(t=0;t<ws;t++)e.bl_tree[t*2]=0;e.dyn_ltree[Ss*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Bo(e){e.bi_valid>8?tr(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Jl(e,t,n,r){Bo(e),r&&(tr(e,n),tr(e,~n)),Dl.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function sa(e,t,n,r){var i=t*2,a=n*2;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]}function Mi(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&sa(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!sa(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function aa(e,t,n){var r,i,a=0,s,l;if(e.last_lit!==0)do r=e.pending_buf[e.d_buf+a*2]<<8|e.pending_buf[e.d_buf+a*2+1],i=e.pending_buf[e.l_buf+a],a++,r===0?yt(e,i,t):(s=er[i],yt(e,s+lr+1,t),l=as[s],l!==0&&(i-=ks[s],Ke(e,i,l)),r--,s=Ro(r),yt(e,s,n),l=Mr[s],l!==0&&(r-=Gr[s],Ke(e,r,l)));while(a<e.last_lit);yt(e,Ss,t)}function os(e,t){var n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.elems,s,l,c=-1,p;for(e.heap_len=0,e.heap_max=Ao,s=0;s<a;s++)n[s*2]!==0?(e.heap[++e.heap_len]=c=s,e.depth[s]=0):n[s*2+1]=0;for(;e.heap_len<2;)p=e.heap[++e.heap_len]=c<2?++c:0,n[p*2]=1,e.depth[p]=0,e.opt_len--,i&&(e.static_len-=r[p*2+1]);for(t.max_code=c,s=e.heap_len>>1;s>=1;s--)Mi(e,n,s);p=a;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Mi(e,n,1),l=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=l,n[p*2]=n[s*2]+n[l*2],e.depth[p]=(e.depth[s]>=e.depth[l]?e.depth[s]:e.depth[l])+1,n[s*2+1]=n[l*2+1]=p,e.heap[1]=p++,Mi(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Wl(e,t),Fo(n,c,e.bl_count)}function oa(e,t,n){var r,i=-1,a,s=t[0*2+1],l=0,c=7,p=4;for(s===0&&(c=138,p=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)a=s,s=t[(r+1)*2+1],!(++l<c&&a===s)&&(l<p?e.bl_tree[a*2]+=l:a!==0?(a!==i&&e.bl_tree[a*2]++,e.bl_tree[Co*2]++):l<=10?e.bl_tree[No*2]++:e.bl_tree[Io*2]++,l=0,i=a,s===0?(c=138,p=3):a===s?(c=6,p=3):(c=7,p=4))}function ua(e,t,n){var r,i=-1,a,s=t[0*2+1],l=0,c=7,p=4;for(s===0&&(c=138,p=3),r=0;r<=n;r++)if(a=s,s=t[(r+1)*2+1],!(++l<c&&a===s)){if(l<p)do yt(e,a,e.bl_tree);while(--l!==0);else a!==0?(a!==i&&(yt(e,a,e.bl_tree),l--),yt(e,Co,e.bl_tree),Ke(e,l-3,2)):l<=10?(yt(e,No,e.bl_tree),Ke(e,l-3,3)):(yt(e,Io,e.bl_tree),Ke(e,l-11,7));l=0,i=a,s===0?(c=138,p=3):a===s?(c=6,p=3):(c=7,p=4)}}function Ql(e){var t;for(oa(e,e.dyn_ltree,e.l_desc.max_code),oa(e,e.dyn_dtree,e.d_desc.max_code),os(e,e.bl_desc),t=ws-1;t>=3&&e.bl_tree[Oo[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}function Zl(e,t,n,r){var i;for(Ke(e,t-257,5),Ke(e,n-1,5),Ke(e,r-4,4),i=0;i<r;i++)Ke(e,e.bl_tree[Oo[i]*2+1],3);ua(e,e.dyn_ltree,t-1),ua(e,e.dyn_dtree,n-1)}function Xl(e){var t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return ra;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return ia;for(n=32;n<lr;n++)if(e.dyn_ltree[n*2]!==0)return ia;return ra}var la=!1;function Yl(e){la||(Vl(),la=!0),e.l_desc=new Ei(e.dyn_ltree,Lo),e.d_desc=new Ei(e.dyn_dtree,Eo),e.bl_desc=new Ei(e.bl_tree,Mo),e.bi_buf=0,e.bi_valid=0,Do(e)}function Uo(e,t,n,r){Ke(e,(xl<<1)+(r?1:0),3),Jl(e,t,n,!0)}function ec(e){Ke(e,ko<<1,3),yt(e,Ss,It),Hl(e)}function tc(e,t,n,r){var i,a,s=0;e.level>0?(e.strm.data_type===Ul&&(e.strm.data_type=Xl(e)),os(e,e.l_desc),os(e,e.d_desc),s=Ql(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=n+5,n+4<=i&&t!==-1?Uo(e,t,n,r):e.strategy===Bl||a===i?(Ke(e,(ko<<1)+(r?1:0),3),aa(e,It,Kn)):(Ke(e,(zl<<1)+(r?1:0),3),Zl(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),aa(e,e.dyn_ltree,e.dyn_dtree)),Do(e),r&&Bo(e)}function nc(e,t,n){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=n&255,e.last_lit++,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(er[n]+lr+1)*2]++,e.dyn_dtree[Ro(t)*2]++),e.last_lit===e.lit_bufsize-1}En._tr_init=Yl;En._tr_stored_block=Uo;En._tr_flush_block=tc;En._tr_tally=nc;En._tr_align=ec;function rc(e,t,n,r){for(var i=e&65535|0,a=e>>>16&65535|0,s=0;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+t[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0}var xo=rc;function ic(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t}var sc=ic();function ac(e,t,n,r){var i=sc,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^i[(e^t[s])&255];return e^-1}var zo=ac,As={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},je=Mt,tt=En,$o=xo,Pt=zo,oc=As,un=0,uc=1,lc=3,jt=4,ca=5,bt=0,fa=1,nt=-2,cc=-3,Ri=-5,fc=-1,dc=1,kr=2,hc=3,pc=4,mc=0,gc=2,Xr=8,yc=9,bc=15,Tc=8,vc=29,_c=256,us=_c+1+vc,wc=30,Sc=19,kc=2*us+1,Ac=15,Te=3,Ut=258,ut=Ut+Te+1,Cc=32,Yr=42,ls=69,Rr=73,Pr=91,Fr=103,Qt=113,zn=666,De=1,cr=2,Yt=3,Rn=4,Nc=3;function xt(e,t){return e.msg=oc[t],t}function da(e){return(e<<1)-(e>4?9:0)}function Bt(e){for(var t=e.length;--t>=0;)e[t]=0}function Ft(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(je.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))}function Ue(e,t){tt._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ft(e.strm)}function ve(e,t){e.pending_buf[e.pending++]=t}function Un(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}function Ic(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,je.arraySet(t,e.input,e.next_in,i,n),e.state.wrap===1?e.adler=$o(e.adler,t,i,n):e.state.wrap===2&&(e.adler=Pt(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)}function jo(e,t){var n=e.max_chain_length,r=e.strstart,i,a,s=e.prev_length,l=e.nice_match,c=e.strstart>e.w_size-ut?e.strstart-(e.w_size-ut):0,p=e.window,g=e.w_mask,y=e.prev,w=e.strstart+Ut,d=p[r+s-1],b=p[r+s];e.prev_length>=e.good_match&&(n>>=2),l>e.lookahead&&(l=e.lookahead);do if(i=t,!(p[i+s]!==b||p[i+s-1]!==d||p[i]!==p[r]||p[++i]!==p[r+1])){r+=2,i++;do;while(p[++r]===p[++i]&&p[++r]===p[++i]&&p[++r]===p[++i]&&p[++r]===p[++i]&&p[++r]===p[++i]&&p[++r]===p[++i]&&p[++r]===p[++i]&&p[++r]===p[++i]&&r<w);if(a=Ut-(w-r),r=w-Ut,a>s){if(e.match_start=t,s=a,a>=l)break;d=p[r+s-1],b=p[r+s]}}while((t=y[t&g])>c&&--n!==0);return s<=e.lookahead?s:e.lookahead}function en(e){var t=e.w_size,n,r,i,a,s;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-ut)){je.arraySet(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,r=e.hash_size,n=r;do i=e.head[--n],e.head[n]=i>=t?i-t:0;while(--r);r=t,n=r;do i=e.prev[--n],e.prev[n]=i>=t?i-t:0;while(--r);a+=t}if(e.strm.avail_in===0)break;if(r=Ic(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=r,e.lookahead+e.insert>=Te)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+Te-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<Te)););}while(e.lookahead<ut&&e.strm.avail_in!==0)}function Oc(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(en(e),e.lookahead===0&&t===un)return De;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((e.strstart===0||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,Ue(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-ut&&(Ue(e,!1),e.strm.avail_out===0))return De}return e.insert=0,t===jt?(Ue(e,!0),e.strm.avail_out===0?Yt:Rn):(e.strstart>e.block_start&&(Ue(e,!1),e.strm.avail_out===0),De)}function Pi(e,t){for(var n,r;;){if(e.lookahead<ut){if(en(e),e.lookahead<ut&&t===un)return De;if(e.lookahead===0)break}if(n=0,e.lookahead>=Te&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Te-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-ut&&(e.match_length=jo(e,n)),e.match_length>=Te)if(r=tt._tr_tally(e,e.strstart-e.match_start,e.match_length-Te),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Te){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Te-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=tt._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Ue(e,!1),e.strm.avail_out===0))return De}return e.insert=e.strstart<Te-1?e.strstart:Te-1,t===jt?(Ue(e,!0),e.strm.avail_out===0?Yt:Rn):e.last_lit&&(Ue(e,!1),e.strm.avail_out===0)?De:cr}function pn(e,t){for(var n,r,i;;){if(e.lookahead<ut){if(en(e),e.lookahead<ut&&t===un)return De;if(e.lookahead===0)break}if(n=0,e.lookahead>=Te&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Te-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Te-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-ut&&(e.match_length=jo(e,n),e.match_length<=5&&(e.strategy===dc||e.match_length===Te&&e.strstart-e.match_start>4096)&&(e.match_length=Te-1)),e.prev_length>=Te&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-Te,r=tt._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-Te),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Te-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Te-1,e.strstart++,r&&(Ue(e,!1),e.strm.avail_out===0))return De}else if(e.match_available){if(r=tt._tr_tally(e,0,e.window[e.strstart-1]),r&&Ue(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return De}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=tt._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Te-1?e.strstart:Te-1,t===jt?(Ue(e,!0),e.strm.avail_out===0?Yt:Rn):e.last_lit&&(Ue(e,!1),e.strm.avail_out===0)?De:cr}function Lc(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=Ut){if(en(e),e.lookahead<=Ut&&t===un)return De;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Te&&e.strstart>0&&(i=e.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){a=e.strstart+Ut;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=Ut-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Te?(n=tt._tr_tally(e,1,e.match_length-Te),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=tt._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Ue(e,!1),e.strm.avail_out===0))return De}return e.insert=0,t===jt?(Ue(e,!0),e.strm.avail_out===0?Yt:Rn):e.last_lit&&(Ue(e,!1),e.strm.avail_out===0)?De:cr}function Ec(e,t){for(var n;;){if(e.lookahead===0&&(en(e),e.lookahead===0)){if(t===un)return De;break}if(e.match_length=0,n=tt._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Ue(e,!1),e.strm.avail_out===0))return De}return e.insert=0,t===jt?(Ue(e,!0),e.strm.avail_out===0?Yt:Rn):e.last_lit&&(Ue(e,!1),e.strm.avail_out===0)?De:cr}function ht(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}var vn;vn=[new ht(0,0,0,0,Oc),new ht(4,4,8,4,Pi),new ht(4,5,16,8,Pi),new ht(4,6,32,32,Pi),new ht(4,4,16,16,pn),new ht(8,16,32,32,pn),new ht(8,16,128,128,pn),new ht(8,32,128,256,pn),new ht(32,128,258,1024,pn),new ht(32,258,258,4096,pn)];function Mc(e){e.window_size=2*e.w_size,Bt(e.head),e.max_lazy_match=vn[e.level].max_lazy,e.good_match=vn[e.level].good_length,e.nice_match=vn[e.level].nice_length,e.max_chain_length=vn[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Te-1,e.match_available=0,e.ins_h=0}function Rc(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Xr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new je.Buf16(kc*2),this.dyn_dtree=new je.Buf16((2*wc+1)*2),this.bl_tree=new je.Buf16((2*Sc+1)*2),Bt(this.dyn_ltree),Bt(this.dyn_dtree),Bt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new je.Buf16(Ac+1),this.heap=new je.Buf16(2*us+1),Bt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new je.Buf16(2*us+1),Bt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Go(e){var t;return!e||!e.state?xt(e,nt):(e.total_in=e.total_out=0,e.data_type=gc,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?Yr:Qt,e.adler=t.wrap===2?0:1,t.last_flush=un,tt._tr_init(t),bt)}function qo(e){var t=Go(e);return t===bt&&Mc(e.state),t}function Pc(e,t){return!e||!e.state||e.state.wrap!==2?nt:(e.state.gzhead=t,bt)}function Ko(e,t,n,r,i,a){if(!e)return nt;var s=1;if(t===fc&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>yc||n!==Xr||r<8||r>15||t<0||t>9||a<0||a>pc)return xt(e,nt);r===8&&(r=9);var l=new Rc;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+Te-1)/Te),l.window=new je.Buf8(l.w_size*2),l.head=new je.Buf16(l.hash_size),l.prev=new je.Buf16(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new je.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=(1+2)*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,qo(e)}function Fc(e,t){return Ko(e,t,Xr,bc,Tc,mc)}function Dc(e,t){var n,r,i,a;if(!e||!e.state||t>ca||t<0)return e?xt(e,nt):nt;if(r=e.state,!e.output||!e.input&&e.avail_in!==0||r.status===zn&&t!==jt)return xt(e,e.avail_out===0?Ri:nt);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===Yr)if(r.wrap===2)e.adler=0,ve(r,31),ve(r,139),ve(r,8),r.gzhead?(ve(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),ve(r,r.gzhead.time&255),ve(r,r.gzhead.time>>8&255),ve(r,r.gzhead.time>>16&255),ve(r,r.gzhead.time>>24&255),ve(r,r.level===9?2:r.strategy>=kr||r.level<2?4:0),ve(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(ve(r,r.gzhead.extra.length&255),ve(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=Pt(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=ls):(ve(r,0),ve(r,0),ve(r,0),ve(r,0),ve(r,0),ve(r,r.level===9?2:r.strategy>=kr||r.level<2?4:0),ve(r,Nc),r.status=Qt);else{var s=Xr+(r.w_bits-8<<4)<<8,l=-1;r.strategy>=kr||r.level<2?l=0:r.level<6?l=1:r.level===6?l=2:l=3,s|=l<<6,r.strstart!==0&&(s|=Cc),s+=31-s%31,r.status=Qt,Un(r,s),r.strstart!==0&&(Un(r,e.adler>>>16),Un(r,e.adler&65535)),e.adler=1}if(r.status===ls)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(r.gzhead.extra.length&65535)&&!(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=Pt(e.adler,r.pending_buf,r.pending-i,i)),Ft(e),i=r.pending,r.pending===r.pending_buf_size));)ve(r,r.gzhead.extra[r.gzindex]&255),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(e.adler=Pt(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=Rr)}else r.status=Rr;if(r.status===Rr)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=Pt(e.adler,r.pending_buf,r.pending-i,i)),Ft(e),i=r.pending,r.pending===r.pending_buf_size)){a=1;break}r.gzindex<r.gzhead.name.length?a=r.gzhead.name.charCodeAt(r.gzindex++)&255:a=0,ve(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=Pt(e.adler,r.pending_buf,r.pending-i,i)),a===0&&(r.gzindex=0,r.status=Pr)}else r.status=Pr;if(r.status===Pr)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=Pt(e.adler,r.pending_buf,r.pending-i,i)),Ft(e),i=r.pending,r.pending===r.pending_buf_size)){a=1;break}r.gzindex<r.gzhead.comment.length?a=r.gzhead.comment.charCodeAt(r.gzindex++)&255:a=0,ve(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=Pt(e.adler,r.pending_buf,r.pending-i,i)),a===0&&(r.status=Fr)}else r.status=Fr;if(r.status===Fr&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&Ft(e),r.pending+2<=r.pending_buf_size&&(ve(r,e.adler&255),ve(r,e.adler>>8&255),e.adler=0,r.status=Qt)):r.status=Qt),r.pending!==0){if(Ft(e),e.avail_out===0)return r.last_flush=-1,bt}else if(e.avail_in===0&&da(t)<=da(n)&&t!==jt)return xt(e,Ri);if(r.status===zn&&e.avail_in!==0)return xt(e,Ri);if(e.avail_in!==0||r.lookahead!==0||t!==un&&r.status!==zn){var c=r.strategy===kr?Ec(r,t):r.strategy===hc?Lc(r,t):vn[r.level].func(r,t);if((c===Yt||c===Rn)&&(r.status=zn),c===De||c===Yt)return e.avail_out===0&&(r.last_flush=-1),bt;if(c===cr&&(t===uc?tt._tr_align(r):t!==ca&&(tt._tr_stored_block(r,0,0,!1),t===lc&&(Bt(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),Ft(e),e.avail_out===0))return r.last_flush=-1,bt}return t!==jt?bt:r.wrap<=0?fa:(r.wrap===2?(ve(r,e.adler&255),ve(r,e.adler>>8&255),ve(r,e.adler>>16&255),ve(r,e.adler>>24&255),ve(r,e.total_in&255),ve(r,e.total_in>>8&255),ve(r,e.total_in>>16&255),ve(r,e.total_in>>24&255)):(Un(r,e.adler>>>16),Un(r,e.adler&65535)),Ft(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?bt:fa)}function Bc(e){var t;return!e||!e.state?nt:(t=e.state.status,t!==Yr&&t!==ls&&t!==Rr&&t!==Pr&&t!==Fr&&t!==Qt&&t!==zn?xt(e,nt):(e.state=null,t===Qt?xt(e,cc):bt))}function Uc(e,t){var n=t.length,r,i,a,s,l,c,p,g;if(!e||!e.state||(r=e.state,s=r.wrap,s===2||s===1&&r.status!==Yr||r.lookahead))return nt;for(s===1&&(e.adler=$o(e.adler,t,n,0)),r.wrap=0,n>=r.w_size&&(s===0&&(Bt(r.head),r.strstart=0,r.block_start=0,r.insert=0),g=new je.Buf8(r.w_size),je.arraySet(g,t,n-r.w_size,r.w_size,0),t=g,n=r.w_size),l=e.avail_in,c=e.next_in,p=e.input,e.avail_in=n,e.next_in=0,e.input=t,en(r);r.lookahead>=Te;){i=r.strstart,a=r.lookahead-(Te-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+Te-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++;while(--a);r.strstart=i,r.lookahead=Te-1,en(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Te-1,r.match_available=0,e.next_in=c,e.input=p,e.avail_in=l,r.wrap=s,bt}wt.deflateInit=Fc;wt.deflateInit2=Ko;wt.deflateReset=qo;wt.deflateResetKeep=Go;wt.deflateSetHeader=Pc;wt.deflate=Dc;wt.deflateEnd=Bc;wt.deflateSetDictionary=Uc;wt.deflateInfo="pako deflate (from Nodeca project)";var ln={},ei=Mt,Ho=!0,Wo=!0;try{String.fromCharCode.apply(null,[0])}catch{Ho=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Wo=!1}var nr=new ei.Buf8(256);for(var Rt=0;Rt<256;Rt++)nr[Rt]=Rt>=252?6:Rt>=248?5:Rt>=240?4:Rt>=224?3:Rt>=192?2:1;nr[254]=nr[254]=1;ln.string2buf=function(e){var t,n,r,i,a,s=e.length,l=0;for(i=0;i<s;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new ei.Buf8(l),a=0,i=0;a<l;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|n&63):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|n&63):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|n&63);return t};function Vo(e,t){if(t<65534&&(e.subarray&&Wo||!e.subarray&&Ho))return String.fromCharCode.apply(null,ei.shrinkBuf(e,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}ln.buf2binstring=function(e){return Vo(e,e.length)};ln.binstring2buf=function(e){for(var t=new ei.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t};ln.buf2string=function(e,t){var n,r,i,a,s=t||e.length,l=new Array(s*2);for(r=0,n=0;n<s;){if(i=e[n++],i<128){l[r++]=i;continue}if(a=nr[i],a>4){l[r++]=65533,n+=a-1;continue}for(i&=a===2?31:a===3?15:7;a>1&&n<s;)i=i<<6|e[n++]&63,a--;if(a>1){l[r++]=65533;continue}i<65536?l[r++]=i:(i-=65536,l[r++]=55296|i>>10&1023,l[r++]=56320|i&1023)}return Vo(l,r)};ln.utf8border=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+nr[e[n]]>t?n:t};function xc(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Jo=xc,Hn=wt,Wn=Mt,cs=ln,fs=As,zc=Jo,Qo=Object.prototype.toString,$c=0,Fi=4,An=0,ha=1,pa=2,jc=-1,Gc=0,qc=8;function tn(e){if(!(this instanceof tn))return new tn(e);this.options=Wn.assign({level:jc,method:qc,chunkSize:16384,windowBits:15,memLevel:8,strategy:Gc,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zc,this.strm.avail_out=0;var n=Hn.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==An)throw new Error(fs[n]);if(t.header&&Hn.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(typeof t.dictionary=="string"?r=cs.string2buf(t.dictionary):Qo.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Hn.deflateSetDictionary(this.strm,r),n!==An)throw new Error(fs[n]);this._dict_set=!0}}tn.prototype.push=function(e,t){var n=this.strm,r=this.options.chunkSize,i,a;if(this.ended)return!1;a=t===~~t?t:t===!0?Fi:$c,typeof e=="string"?n.input=cs.string2buf(e):Qo.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new Wn.Buf8(r),n.next_out=0,n.avail_out=r),i=Hn.deflate(n,a),i!==ha&&i!==An)return this.onEnd(i),this.ended=!0,!1;(n.avail_out===0||n.avail_in===0&&(a===Fi||a===pa))&&(this.options.to==="string"?this.onData(cs.buf2binstring(Wn.shrinkBuf(n.output,n.next_out))):this.onData(Wn.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||n.avail_out===0)&&i!==ha);return a===Fi?(i=Hn.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===An):(a===pa&&(this.onEnd(An),n.avail_out=0),!0)};tn.prototype.onData=function(e){this.chunks.push(e)};tn.prototype.onEnd=function(e){e===An&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Wn.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Cs(e,t){var n=new tn(t);if(n.push(e,!0),n.err)throw n.msg||fs[n.err];return n.result}function Kc(e,t){return t=t||{},t.raw=!0,Cs(e,t)}function Hc(e,t){return t=t||{},t.gzip=!0,Cs(e,t)}ur.Deflate=tn;ur.deflate=Cs;ur.deflateRaw=Kc;ur.gzip=Hc;var fr={},ct={},Ar=30,Wc=12,Vc=function(t,n){var r,i,a,s,l,c,p,g,y,w,d,b,m,T,C,P,z,U,B,F,D,R,G,Q,Z;r=t.state,i=t.next_in,Q=t.input,a=i+(t.avail_in-5),s=t.next_out,Z=t.output,l=s-(n-t.avail_out),c=s+(t.avail_out-257),p=r.dmax,g=r.wsize,y=r.whave,w=r.wnext,d=r.window,b=r.hold,m=r.bits,T=r.lencode,C=r.distcode,P=(1<<r.lenbits)-1,z=(1<<r.distbits)-1;e:do{m<15&&(b+=Q[i++]<<m,m+=8,b+=Q[i++]<<m,m+=8),U=T[b&P];t:for(;;){if(B=U>>>24,b>>>=B,m-=B,B=U>>>16&255,B===0)Z[s++]=U&65535;else if(B&16){F=U&65535,B&=15,B&&(m<B&&(b+=Q[i++]<<m,m+=8),F+=b&(1<<B)-1,b>>>=B,m-=B),m<15&&(b+=Q[i++]<<m,m+=8,b+=Q[i++]<<m,m+=8),U=C[b&z];n:for(;;){if(B=U>>>24,b>>>=B,m-=B,B=U>>>16&255,B&16){if(D=U&65535,B&=15,m<B&&(b+=Q[i++]<<m,m+=8,m<B&&(b+=Q[i++]<<m,m+=8)),D+=b&(1<<B)-1,D>p){t.msg="invalid distance too far back",r.mode=Ar;break e}if(b>>>=B,m-=B,B=s-l,D>B){if(B=D-B,B>y&&r.sane){t.msg="invalid distance too far back",r.mode=Ar;break e}if(R=0,G=d,w===0){if(R+=g-B,B<F){F-=B;do Z[s++]=d[R++];while(--B);R=s-D,G=Z}}else if(w<B){if(R+=g+w-B,B-=w,B<F){F-=B;do Z[s++]=d[R++];while(--B);if(R=0,w<F){B=w,F-=B;do Z[s++]=d[R++];while(--B);R=s-D,G=Z}}}else if(R+=w-B,B<F){F-=B;do Z[s++]=d[R++];while(--B);R=s-D,G=Z}for(;F>2;)Z[s++]=G[R++],Z[s++]=G[R++],Z[s++]=G[R++],F-=3;F&&(Z[s++]=G[R++],F>1&&(Z[s++]=G[R++]))}else{R=s-D;do Z[s++]=Z[R++],Z[s++]=Z[R++],Z[s++]=Z[R++],F-=3;while(F>2);F&&(Z[s++]=Z[R++],F>1&&(Z[s++]=Z[R++]))}}else if(B&64){t.msg="invalid distance code",r.mode=Ar;break e}else{U=C[(U&65535)+(b&(1<<B)-1)];continue n}break}}else if(B&64)if(B&32){r.mode=Wc;break e}else{t.msg="invalid literal/length code",r.mode=Ar;break e}else{U=T[(U&65535)+(b&(1<<B)-1)];continue t}break}}while(i<a&&s<c);F=m>>3,i-=F,m-=F<<3,b&=(1<<m)-1,t.next_in=i,t.next_out=s,t.avail_in=i<a?5+(a-i):5-(i-a),t.avail_out=s<c?257+(c-s):257-(s-c),r.hold=b,r.bits=m},ma=Mt,mn=15,ga=852,ya=592,ba=0,Di=1,Ta=2,Jc=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Qc=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Zc=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Xc=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],Yc=function(t,n,r,i,a,s,l,c){var p=c.bits,g=0,y=0,w=0,d=0,b=0,m=0,T=0,C=0,P=0,z=0,U,B,F,D,R,G=null,Q=0,Z,V=new ma.Buf16(mn+1),u=new ma.Buf16(mn+1),o=null,f=0,v,N,E;for(g=0;g<=mn;g++)V[g]=0;for(y=0;y<i;y++)V[n[r+y]]++;for(b=p,d=mn;d>=1&&V[d]===0;d--);if(b>d&&(b=d),d===0)return a[s++]=1<<24|64<<16|0,a[s++]=1<<24|64<<16|0,c.bits=1,0;for(w=1;w<d&&V[w]===0;w++);for(b<w&&(b=w),C=1,g=1;g<=mn;g++)if(C<<=1,C-=V[g],C<0)return-1;if(C>0&&(t===ba||d!==1))return-1;for(u[1]=0,g=1;g<mn;g++)u[g+1]=u[g]+V[g];for(y=0;y<i;y++)n[r+y]!==0&&(l[u[n[r+y]]++]=y);if(t===ba?(G=o=l,Z=19):t===Di?(G=Jc,Q-=257,o=Qc,f-=257,Z=256):(G=Zc,o=Xc,Z=-1),z=0,y=0,g=w,R=s,m=b,T=0,F=-1,P=1<<b,D=P-1,t===Di&&P>ga||t===Ta&&P>ya)return 1;for(;;){v=g-T,l[y]<Z?(N=0,E=l[y]):l[y]>Z?(N=o[f+l[y]],E=G[Q+l[y]]):(N=32+64,E=0),U=1<<g-T,B=1<<m,w=B;do B-=U,a[R+(z>>T)+B]=v<<24|N<<16|E|0;while(B!==0);for(U=1<<g-1;z&U;)U>>=1;if(U!==0?(z&=U-1,z+=U):z=0,y++,--V[g]===0){if(g===d)break;g=n[r+l[y]]}if(g>b&&(z&D)!==F){for(T===0&&(T=b),R+=w,m=g-T,C=1<<m;m+T<d&&(C-=V[m+T],!(C<=0));)m++,C<<=1;if(P+=1<<m,t===Di&&P>ga||t===Ta&&P>ya)return 1;F=z&D,a[F]=b<<24|m<<16|R-s|0}}return z!==0&&(a[R+z]=g-T<<24|64<<16|0),c.bits=b,0},Qe=Mt,ds=xo,pt=zo,ef=Vc,Vn=Yc,tf=0,Zo=1,Xo=2,va=4,nf=5,Cr=6,nn=0,rf=1,sf=2,rt=-2,Yo=-3,eu=-4,af=-5,_a=8,tu=1,wa=2,Sa=3,ka=4,Aa=5,Ca=6,Na=7,Ia=8,Oa=9,La=10,qr=11,Ct=12,Bi=13,Ea=14,Ui=15,Ma=16,Ra=17,Pa=18,Fa=19,Nr=20,Ir=21,Da=22,Ba=23,Ua=24,xa=25,za=26,xi=27,$a=28,ja=29,Ie=30,nu=31,of=32,uf=852,lf=592,cf=15,ff=cf;function Ga(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function df(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Qe.Buf16(320),this.work=new Qe.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ru(e){var t;return!e||!e.state?rt:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=tu,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Qe.Buf32(uf),t.distcode=t.distdyn=new Qe.Buf32(lf),t.sane=1,t.back=-1,nn)}function iu(e){var t;return!e||!e.state?rt:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,ru(e))}function su(e,t){var n,r;return!e||!e.state||(r=e.state,t<0?(n=0,t=-t):(n=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?rt:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,iu(e))}function au(e,t){var n,r;return e?(r=new df,e.state=r,r.window=null,n=su(e,t),n!==nn&&(e.state=null),n):rt}function hf(e){return au(e,ff)}var qa=!0,zi,$i;function pf(e){if(qa){var t;for(zi=new Qe.Buf32(512),$i=new Qe.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Vn(Zo,e.lens,0,288,zi,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Vn(Xo,e.lens,0,32,$i,0,e.work,{bits:5}),qa=!1}e.lencode=zi,e.lenbits=9,e.distcode=$i,e.distbits=5}function ou(e,t,n,r){var i,a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Qe.Buf8(a.wsize)),r>=a.wsize?(Qe.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),Qe.arraySet(a.window,t,n-r,i,a.wnext),r-=i,r?(Qe.arraySet(a.window,t,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}function mf(e,t){var n,r,i,a,s,l,c,p,g,y,w,d,b,m,T=0,C,P,z,U,B,F,D,R,G=new Qe.Buf8(4),Q,Z,V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return rt;n=e.state,n.mode===Ct&&(n.mode=Bi),s=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,r=e.input,l=e.avail_in,p=n.hold,g=n.bits,y=l,w=c,R=nn;e:for(;;)switch(n.mode){case tu:if(n.wrap===0){n.mode=Bi;break}for(;g<16;){if(l===0)break e;l--,p+=r[a++]<<g,g+=8}if(n.wrap&2&&p===35615){n.check=0,G[0]=p&255,G[1]=p>>>8&255,n.check=pt(n.check,G,2,0),p=0,g=0,n.mode=wa;break}if(n.flags=0,n.head&&(n.head.done=!1),!(n.wrap&1)||(((p&255)<<8)+(p>>8))%31){e.msg="incorrect header check",n.mode=Ie;break}if((p&15)!==_a){e.msg="unknown compression method",n.mode=Ie;break}if(p>>>=4,g-=4,D=(p&15)+8,n.wbits===0)n.wbits=D;else if(D>n.wbits){e.msg="invalid window size",n.mode=Ie;break}n.dmax=1<<D,e.adler=n.check=1,n.mode=p&512?La:Ct,p=0,g=0;break;case wa:for(;g<16;){if(l===0)break e;l--,p+=r[a++]<<g,g+=8}if(n.flags=p,(n.flags&255)!==_a){e.msg="unknown compression method",n.mode=Ie;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Ie;break}n.head&&(n.head.text=p>>8&1),n.flags&512&&(G[0]=p&255,G[1]=p>>>8&255,n.check=pt(n.check,G,2,0)),p=0,g=0,n.mode=Sa;case Sa:for(;g<32;){if(l===0)break e;l--,p+=r[a++]<<g,g+=8}n.head&&(n.head.time=p),n.flags&512&&(G[0]=p&255,G[1]=p>>>8&255,G[2]=p>>>16&255,G[3]=p>>>24&255,n.check=pt(n.check,G,4,0)),p=0,g=0,n.mode=ka;case ka:for(;g<16;){if(l===0)break e;l--,p+=r[a++]<<g,g+=8}n.head&&(n.head.xflags=p&255,n.head.os=p>>8),n.flags&512&&(G[0]=p&255,G[1]=p>>>8&255,n.check=pt(n.check,G,2,0)),p=0,g=0,n.mode=Aa;case Aa:if(n.flags&1024){for(;g<16;){if(l===0)break e;l--,p+=r[a++]<<g,g+=8}n.length=p,n.head&&(n.head.extra_len=p),n.flags&512&&(G[0]=p&255,G[1]=p>>>8&255,n.check=pt(n.check,G,2,0)),p=0,g=0}else n.head&&(n.head.extra=null);n.mode=Ca;case Ca:if(n.flags&1024&&(d=n.length,d>l&&(d=l),d&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),Qe.arraySet(n.head.extra,r,a,d,D)),n.flags&512&&(n.check=pt(n.check,r,d,a)),l-=d,a+=d,n.length-=d),n.length))break e;n.length=0,n.mode=Na;case Na:if(n.flags&2048){if(l===0)break e;d=0;do D=r[a+d++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D));while(D&&d<l);if(n.flags&512&&(n.check=pt(n.check,r,d,a)),l-=d,a+=d,D)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Ia;case Ia:if(n.flags&4096){if(l===0)break e;d=0;do D=r[a+d++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D));while(D&&d<l);if(n.flags&512&&(n.check=pt(n.check,r,d,a)),l-=d,a+=d,D)break e}else n.head&&(n.head.comment=null);n.mode=Oa;case Oa:if(n.flags&512){for(;g<16;){if(l===0)break e;l--,p+=r[a++]<<g,g+=8}if(p!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Ie;break}p=0,g=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Ct;break;case La:for(;g<32;){if(l===0)break e;l--,p+=r[a++]<<g,g+=8}e.adler=n.check=Ga(p),p=0,g=0,n.mode=qr;case qr:if(n.havedict===0)return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=p,n.bits=g,sf;e.adler=n.check=1,n.mode=Ct;case Ct:if(t===nf||t===Cr)break e;case Bi:if(n.last){p>>>=g&7,g-=g&7,n.mode=xi;break}for(;g<3;){if(l===0)break e;l--,p+=r[a++]<<g,g+=8}switch(n.last=p&1,p>>>=1,g-=1,p&3){case 0:n.mode=Ea;break;case 1:if(pf(n),n.mode=Nr,t===Cr){p>>>=2,g-=2;break e}break;case 2:n.mode=Ra;break;case 3:e.msg="invalid block type",n.mode=Ie}p>>>=2,g-=2;break;case Ea:for(p>>>=g&7,g-=g&7;g<32;){if(l===0)break e;l--,p+=r[a++]<<g,g+=8}if((p&65535)!==(p>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Ie;break}if(n.length=p&65535,p=0,g=0,n.mode=Ui,t===Cr)break e;case Ui:n.mode=Ma;case Ma:if(d=n.length,d){if(d>l&&(d=l),d>c&&(d=c),d===0)break e;Qe.arraySet(i,r,a,d,s),l-=d,a+=d,c-=d,s+=d,n.length-=d;break}n.mode=Ct;break;case Ra:for(;g<14;){if(l===0)break e;l--,p+=r[a++]<<g,g+=8}if(n.nlen=(p&31)+257,p>>>=5,g-=5,n.ndist=(p&31)+1,p>>>=5,g-=5,n.ncode=(p&15)+4,p>>>=4,g-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Ie;break}n.have=0,n.mode=Pa;case Pa:for(;n.have<n.ncode;){for(;g<3;){if(l===0)break e;l--,p+=r[a++]<<g,g+=8}n.lens[V[n.have++]]=p&7,p>>>=3,g-=3}for(;n.have<19;)n.lens[V[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Q={bits:n.lenbits},R=Vn(tf,n.lens,0,19,n.lencode,0,n.work,Q),n.lenbits=Q.bits,R){e.msg="invalid code lengths set",n.mode=Ie;break}n.have=0,n.mode=Fa;case Fa:for(;n.have<n.nlen+n.ndist;){for(;T=n.lencode[p&(1<<n.lenbits)-1],C=T>>>24,P=T>>>16&255,z=T&65535,!(C<=g);){if(l===0)break e;l--,p+=r[a++]<<g,g+=8}if(z<16)p>>>=C,g-=C,n.lens[n.have++]=z;else{if(z===16){for(Z=C+2;g<Z;){if(l===0)break e;l--,p+=r[a++]<<g,g+=8}if(p>>>=C,g-=C,n.have===0){e.msg="invalid bit length repeat",n.mode=Ie;break}D=n.lens[n.have-1],d=3+(p&3),p>>>=2,g-=2}else if(z===17){for(Z=C+3;g<Z;){if(l===0)break e;l--,p+=r[a++]<<g,g+=8}p>>>=C,g-=C,D=0,d=3+(p&7),p>>>=3,g-=3}else{for(Z=C+7;g<Z;){if(l===0)break e;l--,p+=r[a++]<<g,g+=8}p>>>=C,g-=C,D=0,d=11+(p&127),p>>>=7,g-=7}if(n.have+d>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Ie;break}for(;d--;)n.lens[n.have++]=D}}if(n.mode===Ie)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Ie;break}if(n.lenbits=9,Q={bits:n.lenbits},R=Vn(Zo,n.lens,0,n.nlen,n.lencode,0,n.work,Q),n.lenbits=Q.bits,R){e.msg="invalid literal/lengths set",n.mode=Ie;break}if(n.distbits=6,n.distcode=n.distdyn,Q={bits:n.distbits},R=Vn(Xo,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Q),n.distbits=Q.bits,R){e.msg="invalid distances set",n.mode=Ie;break}if(n.mode=Nr,t===Cr)break e;case Nr:n.mode=Ir;case Ir:if(l>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=p,n.bits=g,ef(e,w),s=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,r=e.input,l=e.avail_in,p=n.hold,g=n.bits,n.mode===Ct&&(n.back=-1);break}for(n.back=0;T=n.lencode[p&(1<<n.lenbits)-1],C=T>>>24,P=T>>>16&255,z=T&65535,!(C<=g);){if(l===0)break e;l--,p+=r[a++]<<g,g+=8}if(P&&!(P&240)){for(U=C,B=P,F=z;T=n.lencode[F+((p&(1<<U+B)-1)>>U)],C=T>>>24,P=T>>>16&255,z=T&65535,!(U+C<=g);){if(l===0)break e;l--,p+=r[a++]<<g,g+=8}p>>>=U,g-=U,n.back+=U}if(p>>>=C,g-=C,n.back+=C,n.length=z,P===0){n.mode=za;break}if(P&32){n.back=-1,n.mode=Ct;break}if(P&64){e.msg="invalid literal/length code",n.mode=Ie;break}n.extra=P&15,n.mode=Da;case Da:if(n.extra){for(Z=n.extra;g<Z;){if(l===0)break e;l--,p+=r[a++]<<g,g+=8}n.length+=p&(1<<n.extra)-1,p>>>=n.extra,g-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Ba;case Ba:for(;T=n.distcode[p&(1<<n.distbits)-1],C=T>>>24,P=T>>>16&255,z=T&65535,!(C<=g);){if(l===0)break e;l--,p+=r[a++]<<g,g+=8}if(!(P&240)){for(U=C,B=P,F=z;T=n.distcode[F+((p&(1<<U+B)-1)>>U)],C=T>>>24,P=T>>>16&255,z=T&65535,!(U+C<=g);){if(l===0)break e;l--,p+=r[a++]<<g,g+=8}p>>>=U,g-=U,n.back+=U}if(p>>>=C,g-=C,n.back+=C,P&64){e.msg="invalid distance code",n.mode=Ie;break}n.offset=z,n.extra=P&15,n.mode=Ua;case Ua:if(n.extra){for(Z=n.extra;g<Z;){if(l===0)break e;l--,p+=r[a++]<<g,g+=8}n.offset+=p&(1<<n.extra)-1,p>>>=n.extra,g-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Ie;break}n.mode=xa;case xa:if(c===0)break e;if(d=w-c,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Ie;break}d>n.wnext?(d-=n.wnext,b=n.wsize-d):b=n.wnext-d,d>n.length&&(d=n.length),m=n.window}else m=i,b=s-n.offset,d=n.length;d>c&&(d=c),c-=d,n.length-=d;do i[s++]=m[b++];while(--d);n.length===0&&(n.mode=Ir);break;case za:if(c===0)break e;i[s++]=n.length,c--,n.mode=Ir;break;case xi:if(n.wrap){for(;g<32;){if(l===0)break e;l--,p|=r[a++]<<g,g+=8}if(w-=c,e.total_out+=w,n.total+=w,w&&(e.adler=n.check=n.flags?pt(n.check,i,w,s-w):ds(n.check,i,w,s-w)),w=c,(n.flags?p:Ga(p))!==n.check){e.msg="incorrect data check",n.mode=Ie;break}p=0,g=0}n.mode=$a;case $a:if(n.wrap&&n.flags){for(;g<32;){if(l===0)break e;l--,p+=r[a++]<<g,g+=8}if(p!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Ie;break}p=0,g=0}n.mode=ja;case ja:R=rf;break e;case Ie:R=Yo;break e;case nu:return eu;case of:default:return rt}return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=p,n.bits=g,(n.wsize||w!==e.avail_out&&n.mode<Ie&&(n.mode<xi||t!==va))&&ou(e,e.output,e.next_out,w-e.avail_out),y-=e.avail_in,w-=e.avail_out,e.total_in+=y,e.total_out+=w,n.total+=w,n.wrap&&w&&(e.adler=n.check=n.flags?pt(n.check,i,w,e.next_out-w):ds(n.check,i,w,e.next_out-w)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Ct?128:0)+(n.mode===Nr||n.mode===Ui?256:0),(y===0&&w===0||t===va)&&R===nn&&(R=af),R}function gf(e){if(!e||!e.state)return rt;var t=e.state;return t.window&&(t.window=null),e.state=null,nn}function yf(e,t){var n;return!e||!e.state||(n=e.state,!(n.wrap&2))?rt:(n.head=t,t.done=!1,nn)}function bf(e,t){var n=t.length,r,i,a;return!e||!e.state||(r=e.state,r.wrap!==0&&r.mode!==qr)?rt:r.mode===qr&&(i=1,i=ds(i,t,n,0),i!==r.check)?Yo:(a=ou(e,t,n,n),a?(r.mode=nu,eu):(r.havedict=1,nn))}ct.inflateReset=iu;ct.inflateReset2=su;ct.inflateResetKeep=ru;ct.inflateInit=hf;ct.inflateInit2=au;ct.inflate=mf;ct.inflateEnd=gf;ct.inflateGetHeader=yf;ct.inflateSetDictionary=bf;ct.inflateInfo="pako inflate (from Nodeca project)";var uu={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function Tf(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var vf=Tf,Cn=ct,Jn=Mt,Dr=ln,Pe=uu,hs=As,_f=Jo,wf=vf,lu=Object.prototype.toString;function rn(e){if(!(this instanceof rn))return new rn(e);this.options=Jn.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _f,this.strm.avail_out=0;var n=Cn.inflateInit2(this.strm,t.windowBits);if(n!==Pe.Z_OK)throw new Error(hs[n]);if(this.header=new wf,Cn.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Dr.string2buf(t.dictionary):lu.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Cn.inflateSetDictionary(this.strm,t.dictionary),n!==Pe.Z_OK)))throw new Error(hs[n])}rn.prototype.push=function(e,t){var n=this.strm,r=this.options.chunkSize,i=this.options.dictionary,a,s,l,c,p,g=!1;if(this.ended)return!1;s=t===~~t?t:t===!0?Pe.Z_FINISH:Pe.Z_NO_FLUSH,typeof e=="string"?n.input=Dr.binstring2buf(e):lu.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new Jn.Buf8(r),n.next_out=0,n.avail_out=r),a=Cn.inflate(n,Pe.Z_NO_FLUSH),a===Pe.Z_NEED_DICT&&i&&(a=Cn.inflateSetDictionary(this.strm,i)),a===Pe.Z_BUF_ERROR&&g===!0&&(a=Pe.Z_OK,g=!1),a!==Pe.Z_STREAM_END&&a!==Pe.Z_OK)return this.onEnd(a),this.ended=!0,!1;n.next_out&&(n.avail_out===0||a===Pe.Z_STREAM_END||n.avail_in===0&&(s===Pe.Z_FINISH||s===Pe.Z_SYNC_FLUSH))&&(this.options.to==="string"?(l=Dr.utf8border(n.output,n.next_out),c=n.next_out-l,p=Dr.buf2string(n.output,l),n.next_out=c,n.avail_out=r-c,c&&Jn.arraySet(n.output,n.output,l,c,0),this.onData(p)):this.onData(Jn.shrinkBuf(n.output,n.next_out))),n.avail_in===0&&n.avail_out===0&&(g=!0)}while((n.avail_in>0||n.avail_out===0)&&a!==Pe.Z_STREAM_END);return a===Pe.Z_STREAM_END&&(s=Pe.Z_FINISH),s===Pe.Z_FINISH?(a=Cn.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===Pe.Z_OK):(s===Pe.Z_SYNC_FLUSH&&(this.onEnd(Pe.Z_OK),n.avail_out=0),!0)};rn.prototype.onData=function(e){this.chunks.push(e)};rn.prototype.onEnd=function(e){e===Pe.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Jn.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Ns(e,t){var n=new rn(t);if(n.push(e,!0),n.err)throw n.msg||hs[n.err];return n.result}function Sf(e,t){return t=t||{},t.raw=!0,Ns(e,t)}fr.Inflate=rn;fr.inflate=Ns;fr.inflateRaw=Sf;fr.ungzip=Ns;var kf=Mt.assign,Af=ur,Cf=fr,Nf=uu,cu={};kf(cu,Af,Cf,Nf);var If=cu,ze={};Object.defineProperty(ze,"__esModule",{value:!0});ze.messageAssert=ze.messageError=ze.QuickTypeError=void 0;const Of={InternalError:"Internal error: ${message}",MiscJSONParseError:"Syntax error in ${description} JSON ${address}: ${message}",MiscReadError:"Cannot read from file or URL ${fileOrURL}: ${message}",MiscUnicodeHighSurrogateWithoutLowSurrogate:"Malformed unicode: High surrogate not followed by low surrogate",MiscInvalidMinMaxConstraint:"Invalid min-max constraint: ${min}-${max}",InferenceJSONReferenceNotRooted:"JSON reference doesn't start with '#/': ${reference}",InferenceJSONReferenceToUnion:"JSON reference points to a union type: ${reference}",InferenceJSONReferenceWrongProperty:"JSON reference points to a non-existant property: ${reference}",InferenceJSONReferenceInvalidArrayIndex:"JSON reference uses invalid array index: ${reference}",SchemaArrayIsInvalidSchema:"An array is not a valid JSON Schema at ${ref}",SchemaNullIsInvalidSchema:"null is not a valid JSON Schema at ${ref}",SchemaRefMustBeString:"$ref must be a string, but is an ${actual} at ${ref}",SchemaAdditionalTypesForbidRequired:"Can't have non-specified required properties but forbidden additionalTypes at ${ref}",SchemaNoTypeSpecified:"JSON Schema must specify at least one type at ${ref}",SchemaInvalidType:"Invalid type ${type} in JSON Schema at ${ref}",SchemaFalseNotSupported:'Schema "false" is not supported at ${ref}',SchemaInvalidJSONSchemaType:"Value of type ${type} is not valid JSON Schema at ${ref}",SchemaRequiredMustBeStringOrStringArray:"`required` must be string or array of strings, but is ${actual} at ${ref}",SchemaRequiredElementMustBeString:"`required` must contain only strings, but it has ${element}, at ${ref}",SchemaTypeMustBeStringOrStringArray:"`type` must be string or array of strings, but is ${actual}",SchemaTypeElementMustBeString:"`type` must contain only strings, but it has ${element}",SchemaArrayItemsMustBeStringOrArray:"Array items must be an array or an object, but is ${actual}",SchemaIDMustHaveAddress:"$id ${id} doesn't have an address at ${ref}",SchemaWrongAccessorEntryArrayLength:"Accessor entry array must have the same number of entries as the ${operation} at ${ref}",SchemaSetOperationCasesIsNotArray:"${operation} cases must be an array, but is ${cases}, at ${ref}",SchemaMoreThanOneUnionMemberName:"More than one name given for union member: ${names}",SchemaCannotGetTypesFromBoolean:"Schema value to get top-level types from must be an object, but is boolean, at ${ref}",SchemaCannotIndexArrayWithNonNumber:"Trying to index array in schema with key that is not a number, but is ${actual} at ${ref}",SchemaIndexNotInArray:"Index ${index} out of range of schema array at ${ref}",SchemaKeyNotInObject:"Key ${key} not in schema object at ${ref}",SchemaFetchError:"Could not fetch schema ${address}, referred to from ${base}",SchemaFetchErrorTopLevel:"Could not fetch top-level schema ${address}",SchemaFetchErrorAdditional:"Could not fetch additional schema ${address}",GraphQLNoQueriesDefined:"GraphQL file doesn't have any queries defined.",DriverUnknownSourceLanguage:"Unknown source language ${lang}",DriverUnknownOutputLanguage:"Unknown output language ${lang}",DriverMoreThanOneInputGiven:"More than one input given for top-level ${topLevel}",DriverCannotInferNameForSchema:"Cannot infer name for schema ${uri}",DriverNoGraphQLQueryGiven:"Please specify at least one GraphQL query as input",DriverNoGraphQLSchemaInDir:"No GraphQL schema in ${dir}",DriverMoreThanOneGraphQLSchemaInDir:"More than one GraphQL schema in ${dir}",DriverSourceLangMustBeGraphQL:"If a GraphQL schema is specified, the source language must be GraphQL",DriverGraphQLSchemaNeeded:"Please specify a GraphQL schema with --graphql-schema or --graphql-introspect",DriverInputFileDoesNotExist:"Input file ${filename} does not exist",DriverCannotMixJSONWithOtherSamples:"Cannot mix JSON samples with JSON Schems, GraphQL, or TypeScript in input subdirectory ${dir}",DriverCannotMixNonJSONInputs:"Cannot mix JSON Schema, GraphQL, and TypeScript in an input subdirectory ${dir}",DriverUnknownDebugOption:"Unknown debug option ${option}",DriverNoLanguageOrExtension:"Please specify a language (--lang) or an output file extension",DriverCLIOptionParsingFailed:"Option parsing failed: ${message}",IRNoForwardDeclarableTypeInCycle:"Cannot resolve cycle because it doesn't contain types that can be forward declared",IRTypeAttributesNotPropagated:"Type attributes for ${count} types were not carried over to the new graph: ${indexes}",IRNoEmptyUnions:"Trying to make an empty union - do you have an impossible type in your schema?",RendererUnknownOptionValue:"Unknown value ${value} for option ${name}",TypeScriptCompilerError:"TypeScript error: ${message}"};class fu extends Error{constructor(t,n,r,i){super(r),this.errorMessage=t,this.messageName=n,this.properties=i}}ze.QuickTypeError=fu;function du(e,t){const n=Of[e];let r=n;const i=t;for(const a of Object.getOwnPropertyNames(i)){let s=i[a];typeof s=="object"&&typeof s.toString=="function"?s=s.toString():typeof s.message=="string"?s=s.message:typeof s!="string"&&(s=JSON.stringify(s)),r=r.replace("${"+a+"}",s)}throw new fu(n,e,r,i)}ze.messageError=du;function Lf(e,t,n){if(!e)return du(t,n)}ze.messageAssert=Lf;const Is=Symbol.for("yaml.alias"),ps=Symbol.for("yaml.document"),Gt=Symbol.for("yaml.map"),hu=Symbol.for("yaml.pair"),Lt=Symbol.for("yaml.scalar"),Pn=Symbol.for("yaml.seq"),it=Symbol.for("yaml.node.type"),Kt=e=>!!e&&typeof e=="object"&&e[it]===Is,Fn=e=>!!e&&typeof e=="object"&&e[it]===ps,Ht=e=>!!e&&typeof e=="object"&&e[it]===Gt,Ne=e=>!!e&&typeof e=="object"&&e[it]===hu,Se=e=>!!e&&typeof e=="object"&&e[it]===Lt,cn=e=>!!e&&typeof e=="object"&&e[it]===Pn;function Oe(e){if(e&&typeof e=="object")switch(e[it]){case Gt:case Pn:return!0}return!1}function Re(e){if(e&&typeof e=="object")switch(e[it]){case Is:case Gt:case Lt:case Pn:return!0}return!1}const Ef=e=>(Se(e)||Oe(e))&&!!e.anchor;class Os{constructor(t){Object.defineProperty(this,it,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}}const qe=Symbol("break visit"),pu=Symbol("skip children"),vt=Symbol("remove node");function Et(e,t){const n=mu(t);Fn(e)?_n(null,e.contents,n,Object.freeze([e]))===vt&&(e.contents=null):_n(null,e,n,Object.freeze([]))}Et.BREAK=qe;Et.SKIP=pu;Et.REMOVE=vt;function _n(e,t,n,r){const i=gu(e,t,n,r);if(Re(i)||Ne(i))return yu(e,r,i),_n(e,i,n,r);if(typeof i!="symbol"){if(Oe(t)){r=Object.freeze(r.concat(t));for(let a=0;a<t.items.length;++a){const s=_n(a,t.items[a],n,r);if(typeof s=="number")a=s-1;else{if(s===qe)return qe;s===vt&&(t.items.splice(a,1),a-=1)}}}else if(Ne(t)){r=Object.freeze(r.concat(t));const a=_n("key",t.key,n,r);if(a===qe)return qe;a===vt&&(t.key=null);const s=_n("value",t.value,n,r);if(s===qe)return qe;s===vt&&(t.value=null)}}return i}async function dr(e,t){const n=mu(t);Fn(e)?await wn(null,e.contents,n,Object.freeze([e]))===vt&&(e.contents=null):await wn(null,e,n,Object.freeze([]))}dr.BREAK=qe;dr.SKIP=pu;dr.REMOVE=vt;async function wn(e,t,n,r){const i=await gu(e,t,n,r);if(Re(i)||Ne(i))return yu(e,r,i),wn(e,i,n,r);if(typeof i!="symbol"){if(Oe(t)){r=Object.freeze(r.concat(t));for(let a=0;a<t.items.length;++a){const s=await wn(a,t.items[a],n,r);if(typeof s=="number")a=s-1;else{if(s===qe)return qe;s===vt&&(t.items.splice(a,1),a-=1)}}}else if(Ne(t)){r=Object.freeze(r.concat(t));const a=await wn("key",t.key,n,r);if(a===qe)return qe;a===vt&&(t.key=null);const s=await wn("value",t.value,n,r);if(s===qe)return qe;s===vt&&(t.value=null)}}return i}function mu(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function gu(e,t,n,r){var i,a,s,l,c;if(typeof n=="function")return n(e,t,r);if(Ht(t))return(i=n.Map)==null?void 0:i.call(n,e,t,r);if(cn(t))return(a=n.Seq)==null?void 0:a.call(n,e,t,r);if(Ne(t))return(s=n.Pair)==null?void 0:s.call(n,e,t,r);if(Se(t))return(l=n.Scalar)==null?void 0:l.call(n,e,t,r);if(Kt(t))return(c=n.Alias)==null?void 0:c.call(n,e,t,r)}function yu(e,t,n){const r=t[t.length-1];if(Oe(r))r.items[e]=n;else if(Ne(r))e==="key"?r.key=n:r.value=n;else if(Fn(r))r.contents=n;else{const i=Kt(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const Mf={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Rf=e=>e.replace(/[!,[\]{}]/g,t=>Mf[t]);class $e{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},$e.defaultYaml,t),this.tags=Object.assign({},$e.defaultTags,n)}clone(){const t=new $e(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new $e(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:$e.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},$e.defaultTags);break}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:$e.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},$e.defaultTags),this.atNextDocument=!1);const r=t.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[a,s]=r;return this.tags[a]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[a]=r;if(a==="1.1"||a==="1.2")return this.yaml.version=a,!0;{const s=/^\d+\.\d+$/.test(a);return n(6,`Unsupported YAML version ${a}`,s),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(t,n){if(t==="!")return"!";if(t[0]!=="!")return n(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const s=t.slice(2,-1);return s==="!"||s==="!!"?(n(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&n("Verbatim tags must end with a >"),s)}const[,r,i]=t.match(/^(.*!)([^!]*)$/);i||n(`The ${t} tag has no suffix`);const a=this.tags[r];return a?a+decodeURIComponent(i):r==="!"?t:(n(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[n,r]of Object.entries(this.tags))if(t.startsWith(r))return n+Rf(t.substring(r.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let i;if(t&&r.length>0&&Re(t.contents)){const a={};Et(t.contents,(s,l)=>{Re(l)&&l.tag&&(a[l.tag]=!0)}),i=Object.keys(a)}else i=[];for(const[a,s]of r)a==="!!"&&s==="tag:yaml.org,2002:"||(!t||i.some(l=>l.startsWith(s)))&&n.push(`%TAG ${a} ${s}`);return n.join(`
`)}}$e.defaultYaml={explicit:!1,version:"1.2"};$e.defaultTags={"!!":"tag:yaml.org,2002:"};function bu(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(n)}return!0}function Tu(e){const t=new Set;return Et(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function vu(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function Pf(e,t){const n=[],r=new Map;let i=null;return{onAnchor:a=>{n.push(a),i||(i=Tu(e));const s=vu(t,i);return i.add(s),s},setAnchors:()=>{for(const a of n){const s=r.get(a);if(typeof s=="object"&&s.anchor&&(Se(s.node)||Oe(s.node)))s.node.anchor=s.anchor;else{const l=new Error("Failed to resolve repeated object (this should not happen)");throw l.source=a,l}}},sourceObjects:r}}class hr extends Os{constructor(t){super(Is),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let n;return Et(t,{Node:(r,i)=>{if(i===this)return Et.BREAK;i.anchor===this.source&&(n=i)}}),n}toJSON(t,n){if(!n)return{source:this.source};const{anchors:r,doc:i,maxAliasCount:a}=n,s=this.resolve(i);if(!s){const c=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(c)}const l=r.get(s);if(!l||l.res===void 0){const c="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(c)}if(a>=0&&(l.count+=1,l.aliasCount===0&&(l.aliasCount=Br(i,s,r)),l.count*l.aliasCount>a)){const c="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(c)}return l.res}toString(t,n,r){const i=`*${this.source}`;if(t){if(bu(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const a=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(a)}if(t.implicitKey)return`${i} `}return i}}function Br(e,t,n){if(Kt(t)){const r=t.resolve(e),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(Oe(t)){let r=0;for(const i of t.items){const a=Br(e,i,n);a>r&&(r=a)}return r}else if(Ne(t)){const r=Br(e,t.key,n),i=Br(e,t.value,n);return Math.max(r,i)}return 1}function _t(e,t,n){if(Array.isArray(e))return e.map((r,i)=>_t(r,String(i),n));if(e&&typeof e.toJSON=="function"){if(!n||!Ef(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=a=>{r.res=a,delete n.onCreate};const i=e.toJSON(t,n);return n.onCreate&&n.onCreate(i),i}return typeof e=="bigint"&&!(n!=null&&n.keep)?Number(e):e}const _u=e=>!e||typeof e!="function"&&typeof e!="object";class de extends Os{constructor(t){super(Lt),this.value=t}toJSON(t,n){return n!=null&&n.keep?this.value:_t(this.value,t,n)}toString(){return String(this.value)}}de.BLOCK_FOLDED="BLOCK_FOLDED";de.BLOCK_LITERAL="BLOCK_LITERAL";de.PLAIN="PLAIN";de.QUOTE_DOUBLE="QUOTE_DOUBLE";de.QUOTE_SINGLE="QUOTE_SINGLE";const Ff="tag:yaml.org,2002:";function Df(e,t,n){if(t){const r=n.filter(a=>a.tag===t),i=r.find(a=>!a.format)??r[0];if(!i)throw new Error(`Tag ${t} not found`);return i}return n.find(r=>{var i;return((i=r.identify)==null?void 0:i.call(r,e))&&!r.format})}function rr(e,t,n){var y,w;if(Fn(e)&&(e=e.contents),Re(e))return e;if(Ne(e)){const d=(w=(y=n.schema[Gt]).createNode)==null?void 0:w.call(y,n.schema,null,n);return d.items.push(e),d}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:i,onTagObj:a,schema:s,sourceObjects:l}=n;let c;if(r&&e&&typeof e=="object"){if(c=l.get(e),c)return c.anchor||(c.anchor=i(e)),new hr(c.anchor);c={anchor:null,node:null},l.set(e,c)}t!=null&&t.startsWith("!!")&&(t=Ff+t.slice(2));let p=Df(e,t,s.tags);if(!p){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const d=new de(e);return c&&(c.node=d),d}p=e instanceof Map?s[Gt]:Symbol.iterator in Object(e)?s[Pn]:s[Gt]}a&&(a(p),delete n.onTagObj);const g=p!=null&&p.createNode?p.createNode(n.schema,e,n):new de(e);return t&&(g.tag=t),c&&(c.node=g),g}function Kr(e,t,n){let r=n;for(let i=t.length-1;i>=0;--i){const a=t[i];if(typeof a=="number"&&Number.isInteger(a)&&a>=0){const s=[];s[a]=r,r=s}else r=new Map([[a,r]])}return rr(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const $n=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class ti extends Os{constructor(t,n){super(t),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(t){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(n.schema=t),n.items=n.items.map(r=>Re(r)||Ne(r)?r.clone(t):r),this.range&&(n.range=this.range.slice()),n}addIn(t,n){if($n(t))this.add(n);else{const[r,...i]=t,a=this.get(r,!0);if(Oe(a))a.addIn(i,n);else if(a===void 0&&this.schema)this.set(r,Kr(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(t){const[n,...r]=t;if(r.length===0)return this.delete(n);const i=this.get(n,!0);if(Oe(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(t,n){const[r,...i]=t,a=this.get(r,!0);return i.length===0?!n&&Se(a)?a.value:a:Oe(a)?a.getIn(i,n):void 0}hasAllNullValues(t){return this.items.every(n=>{if(!Ne(n))return!1;const r=n.value;return r==null||t&&Se(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(t){const[n,...r]=t;if(r.length===0)return this.has(n);const i=this.get(n,!0);return Oe(i)?i.hasIn(r):!1}setIn(t,n){const[r,...i]=t;if(i.length===0)this.set(r,n);else{const a=this.get(r,!0);if(Oe(a))a.setIn(i,n);else if(a===void 0&&this.schema)this.set(r,Kr(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}}ti.maxFlowStringSingleLineLength=60;const Bf=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function Ot(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const zt=(e,t,n)=>e.endsWith(`
`)?Ot(n,t):n.includes(`
`)?`
`+Ot(n,t):(e.endsWith(" ")?"":" ")+n,wu="flow",ms="block",Ur="quoted";function ni(e,t,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:a=20,onFold:s,onOverflow:l}={}){if(!i||i<0)return e;const c=Math.max(1+a,1+i-t.length);if(e.length<=c)return e;const p=[],g={};let y=i-t.length;typeof r=="number"&&(r>i-Math.max(2,a)?p.push(0):y=i-r);let w,d,b=!1,m=-1,T=-1,C=-1;n===ms&&(m=Ka(e,m),m!==-1&&(y=m+c));for(let z;z=e[m+=1];){if(n===Ur&&z==="\\"){switch(T=m,e[m+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}C=m}if(z===`
`)n===ms&&(m=Ka(e,m)),y=m+c,w=void 0;else{if(z===" "&&d&&d!==" "&&d!==`
`&&d!=="	"){const U=e[m+1];U&&U!==" "&&U!==`
`&&U!=="	"&&(w=m)}if(m>=y)if(w)p.push(w),y=w+c,w=void 0;else if(n===Ur){for(;d===" "||d==="	";)d=z,z=e[m+=1],b=!0;const U=m>C+1?m-2:T-1;if(g[U])return e;p.push(U),g[U]=!0,y=U+c,w=void 0}else b=!0}d=z}if(b&&l&&l(),p.length===0)return e;s&&s();let P=e.slice(0,p[0]);for(let z=0;z<p.length;++z){const U=p[z],B=p[z+1]||e.length;U===0?P=`
${t}${e.slice(0,B)}`:(n===Ur&&g[U]&&(P+=`${e[U]}\\`),P+=`
${t}${e.slice(U+1,B)}`)}return P}function Ka(e,t){let n=e[t+1];for(;n===" "||n==="	";){do n=e[t+=1];while(n&&n!==`
`);n=e[t+1]}return t}const ri=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),ii=e=>/^(%|---|\.\.\.)/m.test(e);function Uf(e,t,n){if(!t||t<0)return!1;const r=t-n,i=e.length;if(i<=r)return!1;for(let a=0,s=0;a<i;++a)if(e[a]===`
`){if(a-s>r)return!0;if(s=a+1,i-s<=r)return!1}return!0}function Qn(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,i=t.options.doubleQuotedMinMultiLineLength,a=t.indent||(ii(e)?"  ":"");let s="",l=0;for(let c=0,p=n[c];p;p=n[++c])if(p===" "&&n[c+1]==="\\"&&n[c+2]==="n"&&(s+=n.slice(l,c)+"\\ ",c+=1,l=c,p="\\"),p==="\\")switch(n[c+1]){case"u":{s+=n.slice(l,c);const g=n.substr(c+2,4);switch(g){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:g.substr(0,2)==="00"?s+="\\x"+g.substr(2):s+=n.substr(c,6)}c+=5,l=c+1}break;case"n":if(r||n[c+2]==='"'||n.length<i)c+=1;else{for(s+=n.slice(l,c)+`

`;n[c+2]==="\\"&&n[c+3]==="n"&&n[c+4]!=='"';)s+=`
`,c+=2;s+=a,n[c+2]===" "&&(s+="\\"),c+=1,l=c+1}break;default:c+=1}return s=l?s+n.slice(l):n,r?s:ni(s,a,Ur,ri(t,!1))}function gs(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return Qn(e,t);const n=t.indent||(ii(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:ni(r,n,wu,ri(t,!1))}function Sn(e,t){const{singleQuote:n}=t.options;let r;if(n===!1)r=Qn;else{const i=e.includes('"'),a=e.includes("'");i&&!a?r=gs:a&&!i?r=Qn:r=n?gs:Qn}return r(e,t)}function xr({comment:e,type:t,value:n},r,i,a){const{blockQuote:s,commentString:l,lineWidth:c}=r.options;if(!s||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return Sn(n,r);const p=r.indent||(r.forceBlockIndent||ii(n)?"  ":""),g=s==="literal"?!0:s==="folded"||t===de.BLOCK_FOLDED?!1:t===de.BLOCK_LITERAL?!0:!Uf(n,c,p.length);if(!n)return g?`|
`:`>
`;let y,w;for(w=n.length;w>0;--w){const F=n[w-1];if(F!==`
`&&F!=="	"&&F!==" ")break}let d=n.substring(w);const b=d.indexOf(`
`);b===-1?y="-":n===d||b!==d.length-1?(y="+",a&&a()):y="",d&&(n=n.slice(0,-d.length),d[d.length-1]===`
`&&(d=d.slice(0,-1)),d=d.replace(/\n+(?!\n|$)/g,`$&${p}`));let m=!1,T,C=-1;for(T=0;T<n.length;++T){const F=n[T];if(F===" ")m=!0;else if(F===`
`)C=T;else break}let P=n.substring(0,C<T?C+1:T);P&&(n=n.substring(P.length),P=P.replace(/\n+/g,`$&${p}`));let U=(g?"|":">")+(m?p?"2":"1":"")+y;if(e&&(U+=" "+l(e.replace(/ ?[\r\n]+/g," ")),i&&i()),g)return n=n.replace(/\n+/g,`$&${p}`),`${U}
${p}${P}${n}${d}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${p}`);const B=ni(`${P}${n}${d}`,p,ms,ri(r,!0));return`${U}
${p}${B}`}function xf(e,t,n,r){const{type:i,value:a}=e,{actualString:s,implicitKey:l,indent:c,indentStep:p,inFlow:g}=t;if(l&&/[\n[\]{},]/.test(a)||g&&/[[\]{},]/.test(a))return Sn(a,t);if(!a||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(a))return l||g||!a.includes(`
`)?Sn(a,t):xr(e,t,n,r);if(!l&&!g&&i!==de.PLAIN&&a.includes(`
`))return xr(e,t,n,r);if(ii(a)){if(c==="")return t.forceBlockIndent=!0,xr(e,t,n,r);if(l&&c===p)return Sn(a,t)}const y=a.replace(/\n+/g,`$&
${c}`);if(s){const w=m=>{var T;return m.default&&m.tag!=="tag:yaml.org,2002:str"&&((T=m.test)==null?void 0:T.test(y))},{compat:d,tags:b}=t.doc.schema;if(b.some(w)||d!=null&&d.some(w))return Sn(a,t)}return l?y:ni(y,c,wu,ri(t,!1))}function pr(e,t,n,r){const{implicitKey:i,inFlow:a}=t,s=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:l}=e;l!==de.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(l=de.QUOTE_DOUBLE);const c=g=>{switch(g){case de.BLOCK_FOLDED:case de.BLOCK_LITERAL:return i||a?Sn(s.value,t):xr(s,t,n,r);case de.QUOTE_DOUBLE:return Qn(s.value,t);case de.QUOTE_SINGLE:return gs(s.value,t);case de.PLAIN:return xf(s,t,n,r);default:return null}};let p=c(l);if(p===null){const{defaultKeyType:g,defaultStringType:y}=t.options,w=i&&g||y;if(p=c(w),p===null)throw new Error(`Unsupported default string type ${w}`)}return p}function Su(e,t){const n=Object.assign({blockQuote:!0,commentString:Bf,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function zf(e,t){var i;if(t.tag){const a=e.filter(s=>s.tag===t.tag);if(a.length>0)return a.find(s=>s.format===t.format)??a[0]}let n,r;if(Se(t)){r=t.value;const a=e.filter(s=>{var l;return(l=s.identify)==null?void 0:l.call(s,r)});n=a.find(s=>s.format===t.format)??a.find(s=>!s.format)}else r=t,n=e.find(a=>a.nodeClass&&r instanceof a.nodeClass);if(!n){const a=((i=r==null?void 0:r.constructor)==null?void 0:i.name)??typeof r;throw new Error(`Tag not resolved for ${a} value`)}return n}function $f(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const i=[],a=(Se(e)||Oe(e))&&e.anchor;a&&bu(a)&&(n.add(a),i.push(`&${a}`));const s=e.tag?e.tag:t.default?null:t.tag;return s&&i.push(r.directives.tagString(s)),i.join(" ")}function sn(e,t,n,r){var c;if(Ne(e))return e.toString(t,n,r);if(Kt(e)){if(t.doc.directives)return e.toString(t);if((c=t.resolvedAliases)!=null&&c.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i;const a=Re(e)?e:t.doc.createNode(e,{onTagObj:p=>i=p});i||(i=zf(t.doc.schema.tags,a));const s=$f(a,i,t);s.length>0&&(t.indentAtStart=(t.indentAtStart??0)+s.length+1);const l=typeof i.stringify=="function"?i.stringify(a,t,n,r):Se(a)?pr(a,t,n,r):a.toString(t,n,r);return s?Se(a)||l[0]==="{"||l[0]==="["?`${s} ${l}`:`${s}
${t.indent}${l}`:l}function jf({key:e,value:t},n,r,i){const{allNullValues:a,doc:s,indent:l,indentStep:c,options:{commentString:p,indentSeq:g,simpleKeys:y}}=n;let w=Re(e)&&e.comment||null;if(y){if(w)throw new Error("With simple keys, key nodes cannot have comments");if(Oe(e)){const D="With simple keys, collection cannot be used as a key value";throw new Error(D)}}let d=!y&&(!e||w&&t==null&&!n.inFlow||Oe(e)||(Se(e)?e.type===de.BLOCK_FOLDED||e.type===de.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!d&&(y||!a),indent:l+c});let b=!1,m=!1,T=sn(e,n,()=>b=!0,()=>m=!0);if(!d&&!n.inFlow&&T.length>1024){if(y)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");d=!0}if(n.inFlow){if(a||t==null)return b&&r&&r(),T===""?"?":d?`? ${T}`:T}else if(a&&!y||t==null&&d)return T=`? ${T}`,w&&!b?T+=zt(T,n.indent,p(w)):m&&i&&i(),T;b&&(w=null),d?(w&&(T+=zt(T,n.indent,p(w))),T=`? ${T}
${l}:`):(T=`${T}:`,w&&(T+=zt(T,n.indent,p(w))));let C,P,z;Re(t)?(C=!!t.spaceBefore,P=t.commentBefore,z=t.comment):(C=!1,P=null,z=null,t&&typeof t=="object"&&(t=s.createNode(t))),n.implicitKey=!1,!d&&!w&&Se(t)&&(n.indentAtStart=T.length+1),m=!1,!g&&c.length>=2&&!n.inFlow&&!d&&cn(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let U=!1;const B=sn(t,n,()=>U=!0,()=>m=!0);let F=" ";if(w||C||P){if(F=C?`
`:"",P){const D=p(P);F+=`
${Ot(D,n.indent)}`}B===""&&!n.inFlow?F===`
`&&(F=`

`):F+=`
${n.indent}`}else if(!d&&Oe(t)){const D=B[0],R=B.indexOf(`
`),G=R!==-1,Q=n.inFlow??t.flow??t.items.length===0;if(G||!Q){let Z=!1;if(G&&(D==="&"||D==="!")){let V=B.indexOf(" ");D==="&"&&V!==-1&&V<R&&B[V+1]==="!"&&(V=B.indexOf(" ",V+1)),(V===-1||R<V)&&(Z=!0)}Z||(F=`
${n.indent}`)}}else(B===""||B[0]===`
`)&&(F="");return T+=F+B,n.inFlow?U&&r&&r():z&&!U?T+=zt(T,n.indent,p(z)):m&&i&&i(),T}function ku(e,t){(e==="debug"||e==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(t):console.warn(t))}const Ha="<<";function Au(e,t,{key:n,value:r}){if(e!=null&&e.doc.schema.merge&&Gf(n))if(r=Kt(r)?r.resolve(e.doc):r,cn(r))for(const i of r.items)ji(e,t,i);else if(Array.isArray(r))for(const i of r)ji(e,t,i);else ji(e,t,r);else{const i=_t(n,"",e);if(t instanceof Map)t.set(i,_t(r,i,e));else if(t instanceof Set)t.add(i);else{const a=qf(n,i,e),s=_t(r,a,e);a in t?Object.defineProperty(t,a,{value:s,writable:!0,enumerable:!0,configurable:!0}):t[a]=s}}return t}const Gf=e=>e===Ha||Se(e)&&e.value===Ha&&(!e.type||e.type===de.PLAIN);function ji(e,t,n){const r=e&&Kt(n)?n.resolve(e.doc):n;if(!Ht(r))throw new Error("Merge sources must be maps or map aliases");const i=r.toJSON(null,e,Map);for(const[a,s]of i)t instanceof Map?t.has(a)||t.set(a,s):t instanceof Set?t.add(a):Object.prototype.hasOwnProperty.call(t,a)||Object.defineProperty(t,a,{value:s,writable:!0,enumerable:!0,configurable:!0});return t}function qf(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if(Re(e)&&n&&n.doc){const r=Su(n.doc,{});r.anchors=new Set;for(const a of n.anchors.keys())r.anchors.add(a.anchor);r.inFlow=!0,r.inStringifyKey=!0;const i=e.toString(r);if(!n.mapKeyWarned){let a=JSON.stringify(i);a.length>40&&(a=a.substring(0,36)+'..."'),ku(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${a}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(t)}function Ls(e,t,n){const r=rr(e,void 0,n),i=rr(t,void 0,n);return new xe(r,i)}class xe{constructor(t,n=null){Object.defineProperty(this,it,{value:hu}),this.key=t,this.value=n}clone(t){let{key:n,value:r}=this;return Re(n)&&(n=n.clone(t)),Re(r)&&(r=r.clone(t)),new xe(n,r)}toJSON(t,n){const r=n!=null&&n.mapAsMap?new Map:{};return Au(n,r,this)}toString(t,n,r){return t!=null&&t.doc?jf(this,t,n,r):JSON.stringify(this)}}function Cu(e,t,n){return(t.inFlow??e.flow?Hf:Kf)(e,t,n)}function Kf({comment:e,items:t},n,{blockItemPrefix:r,flowChars:i,itemIndent:a,onChompKeep:s,onComment:l}){const{indent:c,options:{commentString:p}}=n,g=Object.assign({},n,{indent:a,type:null});let y=!1;const w=[];for(let b=0;b<t.length;++b){const m=t[b];let T=null;if(Re(m))!y&&m.spaceBefore&&w.push(""),Hr(n,w,m.commentBefore,y),m.comment&&(T=m.comment);else if(Ne(m)){const P=Re(m.key)?m.key:null;P&&(!y&&P.spaceBefore&&w.push(""),Hr(n,w,P.commentBefore,y))}y=!1;let C=sn(m,g,()=>T=null,()=>y=!0);T&&(C+=zt(C,a,p(T))),y&&T&&(y=!1),w.push(r+C)}let d;if(w.length===0)d=i.start+i.end;else{d=w[0];for(let b=1;b<w.length;++b){const m=w[b];d+=m?`
${c}${m}`:`
`}}return e?(d+=`
`+Ot(p(e),c),l&&l()):y&&s&&s(),d}function Hf({comment:e,items:t},n,{flowChars:r,itemIndent:i,onComment:a}){const{indent:s,indentStep:l,flowCollectionPadding:c,options:{commentString:p}}=n;i+=l;const g=Object.assign({},n,{indent:i,inFlow:!0,type:null});let y=!1,w=0;const d=[];for(let C=0;C<t.length;++C){const P=t[C];let z=null;if(Re(P))P.spaceBefore&&d.push(""),Hr(n,d,P.commentBefore,!1),P.comment&&(z=P.comment);else if(Ne(P)){const B=Re(P.key)?P.key:null;B&&(B.spaceBefore&&d.push(""),Hr(n,d,B.commentBefore,!1),B.comment&&(y=!0));const F=Re(P.value)?P.value:null;F?(F.comment&&(z=F.comment),F.commentBefore&&(y=!0)):P.value==null&&B&&B.comment&&(z=B.comment)}z&&(y=!0);let U=sn(P,g,()=>z=null);C<t.length-1&&(U+=","),z&&(U+=zt(U,i,p(z))),!y&&(d.length>w||U.includes(`
`))&&(y=!0),d.push(U),w=d.length}let b;const{start:m,end:T}=r;if(d.length===0)b=m+T;else if(y||(y=d.reduce((P,z)=>P+z.length+2,2)>ti.maxFlowStringSingleLineLength),y){b=m;for(const C of d)b+=C?`
${l}${s}${C}`:`
`;b+=`
${s}${T}`}else b=`${m}${c}${d.join(" ")}${c}${T}`;return e&&(b+=zt(b,s,p(e)),a&&a()),b}function Hr({indent:e,options:{commentString:t}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){const a=Ot(t(r),e);n.push(a.trimStart())}}function Zt(e,t){const n=Se(t)?t.value:t;for(const r of e)if(Ne(r)&&(r.key===t||r.key===n||Se(r.key)&&r.key.value===n))return r}class Ve extends ti{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(Gt,t),this.items=[]}add(t,n){var s;let r;Ne(t)?r=t:!t||typeof t!="object"||!("key"in t)?r=new xe(t,t==null?void 0:t.value):r=new xe(t.key,t.value);const i=Zt(this.items,r.key),a=(s=this.schema)==null?void 0:s.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);Se(i.value)&&_u(r.value)?i.value.value=r.value:i.value=r.value}else if(a){const l=this.items.findIndex(c=>a(r,c)<0);l===-1?this.items.push(r):this.items.splice(l,0,r)}else this.items.push(r)}delete(t){const n=Zt(this.items,t);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(t,n){const r=Zt(this.items,t),i=r==null?void 0:r.value;return(!n&&Se(i)?i.value:i)??void 0}has(t){return!!Zt(this.items,t)}set(t,n){this.add(new xe(t,n),!0)}toJSON(t,n,r){const i=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(i);for(const a of this.items)Au(n,i,a);return i}toString(t,n,r){if(!t)return JSON.stringify(this);for(const i of this.items)if(!Ne(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),Cu(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:r,onComment:n})}}function Wf(e,t,n){const{keepUndefined:r,replacer:i}=n,a=new Ve(e),s=(l,c)=>{if(typeof i=="function")c=i.call(t,l,c);else if(Array.isArray(i)&&!i.includes(l))return;(c!==void 0||r)&&a.items.push(Ls(l,c,n))};if(t instanceof Map)for(const[l,c]of t)s(l,c);else if(t&&typeof t=="object")for(const l of Object.keys(t))s(l,t[l]);return typeof e.sortMapEntries=="function"&&a.items.sort(e.sortMapEntries),a}const Dn={collection:"map",createNode:Wf,default:!0,nodeClass:Ve,tag:"tag:yaml.org,2002:map",resolve(e,t){return Ht(e)||t("Expected a mapping for this tag"),e}};class Wt extends ti{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(Pn,t),this.items=[]}add(t){this.items.push(t)}delete(t){const n=Or(t);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(t,n){const r=Or(t);if(typeof r!="number")return;const i=this.items[r];return!n&&Se(i)?i.value:i}has(t){const n=Or(t);return typeof n=="number"&&n<this.items.length}set(t,n){const r=Or(t);if(typeof r!="number")throw new Error(`Expected a valid index, not ${t}.`);const i=this.items[r];Se(i)&&_u(n)?i.value=n:this.items[r]=n}toJSON(t,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let i=0;for(const a of this.items)r.push(_t(a,String(i++),n));return r}toString(t,n,r){return t?Cu(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}}function Or(e){let t=Se(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}function Vf(e,t,n){const{replacer:r}=n,i=new Wt(e);if(t&&Symbol.iterator in Object(t)){let a=0;for(let s of t){if(typeof r=="function"){const l=t instanceof Set?s:String(a++);s=r.call(t,l,s)}i.items.push(rr(s,void 0,n))}}return i}const Bn={collection:"seq",createNode:Vf,default:!0,nodeClass:Wt,tag:"tag:yaml.org,2002:seq",resolve(e,t){return cn(e)||t("Expected a sequence for this tag"),e}},si={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),pr(e,t,n,r)}},ai={identify:e=>e==null,createNode:()=>new de(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new de(null),stringify:({source:e},t)=>typeof e=="string"&&ai.test.test(e)?e:t.options.nullStr},Es={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new de(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&Es.test.test(e)){const r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function ft({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);const i=typeof r=="number"?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let a=JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(a)){let s=a.indexOf(".");s<0&&(s=a.length,a+=".");let l=t-(a.length-s-1);for(;l-- >0;)a+="0"}return a}const Nu={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:ft},Iu={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():ft(e)}},Ou={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new de(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:ft},oi=e=>typeof e=="bigint"||Number.isInteger(e),Ms=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function Lu(e,t,n){const{value:r}=e;return oi(r)&&r>=0?n+r.toString(t):ft(e)}const Eu={identify:e=>oi(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>Ms(e,2,8,n),stringify:e=>Lu(e,8,"0o")},Mu={identify:oi,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>Ms(e,0,10,n),stringify:ft},Ru={identify:e=>oi(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>Ms(e,2,16,n),stringify:e=>Lu(e,16,"0x")},Jf=[Dn,Bn,si,ai,Es,Eu,Mu,Ru,Nu,Iu,Ou];function Wa(e){return typeof e=="bigint"||Number.isInteger(e)}const Lr=({value:e})=>JSON.stringify(e),Qf=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:Lr},{identify:e=>e==null,createNode:()=>new de(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Lr},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>e==="true",stringify:Lr},{identify:Wa,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>Wa(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:Lr}],Zf={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},Xf=[Dn,Bn].concat(Qf,Zf),Rs={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Buffer=="function")return Buffer.from(e,"base64");if(typeof atob=="function"){const n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,i,a){const s=n;let l;if(typeof Buffer=="function")l=s instanceof Buffer?s.toString("base64"):Buffer.from(s.buffer).toString("base64");else if(typeof btoa=="function"){let c="";for(let p=0;p<s.length;++p)c+=String.fromCharCode(s[p]);l=btoa(c)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=de.BLOCK_LITERAL),t!==de.QUOTE_DOUBLE){const c=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),p=Math.ceil(l.length/c),g=new Array(p);for(let y=0,w=0;y<p;++y,w+=c)g[y]=l.substr(w,c);l=g.join(t===de.BLOCK_LITERAL?`
`:" ")}return pr({comment:e,type:t,value:l},r,i,a)}};function Pu(e,t){if(cn(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!Ne(r)){if(Ht(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const i=r.items[0]||new xe(new de(null));if(r.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${r.commentBefore}
${i.key.commentBefore}`:r.commentBefore),r.comment){const a=i.value??i.key;a.comment=a.comment?`${r.comment}
${a.comment}`:r.comment}r=i}e.items[n]=Ne(r)?r:new xe(r)}}else t("Expected a sequence for this tag");return e}function Fu(e,t,n){const{replacer:r}=n,i=new Wt(e);i.tag="tag:yaml.org,2002:pairs";let a=0;if(t&&Symbol.iterator in Object(t))for(let s of t){typeof r=="function"&&(s=r.call(t,String(a++),s));let l,c;if(Array.isArray(s))if(s.length===2)l=s[0],c=s[1];else throw new TypeError(`Expected [key, value] tuple: ${s}`);else if(s&&s instanceof Object){const p=Object.keys(s);if(p.length===1)l=p[0],c=s[l];else throw new TypeError(`Expected { key: value } tuple: ${s}`)}else l=s;i.items.push(Ls(l,c,n))}return i}const Ps={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Pu,createNode:Fu};class Nn extends Wt{constructor(){super(),this.add=Ve.prototype.add.bind(this),this.delete=Ve.prototype.delete.bind(this),this.get=Ve.prototype.get.bind(this),this.has=Ve.prototype.has.bind(this),this.set=Ve.prototype.set.bind(this),this.tag=Nn.tag}toJSON(t,n){if(!n)return super.toJSON(t);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const i of this.items){let a,s;if(Ne(i)?(a=_t(i.key,"",n),s=_t(i.value,a,n)):a=_t(i,"",n),r.has(a))throw new Error("Ordered maps must not include duplicate keys");r.set(a,s)}return r}}Nn.tag="tag:yaml.org,2002:omap";const Fs={collection:"seq",identify:e=>e instanceof Map,nodeClass:Nn,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=Pu(e,t),r=[];for(const{key:i}of n.items)Se(i)&&(r.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new Nn,n)},createNode(e,t,n){const r=Fu(e,t,n),i=new Nn;return i.items=r.items,i}};function Du({value:e,source:t},n){return t&&(e?Bu:Uu).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const Bu={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new de(!0),stringify:Du},Uu={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new de(!1),stringify:Du},Yf={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:ft},ed={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():ft(e)}},td={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new de(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:ft},mr=e=>typeof e=="bigint"||Number.isInteger(e);function ui(e,t,n,{intAsBigInt:r}){const i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const s=BigInt(e);return i==="-"?BigInt(-1)*s:s}const a=parseInt(e,n);return i==="-"?-1*a:a}function Ds(e,t,n){const{value:r}=e;if(mr(r)){const i=r.toString(t);return r<0?"-"+n+i.substr(1):n+i}return ft(e)}const nd={identify:mr,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>ui(e,2,2,n),stringify:e=>Ds(e,2,"0b")},rd={identify:mr,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>ui(e,1,8,n),stringify:e=>Ds(e,8,"0")},id={identify:mr,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>ui(e,0,10,n),stringify:ft},sd={identify:mr,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>ui(e,2,16,n),stringify:e=>Ds(e,16,"0x")};class In extends Ve{constructor(t){super(t),this.tag=In.tag}add(t){let n;Ne(t)?n=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?n=new xe(t.key,null):n=new xe(t,null),Zt(this.items,n.key)||this.items.push(n)}get(t,n){const r=Zt(this.items,t);return!n&&Ne(r)?Se(r.key)?r.key.value:r.key:r}set(t,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=Zt(this.items,t);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new xe(t))}toJSON(t,n){return super.toJSON(t,n,Set)}toString(t,n,r){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}}In.tag="tag:yaml.org,2002:set";const Bs={collection:"map",identify:e=>e instanceof Set,nodeClass:In,default:!1,tag:"tag:yaml.org,2002:set",resolve(e,t){if(Ht(e)){if(e.hasAllNullValues(!0))return Object.assign(new In,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e},createNode(e,t,n){const{replacer:r}=n,i=new In(e);if(t&&Symbol.iterator in Object(t))for(let a of t)typeof r=="function"&&(a=r.call(t,a,a)),i.items.push(Ls(a,null,n));return i}};function Us(e,t){const n=e[0],r=n==="-"||n==="+"?e.substring(1):e,i=s=>t?BigInt(s):Number(s),a=r.replace(/_/g,"").split(":").reduce((s,l)=>s*i(60)+i(l),i(0));return n==="-"?i(-1)*a:a}function xu(e){let{value:t}=e,n=s=>s;if(typeof t=="bigint")n=s=>BigInt(s);else if(isNaN(t)||!isFinite(t))return ft(e);let r="";t<0&&(r="-",t*=n(-1));const i=n(60),a=[t%i];return t<60?a.unshift(0):(t=(t-a[0])/i,a.unshift(t%i),t>=60&&(t=(t-a[0])/i,a.unshift(t))),r+a.map(s=>s<10?"0"+String(s):String(s)).join(":").replace(/000000\d*$/,"")}const zu={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>Us(e,n),stringify:xu},$u={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>Us(e,!1),stringify:xu},li={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(li.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,i,a,s,l]=t.map(Number),c=t[7]?Number((t[7]+"00").substr(1,3)):0;let p=Date.UTC(n,r-1,i,a||0,s||0,l||0,c);const g=t[8];if(g&&g!=="Z"){let y=Us(g,!1);Math.abs(y)<30&&(y*=60),p-=6e4*y}return new Date(p)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},Va=[Dn,Bn,si,ai,Bu,Uu,nd,rd,id,sd,Yf,ed,td,Rs,Fs,Ps,Bs,zu,$u,li],Ja=new Map([["core",Jf],["failsafe",[Dn,Bn,si]],["json",Xf],["yaml11",Va],["yaml-1.1",Va]]),Qa={binary:Rs,bool:Es,float:Ou,floatExp:Iu,floatNaN:Nu,floatTime:$u,int:Mu,intHex:Ru,intOct:Eu,intTime:zu,map:Dn,null:ai,omap:Fs,pairs:Ps,seq:Bn,set:Bs,timestamp:li},ad={"tag:yaml.org,2002:binary":Rs,"tag:yaml.org,2002:omap":Fs,"tag:yaml.org,2002:pairs":Ps,"tag:yaml.org,2002:set":Bs,"tag:yaml.org,2002:timestamp":li};function Gi(e,t){let n=Ja.get(t);if(!n)if(Array.isArray(e))n=[];else{const r=Array.from(Ja.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${r} or define customTags array`)}if(Array.isArray(e))for(const r of e)n=n.concat(r);else typeof e=="function"&&(n=e(n.slice()));return n.map(r=>{if(typeof r!="string")return r;const i=Qa[r];if(i)return i;const a=Object.keys(Qa).map(s=>JSON.stringify(s)).join(", ");throw new Error(`Unknown custom tag "${r}"; use one of ${a}`)})}const od=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class gr{constructor({compat:t,customTags:n,merge:r,resolveKnownTags:i,schema:a,sortMapEntries:s,toStringDefaults:l}){this.compat=Array.isArray(t)?Gi(t,"compat"):t?Gi(null,t):null,this.merge=!!r,this.name=typeof a=="string"&&a||"core",this.knownTags=i?ad:{},this.tags=Gi(n,this.name),this.toStringOptions=l??null,Object.defineProperty(this,Gt,{value:Dn}),Object.defineProperty(this,Lt,{value:si}),Object.defineProperty(this,Pn,{value:Bn}),this.sortMapEntries=typeof s=="function"?s:s===!0?od:null}clone(){const t=Object.create(gr.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function ud(e,t){var c;const n=[];let r=t.directives===!0;if(t.directives!==!1&&e.directives){const p=e.directives.toString(e);p?(n.push(p),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const i=Su(e,t),{commentString:a}=i.options;if(e.commentBefore){n.length!==1&&n.unshift("");const p=a(e.commentBefore);n.unshift(Ot(p,""))}let s=!1,l=null;if(e.contents){if(Re(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const y=a(e.contents.commentBefore);n.push(Ot(y,""))}i.forceBlockIndent=!!e.comment,l=e.contents.comment}const p=l?void 0:()=>s=!0;let g=sn(e.contents,i,()=>l=null,p);l&&(g+=zt(g,"",a(l))),(g[0]==="|"||g[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${g}`:n.push(g)}else n.push(sn(e.contents,i));if((c=e.directives)!=null&&c.docEnd)if(e.comment){const p=a(e.comment);p.includes(`
`)?(n.push("..."),n.push(Ot(p,""))):n.push(`... ${p}`)}else n.push("...");else{let p=e.comment;p&&s&&(p=p.replace(/^\n+/,"")),p&&((!s||l)&&n[n.length-1]!==""&&n.push(""),n.push(Ot(a(p),"")))}return n.join(`
`)+`
`}function jn(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,a=r.length;i<a;++i){const s=r[i],l=jn(e,r,String(i),s);l===void 0?delete r[i]:l!==s&&(r[i]=l)}else if(r instanceof Map)for(const i of Array.from(r.keys())){const a=r.get(i),s=jn(e,r,i,a);s===void 0?r.delete(i):s!==a&&r.set(i,s)}else if(r instanceof Set)for(const i of Array.from(r)){const a=jn(e,r,i,i);a===void 0?r.delete(i):a!==i&&(r.delete(i),r.add(a))}else for(const[i,a]of Object.entries(r)){const s=jn(e,r,i,a);s===void 0?delete r[i]:s!==a&&(r[i]=s)}return e.call(t,n,r)}class fn{constructor(t,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,it,{value:ps});let i=null;typeof n=="function"||Array.isArray(n)?i=n:r===void 0&&n&&(r=n,n=void 0);const a=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},r);this.options=a;let{version:s}=a;r!=null&&r._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(s=this.directives.yaml.version)):this.directives=new $e({version:s}),this.setSchema(s,r),t===void 0?this.contents=null:this.contents=this.createNode(t,i,r)}clone(){const t=Object.create(fn.prototype,{[it]:{value:ps}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=Re(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){gn(this.contents)&&this.contents.add(t)}addIn(t,n){gn(this.contents)&&this.contents.addIn(t,n)}createAlias(t,n){if(!t.anchor){const r=Tu(this);t.anchor=!n||r.has(n)?vu(n||"a",r):n}return new hr(t.anchor)}createNode(t,n,r){let i;if(typeof n=="function")t=n.call({"":t},"",t),i=n;else if(Array.isArray(n)){const T=P=>typeof P=="number"||P instanceof String||P instanceof Number,C=n.filter(T).map(String);C.length>0&&(n=n.concat(C)),i=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:a,anchorPrefix:s,flow:l,keepUndefined:c,onTagObj:p,tag:g}=r??{},{onAnchor:y,setAnchors:w,sourceObjects:d}=Pf(this,s||"a"),b={aliasDuplicateObjects:a??!0,keepUndefined:c??!1,onAnchor:y,onTagObj:p,replacer:i,schema:this.schema,sourceObjects:d},m=rr(t,g,b);return l&&Oe(m)&&(m.flow=!0),w(),m}createPair(t,n,r={}){const i=this.createNode(t,null,r),a=this.createNode(n,null,r);return new xe(i,a)}delete(t){return gn(this.contents)?this.contents.delete(t):!1}deleteIn(t){return $n(t)?this.contents==null?!1:(this.contents=null,!0):gn(this.contents)?this.contents.deleteIn(t):!1}get(t,n){return Oe(this.contents)?this.contents.get(t,n):void 0}getIn(t,n){return $n(t)?!n&&Se(this.contents)?this.contents.value:this.contents:Oe(this.contents)?this.contents.getIn(t,n):void 0}has(t){return Oe(this.contents)?this.contents.has(t):!1}hasIn(t){return $n(t)?this.contents!==void 0:Oe(this.contents)?this.contents.hasIn(t):!1}set(t,n){this.contents==null?this.contents=Kr(this.schema,[t],n):gn(this.contents)&&this.contents.set(t,n)}setIn(t,n){$n(t)?this.contents=n:this.contents==null?this.contents=Kr(this.schema,Array.from(t),n):gn(this.contents)&&this.contents.setIn(t,n)}setSchema(t,n={}){typeof t=="number"&&(t=String(t));let r;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new $e({version:"1.1"}),r={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new $e({version:t}),r={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const i=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new gr(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:n,mapAsMap:r,maxAliasCount:i,onAnchor:a,reviver:s}={}){const l={anchors:new Map,doc:this,keep:!t,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100,stringify:sn},c=_t(this.contents,n??"",l);if(typeof a=="function")for(const{count:p,res:g}of l.anchors.values())a(g,p);return typeof s=="function"?jn(s,{"":c},"",c):c}toJSON(t,n){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:n})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const n=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return ud(this,t)}}function gn(e){if(Oe(e))return!0;throw new Error("Expected a YAML collection as document contents")}class ci extends Error{constructor(t,n,r,i){super(),this.name=t,this.code=r,this.message=i,this.pos=n}}class $t extends ci{constructor(t,n,r){super("YAMLParseError",t,n,r)}}class xs extends ci{constructor(t,n,r){super("YAMLWarning",t,n,r)}}const Wr=(e,t)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(l=>t.linePos(l));const{line:r,col:i}=n.linePos[0];n.message+=` at line ${r}, column ${i}`;let a=i-1,s=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(a>=60&&s.length>80){const l=Math.min(a-39,s.length-79);s="…"+s.substring(l),a-=l-1}if(s.length>80&&(s=s.substring(0,79)+"…"),r>1&&/^ *$/.test(s.substring(0,a))){let l=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);l.length>80&&(l=l.substring(0,79)+`…
`),s=l+s}if(/[^ ]/.test(s)){let l=1;const c=n.linePos[1];c&&c.line===r&&c.col>i&&(l=Math.max(1,Math.min(c.col-i,80-a)));const p=" ".repeat(a)+"^".repeat(l);n.message+=`:

${s}
${p}
`}};function On(e,{flow:t,indicator:n,next:r,offset:i,onError:a,startOnNewline:s}){let l=!1,c=s,p=s,g="",y="",w=!1,d=!1,b=!1,m=null,T=null,C=null,P=null,z=null;for(const F of e)switch(b&&(F.type!=="space"&&F.type!=="newline"&&F.type!=="comma"&&a(F.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),b=!1),F.type){case"space":!t&&c&&n!=="doc-start"&&F.source[0]==="	"&&a(F,"TAB_AS_INDENT","Tabs are not allowed as indentation"),p=!0;break;case"comment":{p||a(F,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const D=F.source.substring(1)||" ";g?g+=y+D:g=D,y="",c=!1;break}case"newline":c?g?g+=F.source:l=!0:y+=F.source,c=!0,w=!0,(m||T)&&(d=!0),p=!0;break;case"anchor":m&&a(F,"MULTIPLE_ANCHORS","A node can have at most one anchor"),F.source.endsWith(":")&&a(F.offset+F.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),m=F,z===null&&(z=F.offset),c=!1,p=!1,b=!0;break;case"tag":{T&&a(F,"MULTIPLE_TAGS","A node can have at most one tag"),T=F,z===null&&(z=F.offset),c=!1,p=!1,b=!0;break}case n:(m||T)&&a(F,"BAD_PROP_ORDER",`Anchors and tags must be after the ${F.source} indicator`),P&&a(F,"UNEXPECTED_TOKEN",`Unexpected ${F.source} in ${t??"collection"}`),P=F,c=!1,p=!1;break;case"comma":if(t){C&&a(F,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),C=F,c=!1,p=!1;break}default:a(F,"UNEXPECTED_TOKEN",`Unexpected ${F.type} token`),c=!1,p=!1}const U=e[e.length-1],B=U?U.offset+U.source.length:i;return b&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&a(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:C,found:P,spaceBefore:l,comment:g,hasNewline:w,hasNewlineAfterProp:d,anchor:m,tag:T,end:B,start:z??B}}function ir(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const n of t.start)if(n.type==="newline")return!0;if(t.sep){for(const n of t.sep)if(n.type==="newline")return!0}if(ir(t.key)||ir(t.value))return!0}return!1;default:return!0}}function ys(e,t,n){if((t==null?void 0:t.type)==="flow-collection"){const r=t.end[0];r.indent===e&&(r.source==="]"||r.source==="}")&&ir(t)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function ju(e,t,n){const{uniqueKeys:r}=e.options;if(r===!1)return!1;const i=typeof r=="function"?r:(a,s)=>a===s||Se(a)&&Se(s)&&a.value===s.value&&!(a.value==="<<"&&e.schema.merge);return t.some(a=>i(a.key,n))}const Za="All mapping items must start at the same column";function ld({composeNode:e,composeEmptyNode:t},n,r,i){var c;const a=new Ve(n.schema);n.atRoot&&(n.atRoot=!1);let s=r.offset,l=null;for(const p of r.items){const{start:g,key:y,sep:w,value:d}=p,b=On(g,{indicator:"explicit-key-ind",next:y??(w==null?void 0:w[0]),offset:s,onError:i,startOnNewline:!0}),m=!b.found;if(m){if(y&&(y.type==="block-seq"?i(s,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in y&&y.indent!==r.indent&&i(s,"BAD_INDENT",Za)),!b.anchor&&!b.tag&&!w){l=b.end,b.comment&&(a.comment?a.comment+=`
`+b.comment:a.comment=b.comment);continue}(b.hasNewlineAfterProp||ir(y))&&i(y??g[g.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((c=b.found)==null?void 0:c.indent)!==r.indent&&i(s,"BAD_INDENT",Za);const T=b.end,C=y?e(n,y,b,i):t(n,T,g,null,b,i);n.schema.compat&&ys(r.indent,y,i),ju(n,a.items,C)&&i(T,"DUPLICATE_KEY","Map keys must be unique");const P=On(w??[],{indicator:"map-value-ind",next:d,offset:C.range[2],onError:i,startOnNewline:!y||y.type==="block-scalar"});if(s=P.end,P.found){m&&((d==null?void 0:d.type)==="block-map"&&!P.hasNewline&&i(s,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&b.start<P.found.offset-1024&&i(C.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const z=d?e(n,d,P,i):t(n,s,w,null,P,i);n.schema.compat&&ys(r.indent,d,i),s=z.range[2];const U=new xe(C,z);n.options.keepSourceTokens&&(U.srcToken=p),a.items.push(U)}else{m&&i(C.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),P.comment&&(C.comment?C.comment+=`
`+P.comment:C.comment=P.comment);const z=new xe(C);n.options.keepSourceTokens&&(z.srcToken=p),a.items.push(z)}}return l&&l<s&&i(l,"IMPOSSIBLE","Map comment with trailing content"),a.range=[r.offset,s,l??s],a}function cd({composeNode:e,composeEmptyNode:t},n,r,i){const a=new Wt(n.schema);n.atRoot&&(n.atRoot=!1);let s=r.offset,l=null;for(const{start:c,value:p}of r.items){const g=On(c,{indicator:"seq-item-ind",next:p,offset:s,onError:i,startOnNewline:!0});if(!g.found)if(g.anchor||g.tag||p)p&&p.type==="block-seq"?i(g.end,"BAD_INDENT","All sequence items must start at the same column"):i(s,"MISSING_CHAR","Sequence item without - indicator");else{l=g.end,g.comment&&(a.comment=g.comment);continue}const y=p?e(n,p,g,i):t(n,g.end,c,null,g,i);n.schema.compat&&ys(r.indent,p,i),s=y.range[2],a.items.push(y)}return a.range=[r.offset,s,l??s],a}function yr(e,t,n,r){let i="";if(e){let a=!1,s="";for(const l of e){const{source:c,type:p}=l;switch(p){case"space":a=!0;break;case"comment":{n&&!a&&r(l,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const g=c.substring(1)||" ";i?i+=s+g:i=g,s="";break}case"newline":i&&(s+=c),a=!0;break;default:r(l,"UNEXPECTED_TOKEN",`Unexpected ${p} at node end`)}t+=c.length}}return{comment:i,offset:t}}const qi="Block collections are not allowed within flow collections",Ki=e=>e&&(e.type==="block-map"||e.type==="block-seq");function fd({composeNode:e,composeEmptyNode:t},n,r,i){const a=r.start.source==="{",s=a?"flow map":"flow sequence",l=a?new Ve(n.schema):new Wt(n.schema);l.flow=!0;const c=n.atRoot;c&&(n.atRoot=!1);let p=r.offset+r.start.source.length;for(let b=0;b<r.items.length;++b){const m=r.items[b],{start:T,key:C,sep:P,value:z}=m,U=On(T,{flow:s,indicator:"explicit-key-ind",next:C??(P==null?void 0:P[0]),offset:p,onError:i,startOnNewline:!1});if(!U.found){if(!U.anchor&&!U.tag&&!P&&!z){b===0&&U.comma?i(U.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${s}`):b<r.items.length-1&&i(U.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${s}`),U.comment&&(l.comment?l.comment+=`
`+U.comment:l.comment=U.comment),p=U.end;continue}!a&&n.options.strict&&ir(C)&&i(C,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(b===0)U.comma&&i(U.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${s}`);else if(U.comma||i(U.start,"MISSING_CHAR",`Missing , between ${s} items`),U.comment){let B="";e:for(const F of T)switch(F.type){case"comma":case"space":break;case"comment":B=F.source.substring(1);break e;default:break e}if(B){let F=l.items[l.items.length-1];Ne(F)&&(F=F.value??F.key),F.comment?F.comment+=`
`+B:F.comment=B,U.comment=U.comment.substring(B.length+1)}}if(!a&&!P&&!U.found){const B=z?e(n,z,U,i):t(n,U.end,P,null,U,i);l.items.push(B),p=B.range[2],Ki(z)&&i(B.range,"BLOCK_IN_FLOW",qi)}else{const B=U.end,F=C?e(n,C,U,i):t(n,B,T,null,U,i);Ki(C)&&i(F.range,"BLOCK_IN_FLOW",qi);const D=On(P??[],{flow:s,indicator:"map-value-ind",next:z,offset:F.range[2],onError:i,startOnNewline:!1});if(D.found){if(!a&&!U.found&&n.options.strict){if(P)for(const Q of P){if(Q===D.found)break;if(Q.type==="newline"){i(Q,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}U.start<D.found.offset-1024&&i(D.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else z&&("source"in z&&z.source&&z.source[0]===":"?i(z,"MISSING_CHAR",`Missing space after : in ${s}`):i(D.start,"MISSING_CHAR",`Missing , or : between ${s} items`));const R=z?e(n,z,D,i):D.found?t(n,D.end,P,null,D,i):null;R?Ki(z)&&i(R.range,"BLOCK_IN_FLOW",qi):D.comment&&(F.comment?F.comment+=`
`+D.comment:F.comment=D.comment);const G=new xe(F,R);if(n.options.keepSourceTokens&&(G.srcToken=m),a){const Q=l;ju(n,Q.items,F)&&i(B,"DUPLICATE_KEY","Map keys must be unique"),Q.items.push(G)}else{const Q=new Ve(n.schema);Q.flow=!0,Q.items.push(G),l.items.push(Q)}p=R?R.range[2]:D.end}}const g=a?"}":"]",[y,...w]=r.end;let d=p;if(y&&y.source===g)d=y.offset+y.source.length;else{const b=s[0].toUpperCase()+s.substring(1),m=c?`${b} must end with a ${g}`:`${b} in block collection must be sufficiently indented and end with a ${g}`;i(p,c?"MISSING_CHAR":"BAD_INDENT",m),y&&y.source.length!==1&&w.unshift(y)}if(w.length>0){const b=yr(w,d,n.options.strict,i);b.comment&&(l.comment?l.comment+=`
`+b.comment:l.comment=b.comment),l.range=[r.offset,d,b.offset]}else l.range=[r.offset,d,d];return l}function dd(e,t,n,r,i){let a;switch(n.type){case"block-map":{a=ld(e,t,n,i);break}case"block-seq":{a=cd(e,t,n,i);break}case"flow-collection":{a=fd(e,t,n,i);break}}if(!r)return a;const s=t.directives.tagName(r.source,w=>i(r,"TAG_RESOLVE_FAILED",w));if(!s)return a;const l=a.constructor;if(s==="!"||s===l.tagName)return a.tag=l.tagName,a;const c=Ht(a)?"map":"seq";let p=t.schema.tags.find(w=>w.collection===c&&w.tag===s);if(!p){const w=t.schema.knownTags[s];if(w&&w.collection===c)t.schema.tags.push(Object.assign({},w,{default:!1})),p=w;else return i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${s}`,!0),a.tag=s,a}const g=p.resolve(a,w=>i(r,"TAG_RESOLVE_FAILED",w),t.options),y=Re(g)?g:new de(g);return y.range=a.range,y.tag=s,p!=null&&p.format&&(y.format=p.format),y}function Gu(e,t,n){const r=e.offset,i=hd(e,t,n);if(!i)return{value:"",type:null,comment:"",range:[r,r,r]};const a=i.mode===">"?de.BLOCK_FOLDED:de.BLOCK_LITERAL,s=e.source?pd(e.source):[];let l=s.length;for(let m=s.length-1;m>=0;--m){const T=s[m][1];if(T===""||T==="\r")l=m;else break}if(l===0){const m=i.chomp==="+"&&s.length>0?`
`.repeat(Math.max(1,s.length-1)):"";let T=r+i.length;return e.source&&(T+=e.source.length),{value:m,type:a,comment:i.comment,range:[r,T,T]}}let c=e.indent+i.indent,p=e.offset+i.length,g=0;for(let m=0;m<l;++m){const[T,C]=s[m];if(C===""||C==="\r")i.indent===0&&T.length>c&&(c=T.length);else{if(T.length<c){const P="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(p+T.length,"MISSING_CHAR",P)}i.indent===0&&(c=T.length),g=m;break}p+=T.length+C.length+1}for(let m=s.length-1;m>=l;--m)s[m][0].length>c&&(l=m+1);let y="",w="",d=!1;for(let m=0;m<g;++m)y+=s[m][0].slice(c)+`
`;for(let m=g;m<l;++m){let[T,C]=s[m];p+=T.length+C.length+1;const P=C[C.length-1]==="\r";if(P&&(C=C.slice(0,-1)),C&&T.length<c){const U=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(p-C.length-(P?2:1),"BAD_INDENT",U),T=""}a===de.BLOCK_LITERAL?(y+=w+T.slice(c)+C,w=`
`):T.length>c||C[0]==="	"?(w===" "?w=`
`:!d&&w===`
`&&(w=`

`),y+=w+T.slice(c)+C,w=`
`,d=!0):C===""?w===`
`?y+=`
`:w=`
`:(y+=w+C,w=" ",d=!1)}switch(i.chomp){case"-":break;case"+":for(let m=l;m<s.length;++m)y+=`
`+s[m][0].slice(c);y[y.length-1]!==`
`&&(y+=`
`);break;default:y+=`
`}const b=r+i.length+e.source.length;return{value:y,type:a,comment:i.comment,range:[r,b,b]}}function hd({offset:e,props:t},n,r){if(t[0].type!=="block-scalar-header")return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=t[0],a=i[0];let s=0,l="",c=-1;for(let w=1;w<i.length;++w){const d=i[w];if(!l&&(d==="-"||d==="+"))l=d;else{const b=Number(d);!s&&b?s=b:c===-1&&(c=e+w)}}c!==-1&&r(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let p=!1,g="",y=i.length;for(let w=1;w<t.length;++w){const d=t[w];switch(d.type){case"space":p=!0;case"newline":y+=d.source.length;break;case"comment":n&&!p&&r(d,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),y+=d.source.length,g=d.source.substring(1);break;case"error":r(d,"UNEXPECTED_TOKEN",d.message),y+=d.source.length;break;default:{const b=`Unexpected token in block scalar header: ${d.type}`;r(d,"UNEXPECTED_TOKEN",b);const m=d.source;m&&typeof m=="string"&&(y+=m.length)}}}return{mode:a,indent:s,chomp:l,comment:g,length:y}}function pd(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),a=[r!=null&&r[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let s=1;s<t.length;s+=2)a.push([t[s],t[s+1]]);return a}function qu(e,t,n){const{offset:r,type:i,source:a,end:s}=e;let l,c;const p=(w,d,b)=>n(r+w,d,b);switch(i){case"scalar":l=de.PLAIN,c=md(a,p);break;case"single-quoted-scalar":l=de.QUOTE_SINGLE,c=gd(a,p);break;case"double-quoted-scalar":l=de.QUOTE_DOUBLE,c=yd(a,p);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[r,r+a.length,r+a.length]}}const g=r+a.length,y=yr(s,g,t,n);return{value:c,type:l,comment:y.comment,range:[r,g,y.offset]}}function md(e,t){let n="";switch(e[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${e[0]}`;break}case"@":case"`":{n=`reserved character ${e[0]}`;break}}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),Ku(e)}function gd(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),Ku(e.slice(1,-1)).replace(/''/g,"'")}function Ku(e){let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let i=r[1],a=" ",s=t.lastIndex;for(n.lastIndex=s;r=n.exec(e);)r[1]===""?a===`
`?i+=a:a=`
`:(i+=a+r[1],a=" "),s=n.lastIndex;const l=/[ \t]*(.*)/sy;return l.lastIndex=s,r=l.exec(e),i+a+((r==null?void 0:r[1])??"")}function yd(e,t){let n="";for(let r=1;r<e.length-1;++r){const i=e[r];if(!(i==="\r"&&e[r+1]===`
`))if(i===`
`){const{fold:a,offset:s}=bd(e,r);n+=a,r=s}else if(i==="\\"){let a=e[++r];const s=Td[a];if(s)n+=s;else if(a===`
`)for(a=e[r+1];a===" "||a==="	";)a=e[++r+1];else if(a==="\r"&&e[r+1]===`
`)for(a=e[++r+1];a===" "||a==="	";)a=e[++r+1];else if(a==="x"||a==="u"||a==="U"){const l={x:2,u:4,U:8}[a];n+=vd(e,r+1,l,t),r+=l}else{const l=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${l}`),n+=l}}else if(i===" "||i==="	"){const a=r;let s=e[r+1];for(;s===" "||s==="	";)s=e[++r+1];s!==`
`&&!(s==="\r"&&e[r+2]===`
`)&&(n+=r>a?e.slice(a,r+1):i)}else n+=i}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}function bd(e,t){let n="",r=e[t+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&e[t+2]!==`
`);)r===`
`&&(n+=`
`),t+=1,r=e[t+1];return n||(n=" "),{fold:n,offset:t}}const Td={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function vd(e,t,n,r){const i=e.substr(t,n),s=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(s)){const l=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${l}`),l}return String.fromCodePoint(s)}function Hu(e,t,n,r){const{value:i,type:a,comment:s,range:l}=t.type==="block-scalar"?Gu(t,e.options.strict,r):qu(t,e.options.strict,r),c=n?e.directives.tagName(n.source,y=>r(n,"TAG_RESOLVE_FAILED",y)):null,p=n&&c?_d(e.schema,i,c,n,r):t.type==="scalar"?wd(e,i,t,r):e.schema[Lt];let g;try{const y=p.resolve(i,w=>r(n??t,"TAG_RESOLVE_FAILED",w),e.options);g=Se(y)?y:new de(y)}catch(y){const w=y instanceof Error?y.message:String(y);r(n??t,"TAG_RESOLVE_FAILED",w),g=new de(i)}return g.range=l,g.source=i,a&&(g.type=a),c&&(g.tag=c),p.format&&(g.format=p.format),s&&(g.comment=s),g}function _d(e,t,n,r,i){var l;if(n==="!")return e[Lt];const a=[];for(const c of e.tags)if(!c.collection&&c.tag===n)if(c.default&&c.test)a.push(c);else return c;for(const c of a)if((l=c.test)!=null&&l.test(t))return c;const s=e.knownTags[n];return s&&!s.collection?(e.tags.push(Object.assign({},s,{default:!1,test:void 0})),s):(i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),e[Lt])}function wd({directives:e,schema:t},n,r,i){const a=t.tags.find(s=>{var l;return s.default&&((l=s.test)==null?void 0:l.test(n))})||t[Lt];if(t.compat){const s=t.compat.find(l=>{var c;return l.default&&((c=l.test)==null?void 0:c.test(n))})??t[Lt];if(a.tag!==s.tag){const l=e.tagString(a.tag),c=e.tagString(s.tag),p=`Value may be parsed as either ${l} or ${c}`;i(r,"TAG_RESOLVE_FAILED",p,!0)}}return a}function Sd(e,t,n){if(t){n===null&&(n=t.length);for(let r=n-1;r>=0;--r){let i=t[r];switch(i.type){case"space":case"comment":case"newline":e-=i.source.length;continue}for(i=t[++r];(i==null?void 0:i.type)==="space";)e+=i.source.length,i=t[++r];break}}return e}const kd={composeNode:Wu,composeEmptyNode:zs};function Wu(e,t,n,r){const{spaceBefore:i,comment:a,anchor:s,tag:l}=n;let c,p=!0;switch(t.type){case"alias":c=Ad(e,t,r),(s||l)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=Hu(e,t,l,r),s&&(c.anchor=s.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=dd(kd,e,t,l,r),s&&(c.anchor=s.source.substring(1));break;default:{const g=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;r(t,"UNEXPECTED_TOKEN",g),c=zs(e,t.offset,void 0,null,n,r),p=!1}}return s&&c.anchor===""&&r(s,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(c.spaceBefore=!0),a&&(t.type==="scalar"&&t.source===""?c.comment=a:c.commentBefore=a),e.options.keepSourceTokens&&p&&(c.srcToken=t),c}function zs(e,t,n,r,{spaceBefore:i,comment:a,anchor:s,tag:l,end:c},p){const g={type:"scalar",offset:Sd(t,n,r),indent:-1,source:""},y=Hu(e,g,l,p);return s&&(y.anchor=s.source.substring(1),y.anchor===""&&p(s,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(y.spaceBefore=!0),a&&(y.comment=a,y.range[2]=c),y}function Ad({options:e},{offset:t,source:n,end:r},i){const a=new hr(n.substring(1));a.source===""&&i(t,"BAD_ALIAS","Alias cannot be an empty string"),a.source.endsWith(":")&&i(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const s=t+n.length,l=yr(r,s,e.strict,i);return a.range=[t,s,l.offset],l.comment&&(a.comment=l.comment),a}function Cd(e,t,{offset:n,start:r,value:i,end:a},s){const l=Object.assign({_directives:t},e),c=new fn(void 0,l),p={atRoot:!0,directives:c.directives,options:c.options,schema:c.schema},g=On(r,{indicator:"doc-start",next:i??(a==null?void 0:a[0]),offset:n,onError:s,startOnNewline:!0});g.found&&(c.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!g.hasNewline&&s(g.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),c.contents=i?Wu(p,i,g,s):zs(p,g.end,r,null,g,s);const y=c.contents.range[2],w=yr(a,y,!1,s);return w.comment&&(c.comment=w.comment),c.range=[n,y,w.offset],c}function xn(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+(typeof n=="string"?n.length:1)]}function Xa(e){var i;let t="",n=!1,r=!1;for(let a=0;a<e.length;++a){const s=e[a];switch(s[0]){case"#":t+=(t===""?"":r?`

`:`
`)+(s.substring(1)||" "),n=!0,r=!1;break;case"%":((i=e[a+1])==null?void 0:i[0])!=="#"&&(a+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class fi{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,i,a)=>{const s=xn(n);a?this.warnings.push(new xs(s,r,i)):this.errors.push(new $t(s,r,i))},this.directives=new $e({version:t.version||"1.2"}),this.options=t}decorate(t,n){const{comment:r,afterEmptyLine:i}=Xa(this.prelude);if(r){const a=t.contents;if(n)t.comment=t.comment?`${t.comment}
${r}`:r;else if(i||t.directives.docStart||!a)t.commentBefore=r;else if(Oe(a)&&!a.flow&&a.items.length>0){let s=a.items[0];Ne(s)&&(s=s.key);const l=s.commentBefore;s.commentBefore=l?`${r}
${l}`:r}else{const s=a.commentBefore;a.commentBefore=s?`${r}
${s}`:r}}n?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Xa(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,n=!1,r=-1){for(const i of t)yield*this.next(i);yield*this.end(n,r)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(n,r,i)=>{const a=xn(t);a[0]+=n,this.onError(a,"BAD_DIRECTIVE",r,i)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const n=Cd(this.options,this.directives,t,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const n=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,r=new $t(xn(t),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new $t(xn(t),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=yr(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new $t(xn(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const r=Object.assign({_directives:this.directives},this.options),i=new fn(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}}function Nd(e,t=!0,n){if(e){const r=(i,a,s)=>{const l=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(n)n(l,a,s);else throw new $t([l,l+1],a,s)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return qu(e,t,r);case"block-scalar":return Gu(e,t,r)}}return null}function Id(e,t){const{implicitKey:n=!1,indent:r,inFlow:i=!1,offset:a=-1,type:s="PLAIN"}=t,l=pr({type:s,value:e},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),c=t.end??[{type:"newline",offset:-1,indent:r,source:`
`}];switch(l[0]){case"|":case">":{const p=l.indexOf(`
`),g=l.substring(0,p),y=l.substring(p+1)+`
`,w=[{type:"block-scalar-header",offset:a,indent:r,source:g}];return Vu(w,c)||w.push({type:"newline",offset:-1,indent:r,source:`
`}),{type:"block-scalar",offset:a,indent:r,props:w,source:y}}case'"':return{type:"double-quoted-scalar",offset:a,indent:r,source:l,end:c};case"'":return{type:"single-quoted-scalar",offset:a,indent:r,source:l,end:c};default:return{type:"scalar",offset:a,indent:r,source:l,end:c}}}function Od(e,t,n={}){let{afterKey:r=!1,implicitKey:i=!1,inFlow:a=!1,type:s}=n,l="indent"in e?e.indent:null;if(r&&typeof l=="number"&&(l+=2),!s)switch(e.type){case"single-quoted-scalar":s="QUOTE_SINGLE";break;case"double-quoted-scalar":s="QUOTE_DOUBLE";break;case"block-scalar":{const p=e.props[0];if(p.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s=p.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:s="PLAIN"}const c=pr({type:s,value:t},{implicitKey:i||l===null,indent:l!==null&&l>0?" ".repeat(l):"",inFlow:a,options:{blockQuote:!0,lineWidth:-1}});switch(c[0]){case"|":case">":Ld(e,c);break;case'"':Hi(e,c,"double-quoted-scalar");break;case"'":Hi(e,c,"single-quoted-scalar");break;default:Hi(e,c,"scalar")}}function Ld(e,t){const n=t.indexOf(`
`),r=t.substring(0,n),i=t.substring(n+1)+`
`;if(e.type==="block-scalar"){const a=e.props[0];if(a.type!=="block-scalar-header")throw new Error("Invalid block scalar header");a.source=r,e.source=i}else{const{offset:a}=e,s="indent"in e?e.indent:-1,l=[{type:"block-scalar-header",offset:a,indent:s,source:r}];Vu(l,"end"in e?e.end:void 0)||l.push({type:"newline",offset:-1,indent:s,source:`
`});for(const c of Object.keys(e))c!=="type"&&c!=="offset"&&delete e[c];Object.assign(e,{type:"block-scalar",indent:s,props:l,source:i})}}function Vu(e,t){if(t)for(const n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":return e.push(n),!0}return!1}function Hi(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n,e.source=t;break;case"block-scalar":{const r=e.props.slice(1);let i=t.length;e.props[0].type==="block-scalar-header"&&(i-=e.props[0].source.length);for(const a of r)a.offset+=i;delete e.props,Object.assign(e,{type:n,source:t,end:r});break}case"block-map":case"block-seq":{const i={type:"newline",offset:e.offset+t.length,indent:e.indent,source:`
`};delete e.items,Object.assign(e,{type:n,source:t,end:[i]});break}default:{const r="indent"in e?e.indent:-1,i="end"in e&&Array.isArray(e.end)?e.end.filter(a=>a.type==="space"||a.type==="comment"||a.type==="newline"):[];for(const a of Object.keys(e))a!=="type"&&a!=="offset"&&delete e[a];Object.assign(e,{type:n,indent:r,source:t,end:i})}}}const Ed=e=>"type"in e?Vr(e):zr(e);function Vr(e){switch(e.type){case"block-scalar":{let t="";for(const n of e.props)t+=Vr(n);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=zr(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=zr(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=zr(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function zr({start:e,key:t,sep:n,value:r}){let i="";for(const a of e)i+=a.source;if(t&&(i+=Vr(t)),n)for(const a of n)i+=a.source;return r&&(i+=Vr(r)),i}const bs=Symbol("break visit"),Md=Symbol("skip children"),Ju=Symbol("remove item");function an(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),Qu(Object.freeze([]),e,t)}an.BREAK=bs;an.SKIP=Md;an.REMOVE=Ju;an.itemAtPath=(e,t)=>{let n=e;for(const[r,i]of t){const a=n==null?void 0:n[r];if(a&&"items"in a)n=a.items[i];else return}return n};an.parentCollection=(e,t)=>{const n=an.itemAtPath(e,t.slice(0,-1)),r=t[t.length-1][0],i=n==null?void 0:n[r];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function Qu(e,t,n){let r=n(t,e);if(typeof r=="symbol")return r;for(const i of["key","value"]){const a=t[i];if(a&&"items"in a){for(let s=0;s<a.items.length;++s){const l=Qu(Object.freeze(e.concat([[i,s]])),a.items[s],n);if(typeof l=="number")s=l-1;else{if(l===bs)return bs;l===Ju&&(a.items.splice(s,1),s-=1)}}typeof r=="function"&&i==="key"&&(r=r(t,e))}}return typeof r=="function"?r(t,e):r}const di="\uFEFF",hi="",pi="",sr="",Rd=e=>!!e&&"items"in e,Pd=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function Fd(e){switch(e){case di:return"<BOM>";case hi:return"<DOC>";case pi:return"<FLOW_END>";case sr:return"<SCALAR>";default:return JSON.stringify(e)}}function Zu(e){switch(e){case di:return"byte-order-mark";case hi:return"doc-mode";case pi:return"flow-error-end";case sr:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const Xu=Object.freeze(Object.defineProperty({__proto__:null,BOM:di,DOCUMENT:hi,FLOW_END:pi,SCALAR:sr,createScalarToken:Id,isCollection:Rd,isScalar:Pd,prettyToken:Fd,resolveAsScalar:Nd,setScalarValue:Od,stringify:Ed,tokenType:Zu,visit:an},Symbol.toStringTag,{value:"Module"}));function Ye(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const Ya="0123456789ABCDEFabcdef".split(""),Dd="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),Wi=",[]{}".split(""),Bd=` ,[]{}
\r	`.split(""),Vi=e=>!e||Bd.includes(e);class $s{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,n=!1){t&&(this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null),this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let t=this.pos,n=this.buffer[t];for(;n===" "||n==="	";)n=this.buffer[++t];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let n=this.buffer[t];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+t];if(n==="\r"){const i=this.buffer[r+t+1];if(i===`
`||!i&&!this.atEnd)return t+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?t+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(t,3);if((r==="---"||r==="...")&&Ye(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===di&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let n=t.length;const r=t.indexOf("#");if(r!==-1){const a=t[r-1];(a===" "||a==="	")&&(n=r-1)}for(;;){const a=t[n-1];if(a===" "||a==="	")n-=1;else break}const i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-n),yield*this.pushNewline(),"stream"}return yield hi,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if(n==="---"&&Ye(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(n==="..."&&Ye(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Ye(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&Ye(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(t[n]){case"#":yield*this.pushCount(t.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(Vi),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,n,r=-1;do t=yield*this.pushNewline(),t>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(t+n>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&i[0]!=="#"||r===0&&(i.startsWith("---")||i.startsWith("..."))&&Ye(i[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield pi,yield*this.parseLineStart();let a=0;for(;i[a]===",";)a+=yield*this.pushCount(1),a+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(a+=yield*this.pushIndicators(),i[a]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-a),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(Vi),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const s=this.charAt(1);if(this.flowKey||Ye(s)||s===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let n=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let a=0;for(;this.buffer[n-1-a]==="\\";)a+=1;if(a%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let i=r.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const a=this.continueScalar(i+1);if(a===-1)break;i=r.indexOf(`
`,a)}i!==-1&&(n=i-(r[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const n=this.buffer[++t];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>Ye(n)||n==="#")}*parseBlockScalar(){let t=this.pos-1,n=0,r;e:for(let i=this.pos;r=this.buffer[i];++i)switch(r){case" ":n+=1;break;case`
`:t=i,n=0;break;case"\r":{const a=this.buffer[i+1];if(!a&&!this.atEnd)return this.setNext("block-scalar");if(a===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext+=this.blockScalarIndent;do{const i=this.continueScalar(t+1);if(i===-1)break;t=this.buffer.indexOf(`
`,i)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}if(!this.blockScalarKeep)do{let i=t-1,a=this.buffer[i];a==="\r"&&(a=this.buffer[--i]);const s=i;for(;a===" "||a==="	";)a=this.buffer[--i];if(a===`
`&&i>=this.pos&&i+1+n>s)t=i;else break}while(!0);return yield sr,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,i;for(;i=this.buffer[++r];)if(i===":"){const a=this.buffer[r+1];if(Ye(a)||t&&a===",")break;n=r}else if(Ye(i)){let a=this.buffer[r+1];if(i==="\r"&&(a===`
`?(r+=1,i=`
`,a=this.buffer[r+1]):n=r),a==="#"||t&&Wi.includes(a))break;if(i===`
`){const s=this.continueScalar(r+1);if(s===-1)break;r=Math.max(r,s-2)}}else{if(t&&Wi.includes(i))break;n=r}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield sr,yield*this.pushToIndex(n+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,n){const r=this.buffer.slice(this.pos,t);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(Vi))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,n=this.charAt(1);if(Ye(n)||t&&Wi.includes(n))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,n=this.buffer[t];for(;!Ye(n)&&n!==">";)n=this.buffer[++t];return yield*this.pushToIndex(n===">"?t+1:t,!1)}else{let t=this.pos+1,n=this.buffer[t];for(;n;)if(Dd.includes(n))n=this.buffer[++t];else if(n==="%"&&Ya.includes(this.buffer[t+1])&&Ya.includes(this.buffer[t+2]))n=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||t&&r==="	");const i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(t){let n=this.pos,r=this.buffer[n];for(;!t(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class js{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let n=0,r=this.lineStarts.length;for(;n<r;){const a=n+r>>1;this.lineStarts[a]<t?n=a+1:r=a}if(this.lineStarts[n]===t)return{line:n+1,col:1};if(n===0)return{line:0,col:t};const i=this.lineStarts[n-1];return{line:n,col:t-i+1}}}}function at(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function eo(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function Yu(e){switch(e==null?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Er(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function yn(e){var n;if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=e[++t])==null?void 0:n.type)==="space";);return e.splice(t,e.length)}function to(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!at(t.start,"explicit-key-ind")&&!at(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,Yu(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class mi{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new $s,this.onNewLine=t}*parse(t,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(t,n))yield*this.next(r);n||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const n=Zu(t);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const r=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const n=t??this.stack.pop();if(n)if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&to(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const i=r.items[r.items.length-1];if(i.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!at(i.start,"explicit-key-ind");return}break}case"block-seq":{const i=r.items[r.items.length-1];i.value?r.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{const i=r.items[r.items.length-1];!i||i.value?r.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&eo(i.start)===-1&&(n.indent===0||i.start.every(a=>a.type!=="comment"||a.indent<n.indent))&&(r.type==="document"?r.end=i.start:r.items.push({start:i.start}),n.items.splice(-1,1))}}else{const r="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:r}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{eo(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const n=Er(this.peek(2)),r=yn(n);let i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];const a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:r,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const i="end"in n.value?n.value.end:void 0,a=Array.isArray(i)?i[i.length-1]:void 0;(a==null?void 0:a.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2],a=(r=i==null?void 0:i.value)==null?void 0:r.end;if(Array.isArray(a)){Array.prototype.push.apply(a,n.start),a.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const i=!this.onKeyLine&&this.indent===t.indent&&n.sep;let a=[];if(i&&n.sep&&!n.value){const s=[];for(let l=0;l<n.sep.length;++l){const c=n.sep[l];switch(c.type){case"newline":s.push(l);break;case"space":break;case"comment":c.indent>t.indent&&(s.length=0);break;default:s.length=0}}s.length>=2&&(a=n.sep.splice(s[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(a.push(this.sourceToken),t.items.push({start:a}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!at(n.start,"explicit-key-ind")?n.start.push(this.sourceToken):i||n.value?(a.push(this.sourceToken),t.items.push({start:a})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(at(n.start,"explicit-key-ind"))if(n.sep)if(n.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(at(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:null,sep:[this.sourceToken]}]});else if(Yu(n.key)&&!at(n.sep,"newline")){const s=yn(n.start),l=n.key,c=n.sep;c.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:l,sep:c}]})}else a.length>0?n.sep=n.sep.concat(a,this.sourceToken):n.sep.push(this.sourceToken);else if(at(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const s=yn(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?t.items.push({start:a,key:null,sep:[this.sourceToken]}):at(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);i||n.value?(t.items.push({start:a,key:s,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(s):(Object.assign(n,{key:s,sep:[]}),this.onKeyLine=!0);return}default:{const s=this.startBlockValue(t);if(s){i&&s.type!=="block-seq"&&at(n.start,"explicit-key-ind")&&t.items.push({start:a}),this.stack.push(s);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){const i="end"in n.value?n.value.end:void 0,a=Array.isArray(i)?i[i.length-1]:void 0;(a==null?void 0:a.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2],a=(r=i==null?void 0:i.value)==null?void 0:r.end;if(Array.isArray(a)){Array.prototype.push.apply(a,n.start),a.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||at(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){const i=this.startBlockValue(t);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const n=t.items[t.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?t.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!n||n.value?t.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===t.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const i=Er(r),a=yn(i);to(t);const s=t.end.splice(1,t.end.length);s.push(this.sourceToken);const l={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:a,key:t,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=l}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=Er(t),r=yn(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r}]}}case"map-value-ind":{this.onKeyLine=!0;const n=Er(t),r=yn(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,n){return this.type!=="comment"||this.indent<=n?!1:t.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function el(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new js||null,prettyErrors:t}}function tl(e,t={}){const{lineCounter:n,prettyErrors:r}=el(t),i=new mi(n==null?void 0:n.addNewLine),a=new fi(t),s=Array.from(a.compose(i.parse(e)));if(r&&n)for(const l of s)l.errors.forEach(Wr(e,n)),l.warnings.forEach(Wr(e,n));return s.length>0?s:Object.assign([],{empty:!0},a.streamInfo())}function Gs(e,t={}){const{lineCounter:n,prettyErrors:r}=el(t),i=new mi(n==null?void 0:n.addNewLine),a=new fi(t);let s=null;for(const l of a.compose(i.parse(e),!0,e.length))if(!s)s=l;else if(s.options.logLevel!=="silent"){s.errors.push(new $t(l.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(s.errors.forEach(Wr(e,n)),s.warnings.forEach(Wr(e,n))),s}function nl(e,t,n){let r;typeof t=="function"?r=t:n===void 0&&t&&typeof t=="object"&&(n=t);const i=Gs(e,n);if(!i)return null;if(i.warnings.forEach(a=>ku(i.options.logLevel,a)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:r},n))}function rl(e,t,n){let r=null;if(typeof t=="function"||Array.isArray(t)?r=t:n===void 0&&t&&(n=t),typeof n=="string"&&(n=n.length),typeof n=="number"){const i=Math.round(n);n=i<1?void 0:i>8?{indent:8}:{indent:i}}if(e===void 0){const{keepUndefined:i}=n??t??{};if(!i)return}return new fn(e,r,n).toString(n)}const Ud=Object.freeze(Object.defineProperty({__proto__:null,Alias:hr,CST:Xu,Composer:fi,Document:fn,Lexer:$s,LineCounter:js,Pair:xe,Parser:mi,Scalar:de,Schema:gr,YAMLError:ci,YAMLMap:Ve,YAMLParseError:$t,YAMLSeq:Wt,YAMLWarning:xs,isAlias:Kt,isCollection:Oe,isDocument:Fn,isMap:Ht,isNode:Re,isPair:Ne,isScalar:Se,isSeq:cn,parse:nl,parseAllDocuments:tl,parseDocument:Gs,stringify:rl,visit:Et,visitAsync:dr},Symbol.toStringTag,{value:"Module"})),xd=Object.freeze(Object.defineProperty({__proto__:null,Alias:hr,CST:Xu,Composer:fi,Document:fn,Lexer:$s,LineCounter:js,Pair:xe,Parser:mi,Scalar:de,Schema:gr,YAMLError:ci,YAMLMap:Ve,YAMLParseError:$t,YAMLSeq:Wt,YAMLWarning:xs,default:Ud,isAlias:Kt,isCollection:Oe,isDocument:Fn,isMap:Ht,isNode:Re,isPair:Ne,isScalar:Se,isSeq:cn,parse:nl,parseAllDocuments:tl,parseDocument:Gs,stringify:rl,visit:Et,visitAsync:dr},Symbol.toStringTag,{value:"Module"})),zd=Ml(xd);var $d=be&&be.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),jd=be&&be.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),il=be&&be.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&$d(t,e,n);return jd(t,e),t};Object.defineProperty(ie,"__esModule",{value:!0});ie.numberEnumValues=ie.indentationString=ie.parseJSON=ie.inflateBase64=ie.errorMessage=ie.repeatedCall=ie.repeated=ie.mustNotHappen=ie.panic=ie.assert=ie.assertNever=ie.nonNull=ie.defined=ie.checkArray=ie.checkStringMap=ie.checkString=ie.isStringMap=void 0;const Gd=Fl,qd=il(If),gi=ze,Kd=il(zd);function sl(e,t){if(typeof e!="object"||Array.isArray(e)||e===null)return!1;if(t!==void 0)for(const n of Object.getOwnPropertyNames(e)){const r=e[n];if(!t(r))return!1}return!0}ie.isStringMap=sl;function Hd(e){return typeof e=="string"}ie.checkString=Hd;function Wd(e,t){return sl(e,t)?e:on(`Value must be an object, but is ${e}`)}ie.checkStringMap=Wd;function Vd(e,t){if(!Array.isArray(e))return on(`Value must be an array, but is ${e}`);if(t!==void 0){for(const n of e)if(!t(n))return on(`Array item does not satisfy constraint: ${n}`)}return e}ie.checkArray=Vd;function Jd(e){return e!==void 0?e:on("Defined value expected, but got undefined")}ie.defined=Jd;function Qd(e){return e!==null?e:on("Non-null value expected, but got null")}ie.nonNull=Qd;function Zd(e){return(0,gi.messageError)("InternalError",{message:`Unexpected object ${e}`})}ie.assertNever=Zd;function Xd(e,t="Assertion failed"){if(!e)return(0,gi.messageError)("InternalError",{message:t})}ie.assert=Xd;function on(e){return(0,gi.messageError)("InternalError",{message:e})}ie.panic=on;function Yd(){return on("This must not happen")}ie.mustNotHappen=Yd;function eh(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}ie.repeated=eh;function th(e,t){const n=[];for(let r=0;r<e;r++)n.push(t());return n}ie.repeatedCall=th;function nh(e){return e instanceof Error?e.message:e.toString()}ie.errorMessage=nh;function rh(e){const t=Gd.Base64.atob(e);return qd.inflate(t,{to:"string"})}ie.inflateBase64=rh;function ih(e,t,n="<unknown>"){try{return e.charCodeAt(0)===65279&&(e=e.slice(1)),Kd.parse(e)}catch(r){let i;return r instanceof SyntaxError?i=r.message:i=`Unknown exception ${r}`,(0,gi.messageError)("MiscJSONParseError",{description:t,address:n,message:i})}}ie.parseJSON=ih;function sh(e){return"  ".repeat(e)}ie.indentationString=sh;function ah(e){const t=[];for(const n of Object.keys(e)){const r=e[n];typeof r=="number"&&t.push(r)}return t}ie.numberEnumValues=ah;var ar={},al={exports:{}};(function(e,t){(function(n,r){typeof Rl=="function"?e.exports=r():n.pluralize=r()})(be,function(){var n=[],r=[],i={},a={},s={};function l(m){return typeof m=="string"?new RegExp("^"+m+"$","i"):m}function c(m,T){return m===T?T:m===m.toLowerCase()?T.toLowerCase():m===m.toUpperCase()?T.toUpperCase():m[0]===m[0].toUpperCase()?T.charAt(0).toUpperCase()+T.substr(1).toLowerCase():T.toLowerCase()}function p(m,T){return m.replace(/\$(\d{1,2})/g,function(C,P){return T[P]||""})}function g(m,T){return m.replace(T[0],function(C,P){var z=p(T[1],arguments);return c(C===""?m[P-1]:C,z)})}function y(m,T,C){if(!m.length||i.hasOwnProperty(m))return T;for(var P=C.length;P--;){var z=C[P];if(z[0].test(T))return g(T,z)}return T}function w(m,T,C){return function(P){var z=P.toLowerCase();return T.hasOwnProperty(z)?c(P,z):m.hasOwnProperty(z)?c(P,m[z]):y(z,P,C)}}function d(m,T,C,P){return function(z){var U=z.toLowerCase();return T.hasOwnProperty(U)?!0:m.hasOwnProperty(U)?!1:y(U,U,C)===U}}function b(m,T,C){var P=T===1?b.singular(m):b.plural(m);return(C?T+" ":"")+P}return b.plural=w(s,a,n),b.isPlural=d(s,a,n),b.singular=w(a,s,r),b.isSingular=d(a,s,r),b.addPluralRule=function(m,T){n.push([l(m),T])},b.addSingularRule=function(m,T){r.push([l(m),T])},b.addUncountableRule=function(m){if(typeof m=="string"){i[m.toLowerCase()]=!0;return}b.addPluralRule(m,"$0"),b.addSingularRule(m,"$0")},b.addIrregularRule=function(m,T){T=T.toLowerCase(),m=m.toLowerCase(),s[m]=T,a[T]=m},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(m){return b.addIrregularRule(m[0],m[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(m){return b.addPluralRule(m[0],m[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(m){return b.addSingularRule(m[0],m[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(b.addUncountableRule),b})})(al);var oh=al.exports,Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.increaseTypeAttributesDistance=Ce.makeTypeAttributesInferred=Ce.combineTypeAttributes=Ce.emptyTypeAttributes=Ce.TypeAttributeKind=void 0;const Ln=Le,Jr=ie;class qs{constructor(t){this.name=t}appliesToTypeKind(t){return t!=="any"}combine(t){return(0,Jr.panic)(`Cannot combine type attribute ${this.name}`)}intersect(t){return this.combine(t)}makeInferred(t){return(0,Jr.panic)(`Cannot make type attribute ${this.name} inferred`)}increaseDistance(t){return t}addToSchema(t,n,r){}children(t){return new Set}stringify(t){}get inIdentity(){return!1}requiresUniqueIdentity(t){return!1}reconstitute(t,n){return n}makeAttributes(t){const n=[[this,t]];return new Map(n)}tryGetInAttributes(t){return t.get(this)}setInAttributes(t,n){return new Map(t).set(this,n)}modifyInAttributes(t,n){const r=n(this.tryGetInAttributes(t));if(r===void 0){const i=new Map(t);return i.delete(this),i}return this.setInAttributes(t,r)}setDefaultInAttributes(t,n){return this.tryGetInAttributes(t)!==void 0?t:this.modifyInAttributes(t,n)}removeInAttributes(t){return(0,Ln.mapFilter)(t,(n,r)=>r!==this)}equals(t){return t instanceof qs?this.name===t.name:!1}hashCode(){return(0,Ln.hashString)(this.name)}}Ce.TypeAttributeKind=qs;Ce.emptyTypeAttributes=new Map;function uh(e,t,n){const r=e==="union";let i;if(Array.isArray(t))i=t;else{if(n===void 0)return(0,Jr.panic)("Must have on array or two attributes");i=[t,n]}const a=(0,Ln.mapTranspose)(i);function s(l,c){return(0,Jr.assert)(l.length>0,"Cannot combine zero type attributes"),l.length===1?l[0]:r?c.combine(l):c.intersect(l)}return(0,Ln.mapFilterMap)(a,s)}Ce.combineTypeAttributes=uh;function lh(e){return(0,Ln.mapFilterMap)(e,(t,n)=>n.makeInferred(t))}Ce.makeTypeAttributesInferred=lh;function ch(e){return(0,Ln.mapFilterMap)(e,(t,n)=>n.increaseDistance(t))}Ce.increaseTypeAttributesDistance=ch;var Ji={},Qi={},Je={};Object.defineProperty(Je,"__esModule",{value:!0});Je.EnumOption=Je.StringOption=Je.BooleanOption=Je.getOptionValues=Je.Option=void 0;const fh=ie,dh=ze,hh=Le;class yi{constructor(t){t.renderer=!0,this.definition=t,(0,fh.assert)(t.kind!==void 0,"Renderer option kind must be defined")}getValue(t){const n=t[this.definition.name];return n===void 0?this.definition.defaultValue:n}get cliDefinitions(){return{actual:[this.definition],display:[this.definition]}}}Je.Option=yi;function ph(e,t){const n={};for(const r of Object.getOwnPropertyNames(e))n[r]=e[r].getValue(t);return n}Je.getOptionValues=ph;class mh extends yi{constructor(t,n,r,i="primary"){super({name:t,kind:i,type:Boolean,description:n,defaultValue:r})}get cliDefinitions(){const t=Object.assign({},this.definition,{name:`no-${this.definition.name}`,defaultValue:!this.definition.defaultValue});return{display:[Object.assign({},this.definition,{name:`[no-]${this.definition.name}`,description:`${this.definition.description} (${this.definition.defaultValue?"on":"off"} by default)`})],actual:[this.definition,t]}}getValue(t){let n=t[this.definition.name];n===void 0&&(n=this.definition.defaultValue);let r=t[`no-${this.definition.name}`];return r===void 0&&(r=!this.definition.defaultValue),n==="true"?n=!0:n==="false"&&(n=!1),this.definition.defaultValue?n&&!r:n||!r}}Je.BooleanOption=mh;class gh extends yi{constructor(t,n,r,i,a="primary"){const s={name:t,kind:a,type:String,description:n,typeLabel:r,defaultValue:i};super(s)}}Je.StringOption=gh;class yh extends yi{constructor(t,n,r,i=void 0,a="primary"){i===void 0&&(i=r[0][0]);const s={name:t,kind:a,type:String,description:n,typeLabel:r.map(([l,c])=>l).join("|"),legalValues:r.map(([l,c])=>l),defaultValue:i};super(s),this._values={};for(const[l,c]of r)this._values[l]=c}getValue(t){let n=t[this.definition.name];return n===void 0&&(n=this.definition.defaultValue),(0,hh.hasOwnProperty)(this._values,n)?this._values[n]:(0,dh.messageError)("RendererUnknownOptionValue",{value:n,name:this.definition.name})}}Je.EnumOption=yh;var no;function bh(){return no||(no=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.acronymStyle=e.acronymOption=e.AcronymStyleOptions=e.acronyms=void 0;const t=Je,n=br();e.acronyms=["aaa","aabb","aac","aal","aalc","aarp","abac","abcl","abi","abm","abr","ac","acd","ack","acl","acm","acme","acp","acpi","acr","adb","adc","adccp","ado","adsl","adt","ae","aes","af","afp","agp","ai","aix","alac","algol","alsa","alu","amd","amoled","amqp","amr","ann","ansi","aop","apci","api","apic","apipa","apl","apr","arin","aros","arp","arpa","arpanet","ascii","aset","asg","asic","asimo","aslr","asm","asmp","asp","asr","assp","ast","ata","atag","atapi","atm","av","avc","avi","awfl","awk","awt","bal","bam","bbp","bbs","bcd","bcnf","beep","ber","bfd","bfs","bft","bgp","bi","binac","bios","bjt","bmp","bnc","boinc","bom","bootp","bpdu","bpel","bpl","bpm","brm","brms","brr","brs","bsa","bsb","bsd","bss","bt","bw","byod","ca","cad","cae","cai","caid","captcha","caq","cd","cde","cdfs","cdma","cdn","cdp","cdsa","cert","ces","cf","cfd","cfg","cg","cga","cgi","cgt","chs","cidr","cifs","cim","cio","cir","cisc","cjk","cjkv","cli","clr","cm","cmdb","cmmi","cmo","cmos","cms","cn","cnc","cng","cnr","cobol","com","corba","cots","cpa","cpan","cpri","cps","cpu","cr","cran","crc","crlf","crm","crs","crt","crud","cs","cse","csi","csm","csp","csrf","css","csv","ct","ctan","ctcp","ctfe","cti","ctl","ctm","cts","ctss","cua","cvs","dac","dal","dao","dap","darpa","dat","db","dba","dbcs","dbms","dcc","dcca","dccp","dcl","dcmi","dcom","dcs","dd","dde","ddi","ddl","ddr","dec","des","dfa","dfd","dfs","dgd","dhcp","dhtml","dif","dimm","din","dip","dism","divx","dkim","dl","dll","dlna","dlp","dma","dmca","dmi","dml","dmr","dmz","dn","dnd","dns","doa","docsis","dom","dos","dp","dpc","dpi","dpmi","dpms","dr","dram","dri","drm","dsa","dsdl","dsdm","dsl","dslam","dsn","dsp","dsssl","dtd","dte","dtp","dtr","dvd","dvi","dvr","dw","eai","eap","eas","ebcdic","ebml","ecc","ecma","ecn","ecos","ecrs","eda","edi","edo","edsac","edvac","eeprom","eff","efi","efm","efs","ega","egp","eide","eigrp","eisa","elf","emacs","ems","eniac","eod","eof","eol","eom","eos","eprom","erd","erm","erp","esb","escon","esd","esr","etl","etw","euc","eula","ewmh","ext","fap","faq","fasm","fbdimm","fcb","fcs","fdc","fdd","fddi","fdm","fdma","fds","fec","femb","fet","fhs","ficon","fifo","fips","fl","flac","flops","fmc","fmo","foldoc","fosdem","fosi","foss","fp","fpga","fps","fpu","fqdn","fru","fs","fsb","fsf","fsm","ftp","ftta","fttc","ftth","fttp","fud","fvek","fws","fxp","fyi","gb","gcc","gcj","gcr","gdb","gdi","geran","gfdl","gif","gigo","gimps","gis","gml","gnu","goms","gpasm","gpfs","gpg","gpgpu","gpib","gpl","gprs","gpt","gpu","gsm","gui","guid","gwt","gyr","hal","hasp","hba","hci","hcl","hd","hdd","hdl","hdmi","hf","hfs","hhd","hid","hig","hird","hlasm","hls","hma","hp","hpc","hpfs","hsdpa","hsm","ht","htc","htm","html","http","https","htx","hurd","hvd","iana","ibm","ic","icann","ich","icmp","icp","ics","ict","id","ide","idf","idl","ids","iec","ieee","ietf","ifl","igmp","igrp","ihv","iiop","iis","ike","il","im","imap","ime","infosec","ip","ipam","ipc","ipl","ipmi","ipo","ipp","ips","iptv","ipx","ir","irc","iri","irp","irq","isa","isam","isatap","isc","isdn","iso","isp","ispf","isr","isv","itil","itl","itu","ivcr","ivrs","jaxb","jaxp","jbod","jce","jcl","jcp","jdbc","jdk","jds","jee","jes","jfc","jfet","jfs","jini","jit","jme","jms","jmx","jndi","jni","jnz","jpeg","jre","js","jse","json","jsp","jtag","jvm","kb","kde","km","krl","kvm","lacp","lan","lb","lba","lcd","lcos","lcr","ldap","le","led","lf","lfs","lga","lgpl","lib","lif","lifo","lilo","lisp","lkml","lm","loc","lpc","lpi","lpt","lru","lsb","lsi","lte","ltl","ltr","lun","lv","lvd","lvm","lzw","mac","manet","mapi","mb","mbcs","mbd","mbr","mca","mcad","mcas","mcdba","mcdst","mcitp","mcm","mcp","mcpc","mcpd","mcsa","mcsd","mcse","mct","mcts","mda","mdf","mdi","mf","mfc","mfm","mgcp","mib","micr","midi","mimd","mime","mimo","minix","mips","mis","misd","mit","mmc","mmds","mmf","mmi","mmio","mmorpg","mmu","mmx","mng","mom","mos","mosfet","motd","mous","mov","mpaa","mpeg","mpl","mpls","mpu","ms","msa","msb","msdn","msi","msn","mt","mta","mtbf","mtu","mua","mvc","mvp","mvs","mwc","mx","mxf","nack","nak","nas","nasm","ncp","ncq","ncsa","ndis","ndps","nds","nep","nfa","nfc","nfs","ngl","ngscb","ni","nic","nim","nio","nist","nlp","nls","nmi","nntp","noc","nop","nos","np","npl","nptl","npu","ns","nsa","nsi","nspr","nss","nt","ntfs","ntlm","ntp","numa","nurbs","nvr","nvram","oat","obsai","odbc","oem","oes","ofdm","oftc","oid","olap","ole","oled","olpc","oltp","omf","omg","omr","oo","ooe","oom","oop","ootb","opml","orb","orm","os","oscon","osdn","osi","ospf","oss","ostg","oui","pap","parc","pata","pbs","pc","pcb","pci","pcl","pcm","pcmcia","pcre","pd","pda","pdf","pdh","pdp","pe","perl","pfa","pg","pga","pgo","pgp","php","pid","pim","pio","pkcs","pki","plc","pld","plt","pmm","png","pnrp","poid","pojo","posix","ppc","ppi","ppp","pptp","pr","ps","psa","psm","psu","psvi","pv","pvg","pvr","pxe","pxi","qa","qdr","qfp","qotd","qsop","qtam","racf","rad","raid","raii","rait","ram","rarp","ras","rc","rcs","rd","rdbms","rdc","rdf","rdm","rdos","rdp","rds","refal","rest","rf","rfc","rfi","rfid","rgb","rgba","rhel","rhl","ria","riaa","rip","rir","risc","rje","rle","rll","rmi","rms","rom","romb","rpc","rpg","rpm","rras","rsa","rsi","rss","rtai","rtc","rte","rtems","rtl","rtos","rtp","rts","rtsp","rtti","rwd","san","sas","sata","sax","sbod","sbu","scada","scid","scm","scp","scpc","scpi","scsa","scsi","sctp","sd","sddl","sdh","sdi","sdio","sdk","sdl","sdn","sdp","sdr","sdram","sdsl","se","sec","sei","seo","sftp","sgi","sgml","sgr","sha","shdsl","sigcat","siggraph","simd","simm","sip","sisd","siso","sles","sli","slm","sloc","sma","smb","smbios","sme","smf","smil","smp","smps","sms","smt","smtp","sna","snmp","sntp","soa","soe","soho","soi","sopa","sp","spa","sparc","spf","spi","spm","spmd","sql","sram","ssa","ssd","ssdp","sse","ssh","ssi","ssid","ssl","ssp","ssse","sssp","sstp","sus","suse","svc","svd","svg","svga","swf","swt","tao","tapi","tasm","tb","tcp","tcu","tdma","tft","tftp","ti","tla","tld","tls","tlv","tnc","tpf","tpm","troff","tron","trsdos","tso","tsp","tsr","tta","ttf","ttl","tts","tty","tucows","twain","uaag","uac","uart","uat","ucs","uddi","udma","udp","uefi","uhf","ui","ul","ula","uma","umb","uml","umpc","umts","unc","univac","ups","uri","url","usb","usr","utc","utf","utp","utran","uucp","uuid","uun","uvc","uwp","ux","vax","vb","vba","vbs","vcpi","vdm","vdsl","vesa","vfat","vfs","vg","vga","vhf","vlan","vlb","vlf","vliw","vlsi","vlsm","vm","vmm","vnc","vod","vpn","vpu","vr","vram","vrml","vsam","vsat","vt","vtam","vtl","wafs","wai","wais","wan","wap","wasm","wbem","wcag","wcf","wdm","wep","wfi","wins","wlan","wma","wmi","wmv","wns","wol","wor","wora","wpa","wpad","wpan","wpf","wsdl","wsfl","wusb","wwan","wwdc","wwid","wwn","www","wysiwyg","wzc","xag","xaml","xcbl","xdm","xdmcp","xhtml","xilp","xml","xmms","xmpp","xms","xns","xp","xpcom","xpi","xpidl","xps","xsd","xsl","xslt","xss","xtf","xul","xvga","yaaf","yacc","yaml","zcav","zcs","zif","zifs","zisc","zma","zoi","zope","zpl"];var r;(function(s){s.Pascal="pascal",s.Camel="camel",s.Original="original",s.Lower="lowerCase"})(r=e.AcronymStyleOptions||(e.AcronymStyleOptions={}));const i=function(s){return new t.EnumOption("acronym-style","Acronym naming style",[[r.Original,r.Original],[r.Pascal,r.Pascal],[r.Camel,r.Camel],[r.Lower,r.Lower]],s,"secondary")};e.acronymOption=i;function a(s){return{[r.Pascal]:n.allUpperWordStyle,[r.Camel]:n.firstUpperWordStyle,[r.Original]:n.originalWord,[r.Lower]:n.allLowerWordStyle}[s]}e.acronymStyle=a}(Qi)),Qi}var ol={exports:{}},bi={};bi.byteLength=_h;bi.toByteArray=Sh;bi.fromByteArray=Ch;var Tt=[],et=[],Th=typeof Uint8Array<"u"?Uint8Array:Array,Zi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var bn=0,vh=Zi.length;bn<vh;++bn)Tt[bn]=Zi[bn],et[Zi.charCodeAt(bn)]=bn;et["-".charCodeAt(0)]=62;et["_".charCodeAt(0)]=63;function ul(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function _h(e){var t=ul(e),n=t[0],r=t[1];return(n+r)*3/4-r}function wh(e,t,n){return(t+n)*3/4-n}function Sh(e){var t,n=ul(e),r=n[0],i=n[1],a=new Th(wh(e,r,i)),s=0,l=i>0?r-4:r,c;for(c=0;c<l;c+=4)t=et[e.charCodeAt(c)]<<18|et[e.charCodeAt(c+1)]<<12|et[e.charCodeAt(c+2)]<<6|et[e.charCodeAt(c+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=t&255;return i===2&&(t=et[e.charCodeAt(c)]<<2|et[e.charCodeAt(c+1)]>>4,a[s++]=t&255),i===1&&(t=et[e.charCodeAt(c)]<<10|et[e.charCodeAt(c+1)]<<4|et[e.charCodeAt(c+2)]>>2,a[s++]=t>>8&255,a[s++]=t&255),a}function kh(e){return Tt[e>>18&63]+Tt[e>>12&63]+Tt[e>>6&63]+Tt[e&63]}function Ah(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(kh(r));return i.join("")}function Ch(e){for(var t,n=e.length,r=n%3,i=[],a=16383,s=0,l=n-r;s<l;s+=a)i.push(Ah(e,s,s+a>l?l:s+a));return r===1?(t=e[n-1],i.push(Tt[t>>2]+Tt[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(Tt[t>>10]+Tt[t>>4&63]+Tt[t<<2&63]+"=")),i.join("")}var Ks=0,ll=-3;function or(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function Nh(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new or,this.dtree=new or}var cl=new or,fl=new or,Hs=new Uint8Array(30),Ws=new Uint16Array(30),dl=new Uint8Array(30),hl=new Uint16Array(30),Ih=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ro=new or,mt=new Uint8Array(288+32);function pl(e,t,n,r){var i,a;for(i=0;i<n;++i)e[i]=0;for(i=0;i<30-n;++i)e[i+n]=i/n|0;for(a=r,i=0;i<30;++i)t[i]=a,a+=1<<e[i]}function Oh(e,t){var n;for(n=0;n<7;++n)e.table[n]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,n=0;n<24;++n)e.trans[n]=256+n;for(n=0;n<144;++n)e.trans[24+n]=n;for(n=0;n<8;++n)e.trans[24+144+n]=280+n;for(n=0;n<112;++n)e.trans[24+144+8+n]=144+n;for(n=0;n<5;++n)t.table[n]=0;for(t.table[5]=32,n=0;n<32;++n)t.trans[n]=n}var io=new Uint16Array(16);function Xi(e,t,n,r){var i,a;for(i=0;i<16;++i)e.table[i]=0;for(i=0;i<r;++i)e.table[t[n+i]]++;for(e.table[0]=0,a=0,i=0;i<16;++i)io[i]=a,a+=e.table[i];for(i=0;i<r;++i)t[n+i]&&(e.trans[io[t[n+i]]++]=i)}function Lh(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var t=e.tag&1;return e.tag>>>=1,t}function gt(e,t,n){if(!t)return n;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var r=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,r+n}function Ts(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=0,r=0,i=0,a=e.tag;do r=2*r+(a&1),a>>>=1,++i,n+=t.table[i],r-=t.table[i];while(r>=0);return e.tag=a,e.bitcount-=i,t.trans[n+r]}function Eh(e,t,n){var r,i,a,s,l,c;for(r=gt(e,5,257),i=gt(e,5,1),a=gt(e,4,4),s=0;s<19;++s)mt[s]=0;for(s=0;s<a;++s){var p=gt(e,3,0);mt[Ih[s]]=p}for(Xi(ro,mt,0,19),l=0;l<r+i;){var g=Ts(e,ro);switch(g){case 16:var y=mt[l-1];for(c=gt(e,2,3);c;--c)mt[l++]=y;break;case 17:for(c=gt(e,3,3);c;--c)mt[l++]=0;break;case 18:for(c=gt(e,7,11);c;--c)mt[l++]=0;break;default:mt[l++]=g;break}}Xi(t,mt,0,r),Xi(n,mt,r,i)}function so(e,t,n){for(;;){var r=Ts(e,t);if(r===256)return Ks;if(r<256)e.dest[e.destLen++]=r;else{var i,a,s,l;for(r-=257,i=gt(e,Hs[r],Ws[r]),a=Ts(e,n),s=e.destLen-gt(e,dl[a],hl[a]),l=s;l<s+i;++l)e.dest[e.destLen++]=e.dest[l]}}}function Mh(e){for(var t,n,r;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if(t=e.source[e.sourceIndex+1],t=256*t+e.source[e.sourceIndex],n=e.source[e.sourceIndex+3],n=256*n+e.source[e.sourceIndex+2],t!==(~n&65535))return ll;for(e.sourceIndex+=4,r=t;r;--r)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,Ks}function Rh(e,t){var n=new Nh(e,t),r,i,a;do{switch(r=Lh(n),i=gt(n,2,0),i){case 0:a=Mh(n);break;case 1:a=so(n,cl,fl);break;case 2:Eh(n,n.ltree,n.dtree),a=so(n,n.ltree,n.dtree);break;default:a=ll}if(a!==Ks)throw new Error("Data error")}while(!r);return n.destLen<n.dest.length?typeof n.dest.slice=="function"?n.dest.slice(0,n.destLen):n.dest.subarray(0,n.destLen):n.dest}Oh(cl,fl);pl(Hs,Ws,4,3);pl(dl,hl,2,1);Hs[28]=0;Ws[28]=258;var Ph=Rh;const Fh=new Uint8Array(new Uint32Array([305419896]).buffer)[0]===18,ao=(e,t,n)=>{let r=e[t];e[t]=e[n],e[n]=r},Dh=e=>{const t=e.length;for(let n=0;n<t;n+=4)ao(e,n,n+3),ao(e,n+1,n+2)},Bh=e=>{Fh&&Dh(e)};var Uh={swap32LE:Bh};const oo=Ph,{swap32LE:xh}=Uh,Vs=6+5,Xt=5,zh=Vs-Xt,$h=65536>>Vs,jh=1<<zh,Gh=jh-1,$r=2,qh=1<<Xt,Yi=qh-1,ml=65536>>Xt,Kh=1024>>Xt,Hh=ml+Kh,Wh=Hh,Vh=32,Jh=Wh+Vh,Qh=1<<$r;class Zh{constructor(t){const n=typeof t.readUInt32BE=="function"&&typeof t.slice=="function";if(n||t instanceof Uint8Array){let r;if(n)this.highStart=t.readUInt32LE(0),this.errorValue=t.readUInt32LE(4),r=t.readUInt32LE(8),t=t.slice(12);else{const i=new DataView(t.buffer);this.highStart=i.getUint32(0,!0),this.errorValue=i.getUint32(4,!0),r=i.getUint32(8,!0),t=t.subarray(12)}t=oo(t,new Uint8Array(r)),t=oo(t,new Uint8Array(r)),xh(t),this.data=new Uint32Array(t.buffer)}else({data:this.data,highStart:this.highStart,errorValue:this.errorValue}=t)}get(t){let n;return t<0||t>1114111?this.errorValue:t<55296||t>56319&&t<=65535?(n=(this.data[t>>Xt]<<$r)+(t&Yi),this.data[n]):t<=65535?(n=(this.data[ml+(t-55296>>Xt)]<<$r)+(t&Yi),this.data[n]):t<this.highStart?(n=this.data[Jh-$h+(t>>Vs)],n=this.data[n+(t>>Xt&Gh)],n=(n<<$r)+(t&Yi),this.data[n]):this.data[this.data.length-Qh]}}var Xh=Zh;(function(e){var t=bi,n=Xh;function r(S){return S&&S.__esModule?S.default:S}function i(S){Object.defineProperty(S,"__esModule",{value:!0,configurable:!0})}function a(S,O,L,K){Object.defineProperty(S,O,{get:L,set:K,enumerable:!0,configurable:!0})}i(e.exports),a(e.exports,"getCategory",()=>R),a(e.exports,"getCombiningClass",()=>G),a(e.exports,"getScript",()=>Q),a(e.exports,"getEastAsianWidth",()=>Z),a(e.exports,"getNumericValue",()=>V),a(e.exports,"isAlphabetic",()=>u),a(e.exports,"isDigit",()=>o),a(e.exports,"isPunctuation",()=>f),a(e.exports,"isLowerCase",()=>v),a(e.exports,"isUpperCase",()=>N),a(e.exports,"isTitleCase",()=>E),a(e.exports,"isWhiteSpace",()=>M),a(e.exports,"isBaseForm",()=>h),a(e.exports,"isMark",()=>_),a(e.exports,"default",()=>A);var s={};s=JSON.parse('{"categories":["Cc","Zs","Po","Sc","Ps","Pe","Sm","Pd","Nd","Lu","Sk","Pc","Ll","So","Lo","Pi","Cf","No","Pf","Lt","Lm","Mn","Me","Mc","Nl","Zl","Zp","Cs","Co"],"combiningClasses":["Not_Reordered","Above","Above_Right","Below","Attached_Above_Right","Attached_Below","Overlay","Iota_Subscript","Double_Below","Double_Above","Below_Right","Above_Left","CCC10","CCC11","CCC12","CCC13","CCC14","CCC15","CCC16","CCC17","CCC18","CCC19","CCC20","CCC21","CCC22","CCC23","CCC24","CCC25","CCC30","CCC31","CCC32","CCC27","CCC28","CCC29","CCC33","CCC34","CCC35","CCC36","Nukta","Virama","CCC84","CCC91","CCC103","CCC107","CCC118","CCC122","CCC129","CCC130","CCC132","Attached_Above","Below_Left","Left","Kana_Voicing","CCC26","Right"],"scripts":["Common","Latin","Bopomofo","Inherited","Greek","Coptic","Cyrillic","Armenian","Hebrew","Arabic","Syriac","Thaana","Nko","Samaritan","Mandaic","Devanagari","Bengali","Gurmukhi","Gujarati","Oriya","Tamil","Telugu","Kannada","Malayalam","Sinhala","Thai","Lao","Tibetan","Myanmar","Georgian","Hangul","Ethiopic","Cherokee","Canadian_Aboriginal","Ogham","Runic","Tagalog","Hanunoo","Buhid","Tagbanwa","Khmer","Mongolian","Limbu","Tai_Le","New_Tai_Lue","Buginese","Tai_Tham","Balinese","Sundanese","Batak","Lepcha","Ol_Chiki","Braille","Glagolitic","Tifinagh","Han","Hiragana","Katakana","Yi","Lisu","Vai","Bamum","Syloti_Nagri","Phags_Pa","Saurashtra","Kayah_Li","Rejang","Javanese","Cham","Tai_Viet","Meetei_Mayek","null","Linear_B","Lycian","Carian","Old_Italic","Gothic","Old_Permic","Ugaritic","Old_Persian","Deseret","Shavian","Osmanya","Osage","Elbasan","Caucasian_Albanian","Linear_A","Cypriot","Imperial_Aramaic","Palmyrene","Nabataean","Hatran","Phoenician","Lydian","Meroitic_Hieroglyphs","Meroitic_Cursive","Kharoshthi","Old_South_Arabian","Old_North_Arabian","Manichaean","Avestan","Inscriptional_Parthian","Inscriptional_Pahlavi","Psalter_Pahlavi","Old_Turkic","Old_Hungarian","Hanifi_Rohingya","Old_Sogdian","Sogdian","Elymaic","Brahmi","Kaithi","Sora_Sompeng","Chakma","Mahajani","Sharada","Khojki","Multani","Khudawadi","Grantha","Newa","Tirhuta","Siddham","Modi","Takri","Ahom","Dogra","Warang_Citi","Nandinagari","Zanabazar_Square","Soyombo","Pau_Cin_Hau","Bhaiksuki","Marchen","Masaram_Gondi","Gunjala_Gondi","Makasar","Cuneiform","Egyptian_Hieroglyphs","Anatolian_Hieroglyphs","Mro","Bassa_Vah","Pahawh_Hmong","Medefaidrin","Miao","Tangut","Nushu","Duployan","SignWriting","Nyiakeng_Puachue_Hmong","Wancho","Mende_Kikakui","Adlam"],"eaw":["N","Na","A","W","H","F"]}');const l=new(r(n))(r(t).toByteArray("AAARAAAAAADwfAEAZXl5ONRt+/5bPVFZimRfKoTQJNm37CGE7Iw0j3UsTWKsoyI7kwyyTiEUzSD7NiEzhWYijH0wMVkHE4Mx49fzfo+3nuP4/fdZjvv+XNd5n/d9nef1WZvmKhTxiZndzDQBSEYQqxqKwnsKvGQucFh+6t6cJ792ePQBZv5S9yXSwkyjf/P4T7mTNnIAv1dOVhMlR9lflbUL9JeJguqsjvG9NTj/wLb566VAURnLo2vvRi89S3gW/33ihh2eXpDn40BIW7REl/7coRKIhAFlAiOtbLDTt6mMb4GzMF1gNnvX/sBxtbsAIjfztCNcQjcNDtLThRvuXu5M5g/CBjaLBE4lJm4qy/oZD97+IJryApcXfgWYlkvWbhfXgujOJKVu8B+ozqTLbxyJ5kNiR75CxDqfBM9eOlDMmGeoZ0iQbbS5VUplIwI+ZNXEKQVJxlwqjhOY7w3XwPesbLK5JZE+Tt4X8q8km0dzInsPPzbscrjBMVjF5mOHSeRdJVgKUjLTHiHqXSPkep8N/zFk8167KLp75f6RndkvzdfB6Uz3MmqvRArzdCbs1/iRZjYPLLF3U8Qs+H+Rb8iK51a6NIV2V9+07uJsTGFWpPz8J++7iRu2B6eAKlK/kujrLthwaD/7a6J5w90TusnH1JMAc+gNrql4aspOUG/RrsxUKmPzhHgP4Bleru+6Vfc/MBjgXVx7who94nPn7MPFrnwQP7g0k0Dq0h2GSKO6fTZ8nLodN1SiOUj/5EL/Xo1DBvRm0wmrh3x6phcJ20/9CuMr5h8WPqXMSasLoLHoufTmE7mzYrs6B0dY7KjuCogKqsvxnxAwXWvd9Puc9PnE8DOHT2INHxRlIyVHrqZahtfV2E/A2PDdtA3ewlRHMtFIBKO/T4IozWTQZ+mb+gdKuk/ZHrqloucKdsOSJmlWTSntWjcxVMjUmroXLM10I6TwDLnBq4LP69TxgVeyGsd8yHvhF8ydPlrNRSNs9EP7WmeuSE7Lu10JbOuQcJw/63sDp68wB9iwP5AO+mBpV0R5VDDeyQUFCel1G+4KHBgEVFS0YK+m2sXLWLuGTlkVAd97WwKKdacjWElRCuDRauf33l/yVcDF6sVPKeTes99FC1NpNWcpieGSV/IbO8PCTy5pbUR1U8lxzf4T+y6fZMxOz3LshkQLeeDSd0WmUrQgajmbktrxsb2AZ0ACw2Vgni+gV/m+KvCRWLg08Clx7uhql+v9XySGcjjOHlsp8vBw/e8HS7dtiqF6T/XcSXuaMW66GF1g4q9YyBadHqy3Y5jin1c7yZos6BBr6dsomSHxiUHanYtcYQwnMMZhRhOnaYJeyJzaRuukyCUh48+e/BUvk/aEfDp8ag+jD64BHxNnQ5v/E7WRk7eLjGV13I3oqy45YNONi/1op1oDr7rPjkhPsTXgUpQtGDPlIs55KhQaic9kSGs/UrZ2QKQOflB8MTEQxRF9pullToWO7Eplan6mcMRFnUu2441yxi23x+KqKlr7RWWsi9ZXMWlr8vfP3llk1m2PRj0yudccxBuoa7VfIgRmnFPGX6Pm1WIfMm/Rm4n/xTn8IGqA0GWuqgu48pEUO0U9nN+ZdIvFpPb7VDPphIfRZxznlHeVFebkd9l+raXy9BpTMcIUIvBfgHEb6ndGo8VUkxpief14KjzFOcaANfgvFpvyY8lE8lE4raHizLpluPzMks1hx/e1Hok5yV0p7qQH7GaYeMzzZTFvRpv6k6iaJ4yNqzBvN8J7B430h2wFm1IBPcqbou33G7/NWPgopl4Mllla6e24L3TOTVNkza2zv3QKuDWTeDpClCEYgTQ+5vEBSQZs/rMF50+sm4jofTgWLqgX1x3TkrDEVaRqfY/xZizFZ3Y8/DFEFD31VSfBQ5raEB6nHnZh6ddehtclQJ8fBrldyIh99LNnV32HzKEej04hk6SYjdauCa4aYW0ru/QxvQRGzLKOAQszf3ixJypTW3WWL6BLSF2EMCMIw7OUvWBC6A/gDc2D1jvBapMCc7ztx6jYczwTKsRLL6dMNXb83HS8kdD0pTMMj161zbVHkU0mhSHo9SlBDDXdN6hDvRGizmohtIyR3ot8tF5iUG4GLNcXeGvBudSFrHu+bVZb9jirNVG+rQPI51A7Hu8/b0UeaIaZ4UgDO68PkYx3PE2HWpKapJ764Kxt5TFYpywMy4DLQqVRy11I7SOLhxUFmqiEK52NaijWArIfCg6qG8q5eSiwRCJb1R7GDJG74TrYgx/lVq7w9++Kh929xSJEaoSse5fUOQg9nMAnIZv+7fwVRcNv3gOHI46Vb5jYUC66PYHO6lS+TOmvEQjuYmx4RkffYGxqZIp/DPWNHAixbRBc+XKE3JEOgs4jIwu/dSAwhydruOGF39co91aTs85JJ3Z/LpXoF43hUwJsb/M1Chzdn8HX8vLXnqWUKvRhNLpfAF4PTFqva1sBQG0J+59HyYfmQ3oa4/sxZdapVLlo/fooxSXi/dOEQWIWq8E0FkttEyTFXR2aNMPINMIzZwCNEheYTVltsdaLkMyKoEUluPNAYCM2IG3br0DLy0fVNWKHtbSKbBjfiw7Lu06gQFalC7RC9BwRMSpLYDUo9pDtDfzwUiPJKLJ2LGcSphWBadOI/iJjNqUHV7ucG8yC6+iNM9QYElqBR7ECFXrcTgWQ3eG/tCWacT9bxIkfmxPmi3vOd36KxihAJA73vWNJ+Y9oapXNscVSVqS5g15xOWND/WuUCcA9YAAg6WFbjHamrblZ5c0L6Zx1X58ZittGcfDKU697QRSqW/g+RofNRyvrWMrBn44cPvkRe2HdTu/Cq01C5/riWPHZyXPKHuSDDdW8c1XPgd6ogvLh20qEIu8c19sqr4ufyHrwh37ZN5MkvY1dsGmEz9pUBTxWrvvhNyODyX2Q1k/fbX/T/vbHNcBrmjgDtvBdtZrVtiIg5iXQuzO/DEMvRX8Mi1zymSlt92BGILeKItjoShJXE/H7xwnf0Iewb8BFieJ9MflEBCQYEDm8eZniiEPfGoaYiiEdhQxHQNr2AuRdmbL9mcl18Kumh+HEZLp6z+j35ML9zTbUwahUZCyQQOgQrGfdfQtaR/OYJ/9dYXb2TWZFMijfCA8Nov4sa5FFDUe1T68h4q08WDE7JbbDiej4utRMR9ontevxlXv6LuJTXt1YEv8bDzEt683PuSsIN0afvu0rcBu9AbXZbkOG3K3AhtqQ28N23lXm7S3Yn6KXmAhBhz+GeorJJ4XxO/b3vZk2LXp42+QvsVxGSNVpfSctIFMTR1bD9t70i6sfNF3WKz/uKDEDCpzzztwhL45lsw89H2IpWN10sXHRlhDse9KCdpP5qNNpU84cTY+aiqswqR8XZ9ea0KbVRwRuOGQU3csAtV2fSbnq47U6es6rKlWLWhg3s/B9C9g+oTyp6RtIldR51OOkP5/6nSy6itUVPcMNOp4M/hDdKOz3uK6srbdxOrc2cJgr1Sg02oBxxSky6V7JaG+ziNwlfqnjnvh2/uq1lKfbp+qpwq/D/5OI5gkFl5CejKGxfc2YVJfGqc4E0x5e9PHK2ukbHNI7/RZV6LNe65apbTGjoCaQls0txPPbmQbCQn+/upCoXRZy9yzorWJvZ0KWcbXlBxU/d5I4ERUTxMuVWhSMmF677LNN7NnLwsmKawXkCgbrpcluOl0WChR1qhtSrxGXHu251dEItYhYX3snvn1gS2uXuzdTxCJjZtjsip0iT2sDC0qMS7Bk9su2NyXjFK5/f5ZoWwofg3DtTyjaFqspnOOTSh8xK/CKUFS57guVEkw9xoQuRCwwEO9Lu9z2vYxSa9NFV8DvSxv2C4WYLYF8Nrc4DzWkzNsk81JJOlZ/LYJrGCoj4MmZpnf3AXmzxT4rtl9jsqljEyedz468SGKdBiQzyz/qWKEhFg45ZczlZZ3KGL3l6sn+3TTa3zMVMhPa1obGp/z+fvY0QXTrJTf1XAT3EtQdUfYYlmWZyvPZ/6rWwU7UOQei7pVE0osgN94Iy+T1+omE6z4Rh2O20FjgBeK2y1mcoFiMDOJvuZPn5Moy9fmFH3wyfKvn4+TwfLvt/lHTTVnvrtoUWRBiQXhiNM8nE6ZoWeux/Z0b2unRcdUzdDpmL7CAgd1ToRXwgmHTZOgiGtVT+xr1QH9ObebRTT4NzL+XSpLuuWp62GqQvJVTPoZOeJCb6gIwd9XHMftQ+Kc08IKKdKQANSJ1a2gve3JdRhO0+tNiYzWAZfd7isoeBu67W7xuK8WX7nhJURld98Inb0t/dWOSau/kDvV4DJo/cImw9AO2Gvq0F2n0M7yIZKL8amMbjYld+qFls7hq8Acvq97K2PrCaomuUiesu7qNanGupEl6J/iem8lyr/NMnsTr6o41PO0yhQh3hPFN0wJP7S830je9iTBLzUNgYH+gUZpROo3rN2qgCI+6GewpX8w8CH+ro6QrWiStqmcMzVa3vEel+3/dDxMp0rDv1Q6wTMS3K64zTT6RWzK1y643im25Ja7X2ePCV2mTswd/4jshZPo4bLnerqIosq/hy2bKUAmVn9n4oun1+a0DIZ56UhVwmZHdUNpLa8gmPvxS1eNvCF1T0wo1wKPdCJi0qOrWz7oYRTzgTtkzEzZn308XSLwUog4OWGKJzCn/3FfF9iA32dZHSv30pRCM3KBY9WZoRhtdK/ChHk6DEQBsfV6tN2o1Cn0mLtPBfnkS+qy1L2xfFe9TQPtDE1Be44RTl82E9hPT2rS2+93LFbzhQQO3C/hD2jRFH3BWWbasAfuMhRJFcTri73eE835y016s22DjoFJ862WvLj69fu2TgSF3RHia9D5DSitlQAXYCnbdqjPkR287Lh6dCHDapos+eFDvcZPP2edPmTFxznJE/EBLoQQ0Qmn9EkZOyJmHxMbvKYb8o21ZHmv5YLqgsEPk9gWZwYQY9wLqGXuax/8QlV5qDaPbq9pLPT1yp+zOWKmraEy1OUJI7zdEcEmvBpbdwLrDCgEb2xX8S/nxZgjK4bRi+pbOmbh8bEeoPvU/L9ndx9kntlDALbdAvp0O8ZC3zSUnFg4cePsw7jxewWvL7HRSBLUn6J7vTH9uld5N76JFPgBCdXGF221oEJk++XfRwXplLSyrVO7HFWBEs99nTazKveW3HpbD4dH/YmdAl+lwbSt8BQWyTG7jAsACI7bPPUU9hI9XUHWqQOuezHzUjnx5Qqs6T1qNHfTTHleDtmqK7flA9a0gz2nycIpz1FHBuWxKNtUeTdqP29Fb3tv+tl5JyBqXoR+vCsdzZwZUhf6Lu8bvkB9yQP4x7GGegB0ym0Lpl03Q7e+C0cDsm9GSDepCDji7nUslLyYyluPfvLyKaDSX4xpR+nVYQjQQn5F8KbY1gbIVLiK1J3mW90zTyR1bqApX2BlWh7KG8LAY9/S9nWC0XXh9pZZo6xuir12T43rkaGfQssbQyIslA7uJnSHOV22NhlNtUo0czxPAsXhh8tIQYaTM4l/yAlZlydTcXhlG22Gs/n3BxKBd/3ZjYwg3NaUurVXhNB+afVnFfNr9TbC9ksNdvwpNfeHanyJ8M6GrIVfLlYAPv0ILe4dn0Z+BJSbJkN7eZY/c6+6ttDYcIDeUKIDXqUSE42Xdh5nRbuaObozjht0HJ5H1e+em+NJi/+8kQlyjCbJpPckwThZeIF9/u7lrVIKNeJLCN/TpPAeXxvd31/CUDWHK9MuP1V1TJgngzi4V0qzS3SW3Qy5UiGHqg02wQa5tsEl9s/X9nNMosgLlUgZSfCBj1DiypLfhr9/r0nR0XY2tmhDOcUS4E7cqa4EJBhzqvpbZa35Q5Iz5EqmhYiOGDAYk606Tv74+KGfPjKVuP15rIzgW0I7/niOu9el/sn2bRye0gV+GrePDRDMHjwO1lEdeXH8N+UTO3IoN18kpI3tPxz+fY+n2MGMSGFHAx/83tKeJOl+2i+f1O9v6FfEDBbqrw+lpM8Anav7zHNr7hE78nXUtPNodMbCnITWA7Ma/IHlZ50F9hWge/wzOvSbtqFVFtkS8Of2nssjZwbSFdU+VO8z6tCEc9UA9ACxT5zIUeSrkBB/v1krOpm7bVMrGxEKfI6LcnpB4D8bvn2hDKGqKrJaVAJuDaBEY3F7eXyqnFWlOoFV/8ZLspZiZd7orXLhd4mhHQgbuKbHjJWUzrnm0Dxw/LJLzXCkh7slMxKo8uxZIWZfdKHlfI7uj3LP6ARAuWdF7ZmZ7daOKqKGbz5LxOggTgS39oEioYmrqkCeUDvbxkBYKeHhcLmMN8dMF01ZMb32IpL/cH8R7VHQSI5I0YfL14g9d7P/6cjB1JXXxbozEDbsrPdmL8ph7QW10jio+v7YsqHKQ6xrBbOVtxU0/nFfzUGZwIBLwyUvg49ii+54nv9FyECBpURnQK4Ox6N7lw5fsjdd5l/2SwBcAHMJoyjO1Pifye2dagaOwCVMqdJWAo77pvBe0zdJcTWu5fdzPNfV2p1pc7/JKQ8zhKkwsOELUDhXygPJ5oR8Vpk2lsCen3D3QOQp2zdrSZHjVBstDF/wWO98rrkQ6/7zt/Drip7OHIug1lomNdmRaHRrjmqeodn22sesQQPgzimPOMqC60a5+i/UYh51uZm+ijWkkaI2xjrBO2558DZNZMiuDQlaVAvBy2wLn/bR3FrNzfnO/9oDztYqxZrr7JMIhqmrochbqmQnKowxW29bpqTaJu7kW1VotC72QkYX8OoDDdMDwV1kJRk3mufgJBzf+iwFRJ7XWQwO5ujVglgFgHtycWiMLx5N+6XU+TulLabWjOzoao03fniUW0xvIJNPbk7CQlFZd/RCOPvgQbLjh5ITE8NVJeKt3HGr6JTnFdIzcVOlEtwqbIIX0IM7saC+4N5047MTJ9+Wn11EhyEPIlwsHE5utCeXRjQzlrR+R1Cf/qDzcNbqLXdk3J7gQ39VUrrEkS/VMWjjg+t2oYrqB0tUZClcUF6+LBC3EQ7KnGIwm/qjZX4GKPtjTX1zQKV6nPAb2t/Rza5IqKRf8i2DFEhV/YSifX0YwsiF6TQnp48Gr65TFq0zUe6LGjiY7fq0LSGKL1VnC6ESI2yxvt3XqBx53B3gSlGFeJcPbUbonW1E9E9m4NfuwPh+t5QjRxX34lvBPVxwQd7aeTd+r9dw5CiP1pt8wMZoMdni7GapYdo6KPgeQKcmlFfq4UYhvV0IBgeiR3RnTMBaqDqpZrTRyLdsp4l0IXZTdErfH0sN3dqBG5vRIx3VgCYcHmmkqJ8Hyu3s9K9uBD1d8cZUEx3qYcF5vsqeRpF1GOg8emeWM2OmBlWPdZ6qAXwm3nENFyh+kvXk132PfWAlN0kb7yh4fz2T7VWUY/hEXX5DvxGABC03XRpyOG8t/u3Gh5tZdpsSV9AWaxJN7zwhVglgII1gV28tUViyqn4UMdIh5t+Ea2zo7PO48oba0TwQbiSZOH4YhD578kPF3reuaP7LujPMsjHmaDuId9XEaZBCJhbXJbRg5VCk3KJpryH/+8S3wdhR47pdFcmpZG2p0Bpjp/VbvalgIZMllYX5L31aMPdt1J7r/7wbixt0Mnz2ZvNGTARHPVD+2O1D8SGpWXlVnP2ekgon55YiinADDynyaXtZDXueVqbuTi8z8cHHK325pgqM+mWZwzHeEreMvhZopAScXM14SJHpGwZyRljMlDvcMm9FZ/1e9+r/puOnpXOtc9Iu2fmgBfEP9cGW1Fzb1rGlfJ08pACtq1ZW18bf2cevebzVeHbaA50G9qoUp39JWdPHbYkPCRXjt4gzlq3Cxge28Mky8MoS/+On72kc+ZI2xBtgJytpAQHQ1zrEddMIVyR5urX6yBNu8v5lKC8eLdGKTJtbgIZ3ZyTzSfWmx9f+cvcJe8yM39K/djkp2aUTE/9m2Lj5jg7b8vdRAer7DO3SyLNHs1CAm5x5iAdh2yGJYivArZbCBNY88Tw+w+C1Tbt7wK3zl2rzTHo/D8/gb3c3mYrnEIEipYqPUcdWjnTsSw471O3EUN7Gtg4NOAs9PJrxm03VuZKa5xwXAYCjt7Gs01Km6T2DhOYUMoFcCSu7Hk1p3yP1eG+M3v3Q5luAze6WwBnZIYO0TCucPWK+UJ36KoJ8Y+vpavhLO8g5ed704IjlQdfemrMu//EvPYXTQSGIPPfiagJS9nMqP5IvkxN9pvuJz7h8carPXTKMq8jnTeL0STan6dnLTAqwIswcIwWDR2KwbGddAVN8SYWRB7kfBfBRkSXzvHlIF8D6jo64kUzYk5o/n8oLjKqat0rdXvQ86MkwQGMnnlcasqPPT2+mVtUGb32KuH6cyZQenrRG11TArcAl27+nvOMBDe++EKHf4YdyGf7mznzOz33cFFGEcv329p4qG2hoaQ8ULiMyVz6ENcxhoqGnFIdupcn7GICQWuw3yO3W8S33mzCcMYJ8ywc7U7rmaQf/W5K63Gr4bVTpXOyOp4tbaPyIaatBNpXqlmQUTSZXjxPr19+73PSaT+QnI35YsWn6WpfJjRtK8vlJZoTSgjaRU39AGCkWOZtifJrnefCrqwTKDFmuWUCukEsYcRrMzCoit28wYpP7kSVjMD8WJYQiNc2blMjuqYegmf6SsfC1jqz8XzghMlOX+gn/MKZmgljszrmehEa4V98VreJDxYvHr3j7IeJB9/sBZV41BWT/AZAjuC5XorlIPnZgBAniBEhanp0/0+qZmEWDpu8ige1hUPIyTo6T6gDEcFhWSoduNh8YSu65KgMOGBw7VlNYzNIgwHtq9KP2yyTVysqX5v12sf7D+vQUdR2dRDvCV40rIInXSLWT/yrC6ExOQxBJwIDbeZcl3z1yR5Rj3l8IGpxspapnvBL+fwupA3b6fkFceID9wgiM1ILB0cHVdvo/R4xg8yqKXT8efl0GnGX1/27FUYeUW2L/GNRGGWVGp3i91oaJkb4rybENHre9a2P5viz/yqk8ngWUUS+Kv+fu+9BLFnfLiLXOFcIeBJLhnayCiuDRSqcx0Qu68gVsGYc6EHD500Fkt+gpDj6gvr884n8wZ5o6q7xtL5wA0beXQnffWYkZrs2NGIRgQbsc5NB302SVx+R4ROvmgZaR8wBcji128BMfJ9kcvJ4DC+bQ57kRmv5yxgU4ngZfn0/JNZ8JBwxjTqS+s9kjJFG1unGUGLwMiIuXUD9EFhNIJuyCEAmVZSIGKH4G6v1gRR1LyzQKH2ZqiI1DnHMoDEZspbDjTeaFIAbSvjSq3A+n46y9hhVM8wIpnARSXyzmOD96d9UXvFroSPgGw1dq2vdEqDq9fJN1EbL2WulNmHkFDvxSO9ZT/RX/Bw2gA/BrF90XrJACereVfbV/YXaKfp77Nmx5NjEIUlxojsy7iN7nBHSZigfsbFyVOX1ZTeCCxvqnRSExP4lk5ZeYlRu9caaa743TWNdchRIhEWwadsBIe245C8clpaZ4zrPsk+OwXzxWCvRRumyNSLW5KWaSJyJU95cwheK76gr7228spZ3hmTtLyrfM2QRFqZFMR8/Q6yWfVgwTdfX2Ry4w3+eAO/5VT5nFb5NlzXPvBEAWrNZ6Q3jbH0RF4vcbp+fDngf/ywpoyNQtjrfvcq93AVb1RDWRghvyqgI2BkMr1rwYi8gizZ0G9GmPpMeqPerAQ0dJbzx+KAFM4IBq6iSLpZHUroeyfd9o5o+4fR2EtsZBoJORQEA4SW0CmeXSnblx2e9QkCHIodyqV6+g5ETEpZsLqnd/Na60EKPX/tQpPEcO+COIBPcQdszDzSiHGyQFPly/7KciUh1u+mFfxTCHGv9nn2WqndGgeGjQ/kr02qmTBX7Hc1qiEvgiSz1Tz/sy7Es29wvn6FrDGPP7asXlhOaiHxOctPvTptFA1kHFUk8bME7SsTSnGbFbUrssxrq70LhoSh5OwvQna+w84XdXhZb2sloJ4ZsCg3j+PrjJL08/JBi5zGd6ud/ZxhmcGKLOXPcNunQq5ESW92iJvfsuRrNYtawWwSmNhPYoFj2QqWNF0ffLpGt/ad24RJ8vkb5sXkpyKXmvFG5Vcdzf/44k3PBL/ojJ52+kWGzOArnyp5f969oV3J2c4Li27Nkova9VwRNVKqN0V+gV+mTHitgkXV30aWd3A1RSildEleiNPA+5cp+3+T7X+xfHiRZXQ1s4FA9TxIcnveQs9JSZ5r5qNmgqlW4zMtZ6rYNvgmyVcywKtu8ZxnSbS5vXlBV+NXdIfi3+xzrnJ0TkFL+Un8v1PWOC2PPFCjVPq7qTH7mOpzOYj/b4h0ceT+eHgr97Jqhb1ziVfeANzfN8bFUhPKBi7hJBCukQnB0aGjFTYLJPXL26lQ2b80xrOD5cFWgA8hz3St0e69kwNnD3+nX3gy12FjrjO+ddRvvvfyV3SWbXcxqNHfmsb9u1TV+wHTb9B07/L2sB8WUHJ9eeNomDyysEWZ0deqEhH/oWI2oiEh526gvAK1Nx2kIhNvkYR+tPYHEa9j+nd1VBpQP1uzSjIDO+fDDB7uy029rRjDC5Sk6aKczyz1D5uA9Lu+Rrrapl8JXNL3VRllNQH2K1ZFxOpX8LprttfqQ56MbPM0IttUheXWD/mROOeFqGUbL+kUOVlXLTFX/525g4faLEFO4qWWdmOXMNvVjpIVTWt650HfQjX9oT3Dg5Au6+v1/Ci78La6ZOngYCFPT1AUwxQuZ0yt5xKdNXLaDTISMTeCj16XTryhM36K2mfGRIgot71voWs8tTpL/f1rvcwv3LSDf+/G8THCT7NpfHWcW+lsF/ol8q9Bi6MezNTqp0rpp/kJRiVfNrX/w27cRRTu8RIIqtUblBMkxy4jwAVqCjUJkiPBj2cAoVloG8B2/N5deLdMhDb7xs5nhd3dubJhuj8WbaFRyu1L678DHhhA+rMimNo4C1kGpp0tD/qnCfCFHejpf0LJX43OTr578PY0tnIIrlWyNYyuR/ie6j2xNb1OV6u0dOX/1Dtcd7+ya9W+rY2LmnyQMtk8SMLTon8RAdwOaN2tNg5zVnDKlmVeOxPV2vhHIo9QEPV7jc3f+zVDquiNg1OaHX3cZXJDRY5MJpo+VanAcmqp4oasYLG+wrXUL5vJU0kqk2hGEskhP+Jjigrz1l6QnEwp6n8PMVeJp70Ii6ppeaK9GhF6fJE00ceLyxv08tKiPat4QdxZFgSbQknnEiCLD8Qc1rjazVKM3r3gXnnMeONgdz/yFV1q+haaN+wnF3Fn4uYCI9XsKOuVwDD0LsCO/f0gj5cmxCFcr7sclIcefWjvore+3aSU474cyqDVxH7w1RX3CHsaqsMRX17ZLgjsDXws3kLm2XJdM3Ku383UXqaHqsywzPhx7NFir0Fqjym/w6cxD2U9ypa3dx7Z12w/fi3Jps8sqJ8f8Ah8aZAvkHXvIRyrsxK7rrFaNNdNvjI8+3Emri195DCNa858anj2Qdny6Czshkn4N2+1m+k5S8sunX3Ja7I+JutRzg1mc2e9Yc0Zv9PZn1SwhxIdU9sXwZRTd/J5FoUm0e+PYREeHg3oc2YYzGf2xfJxXExt4pT3RfDRHvMXLUmoXOy63xv5pLuhOEax0dRgSywZ/GH+YBXFgCeTU0hZ8SPEFsn8punp1Kurd1KgXxUZ+la3R5+4ePGR4ZF5UQtOa83+Vj8zh80dfzbhxWCeoJnQ4dkZJM4drzknZOOKx2n3WrvJnzFIS8p0xeic+M3ZRVXIp10tV2DyYKwRxLzulPwzHcLlYTxl4PF7v8l106Azr+6wBFejbq/3P72C/0j78cepY9990/d4eAurn2lqdGKLU8FffnMw7cY7pVeXJRMU73Oxwi2g2vh/+4gX8dvbjfojn/eLVhhYl8GthwCQ50KcZq4z2JeW5eeOnJWFQEnVxDoG459TaC4zXybECEoJ0V5q1tXrQbDMtUxeTV6Pdt1/zJuc7TJoV/9YZFWxUtCf6Ou3Vd/vR/vG0138hJQrHkNeoep5dLe+6umcSquKvMaFpm3EZHDBOvCi0XYyIFHMgX7Cqp3JVXlxJFwQfHSaIUEbI2u1lBVUdlNw4Qa9UsLPEK94Qiln3pyKxQVCeNlx8yd7EegVNQBkFLabKvnietYVB4IPZ1fSor82arbgYec8aSdFMaIluYTYuNx32SxfrjKUdPGq+UNp5YpydoEG3xVLixtmHO9zXxKAnHnPuH2fPGrjx0GcuCDEU+yXUtXh6nfUL+cykws1gJ5vkfYFaFBr9PdCXvVf35OJQxzUMmWjv0W6uGJK11uAGDqSpOwCf6rouSIjPVgw57cJCOQ4b9tkI/Y5WNon9Swe72aZryKo8d+HyHBEdWJKrkary0LIGczA4Irq353Wc0Zga3om7UQiAGCvIl8GGyaqz5zH+1gMP5phWUCpKtttWIyicz09vXg76GxkmiGSMQ06Z9X8BUwqOtauDbPIf4rpK/yYoeAHxJ9soXS9VDe1Aw+awOOxaN8foLrif0TXBvQ55dtRtulRq9emFDBxlQcqKCaD8NeTSE7FOHvcjf/+oKbbtRqz9gbofoc2EzQ3pL6W5JdfJzAWmOk8oeoECe90lVMruwl/ltM015P/zIPazqvdvFmLNVHMIZrwiQ2tIKtGh6PDVH+85ew3caqVt2BsDv5rOcu3G9srQWd7NmgtzCRUXLYknYRSwtH9oUtkqyN3CfP20xQ1faXQl4MEmjQehWR6GmGnkdpYNQYeIG408yAX7uCZmYUic9juOfb+Re28+OVOB+scYK4DaPcBe+5wmji9gymtkMpKo4UKqCz7yxzuN8VIlx9yNozpRJpNaWHtaZVEqP45n2JemTlYBSmNIK1FuSYAUQ1yBLnKxevrjayd+h2i8PjdB3YY6b0nr3JuOXGpPMyh4V2dslpR3DFEvgpsBLqhqLDOWP4yEvIL6f21PpA7/8B")),c=Math.log2||(S=>Math.log(S)/Math.LN2),p=S=>c(S)+1|0,g=p(r(s).categories.length-1),y=p(r(s).combiningClasses.length-1),w=p(r(s).scripts.length-1),d=p(r(s).eaw.length-1),b=10,m=y+w+d+b,T=w+d+b,C=d+b,P=b,z=(1<<g)-1,U=(1<<y)-1,B=(1<<w)-1,F=(1<<d)-1,D=(1<<b)-1;function R(S){const O=l.get(S);return r(s).categories[O>>m&z]}function G(S){const O=l.get(S);return r(s).combiningClasses[O>>T&U]}function Q(S){const O=l.get(S);return r(s).scripts[O>>C&B]}function Z(S){const O=l.get(S);return r(s).eaw[O>>P&F]}function V(S){let O=l.get(S),L=O&D;if(L===0)return null;if(L<=50)return L-1;if(L<480){const K=(L>>4)-12,I=(L&15)+1;return K/I}else if(L<768){O=(L>>5)-14;let K=(L&31)+2;for(;K>0;)O*=10,K--;return O}else{O=(L>>2)-191;let K=(L&3)+1;for(;K>0;)O*=60,K--;return O}}function u(S){const O=R(S);return O==="Lu"||O==="Ll"||O==="Lt"||O==="Lm"||O==="Lo"||O==="Nl"}function o(S){return R(S)==="Nd"}function f(S){const O=R(S);return O==="Pc"||O==="Pd"||O==="Pe"||O==="Pf"||O==="Pi"||O==="Po"||O==="Ps"}function v(S){return R(S)==="Ll"}function N(S){return R(S)==="Lu"}function E(S){return R(S)==="Lt"}function M(S){const O=R(S);return O==="Zs"||O==="Zl"||O==="Zp"}function h(S){const O=R(S);return O==="Nd"||O==="No"||O==="Nl"||O==="Lu"||O==="Ll"||O==="Lt"||O==="Lm"||O==="Lo"||O==="Me"||O==="Mc"}function _(S){const O=R(S);return O==="Mn"||O==="Me"||O==="Mc"}var A={getCategory:R,getCombiningClass:G,getScript:Q,getEastAsianWidth:Z,getNumericValue:V,isAlphabetic:u,isDigit:o,isPunctuation:f,isLowerCase:v,isUpperCase:N,isTitleCase:E,isWhiteSpace:M,isBaseForm:h,isMark:_}})(ol);var gl=ol.exports,uo;function br(){return uo||(uo=1,function(e){var t=be&&be.__importDefault||function(H){return H&&H.__esModule?H:{default:H}};Object.defineProperty(e,"__esModule",{value:!0}),e.makeNameStyle=e.addPrefixIfNecessary=e.combineWords=e.allLowerWordStyle=e.originalWord=e.allUpperWordStyle=e.firstUpperWordStyle=e.splitIntoWords=e.fastIsUpperCase=e.startWithLetter=e.snakeCase=e.camelCase=e.pascalCase=e.decapitalize=e.capitalize=e.trimEnd=e.isWordCharacter=e.isLetterOrUnderscoreOrDigit=e.isLetterOrUnderscore=e.isLetterOrDigit=e.isNumeric=e.isDigit=e.isLetter=e.isAscii=e.isPrintable=e.stringEscape=e.utf16StringEscape=e.escapeNonPrintableMapper=e.standardUnicodeHexEscape=e.intToHex=e.repeatString=e.legalizeCharacters=e.utf16LegalizeCharacters=e.utf32ConcatMap=e.utf16ConcatMap=void 0;const n=ie,r=bh(),i=ze,a=t(gl);function s(H){const J=[],ee=[];for(let re=0;re<128;re++){let ae=0;const oe=H(re);oe===String.fromCharCode(re)&&(ae=1),J.push(oe),ee.push(ae)}return{charStringMap:J,charNoEscapeMap:ee}}function l(H){const J=[];for(let ee=0;ee<128;ee++)J.push(H(ee));return function(ee){return ee<128?J[ee]:H(ee)}}function c(H){const{charStringMap:J,charNoEscapeMap:ee}=s(H);return function(ae){let oe=null,ke=0,fe=0;for(;fe<ae.length;){const ge=ae.charCodeAt(fe);if(ee[ge]!==1){oe===null&&(oe=[]),oe.push(ae.substring(ke,fe));const _e=J[ge];_e===void 0?oe.push(H(ae.charCodeAt(fe))):oe.push(_e),ke=fe+1}fe++}return oe===null?ae:(oe.push(ae.substring(ke,fe)),oe.join(""))}}e.utf16ConcatMap=c;function p(H){return H>=55296&&H<=56319}function g(H){return H>=56320&&H<=57343}function y(H){const{charStringMap:J,charNoEscapeMap:ee}=s(H);return function(ae){let oe=null,ke=0,fe=0;for(;fe<ae.length;){let ge=ae.charCodeAt(fe);if(ee[ge]!==1){if(oe===null&&(oe=[]),oe.push(ae.substring(ke,fe)),p(ge)){const $=ge;fe++;const j=ae.charCodeAt(fe);(0,i.messageAssert)(g(j),"MiscUnicodeHighSurrogateWithoutLowSurrogate",{});const W=$-55296;ge=65536+(j-56320)+(W<<10)}const _e=J[ge];_e===void 0?oe.push(H(ge)):oe.push(_e),ke=fe+1}fe++}return oe===null?ae:(oe.push(ae.substring(ke,fe)),oe.join(""))}}e.utf32ConcatMap=y;function w(H){return c(J=>H(J)?String.fromCharCode(J):"")}e.utf16LegalizeCharacters=w;function d(H){return y(J=>J<=65535&&H(J)?String.fromCharCode(J):"")}e.legalizeCharacters=d;function b(H,J){if((0,n.assert)(J>=0,"Cannot repeat a string a negative number of times"),J===0)return"";let ee="";do J%2!==0&&(ee+=H),J=Math.floor(J/2),J>0&&(H+=H);while(J>0);return ee}e.repeatString=b;function m(H,J){let ee=H.toString(16);return ee.length>=J?ee:b("0",J-ee.length)+ee}e.intToHex=m;function T(H){return H<=65535?"\\u"+m(H,4):"\\U"+m(H,8)}e.standardUnicodeHexEscape=T;function C(H,J){function ee(re){switch(re){case 92:return"\\\\";case 34:return'\\"';case 10:return"\\n";case 9:return"\\t";default:return H(re)?String.fromCharCode(re):J(re)}}return ee}e.escapeNonPrintableMapper=C,e.utf16StringEscape=c(C(P,T)),e.stringEscape=y(C(P,T));function P(H){if(H>65535)return!1;const J=a.default.getCategory(H);return["Mc","No","Sk","Me","Nd","Po","Lt","Pc","Sm","Zs","Lu","Pd","So","Pe","Pf","Ps","Sc","Ll","Lm","Pi","Nl","Mn","Lo"].indexOf(J)>=0}e.isPrintable=P;function z(H){return H<128}e.isAscii=z;function U(H){const J=a.default.getCategory(H);return["Lu","Ll","Lt","Lo"].indexOf(J)>=0}e.isLetter=U;function B(H){const J=a.default.getCategory(H);return["Nd"].indexOf(J)>=0}e.isDigit=B;function F(H){const J=a.default.getCategory(H);return["No","Nd","Nl"].indexOf(J)>=0}e.isNumeric=F;function D(H){return U(H)||B(H)}e.isLetterOrDigit=D;function R(H){return U(H)||H===95}e.isLetterOrUnderscore=R;function G(H){return R(H)||B(H)}e.isLetterOrUnderscoreOrDigit=G;function Q(H){return U(H)||B(H)}e.isWordCharacter=Q;function Z(H){const J=H.length;let ee=J;for(let re=J-1;re>=0&&a.default.isWhiteSpace(H.charCodeAt(re));re--)ee=re;return ee===J?H:H.slice(0,ee)}e.trimEnd=Z;function V(H,J){return J===""?J:H(J[0])+J.slice(1)}function u(H){return V(J=>J.toUpperCase(),H)}e.capitalize=u;function o(H){return V(J=>J.toLowerCase(),H)}e.decapitalize=o;const f=/[-_. ]+/;function v(H){return H.split(f).map(u).join("")}e.pascalCase=v;function N(H){return o(v(H))}e.camelCase=N;function E(H){return K(H).map(({word:ee})=>ee.toLowerCase()).join("_")}e.snakeCase=E;function M(H,J,ee){const re=J?u:o;return ee===""?re("empty"):H(ee.charCodeAt(0))?re(ee):re("the"+ee)}e.startWithLetter=M;const h=new Set(r.acronyms),_=l(Q),A=l(H=>!Q(H)),S=l(H=>a.default.isLowerCase(H));e.fastIsUpperCase=l(H=>a.default.isUpperCase(H));const O=l(H=>!a.default.isLowerCase(H)&&!a.default.isUpperCase(H)),L=l(B);function K(H){const J=[];let ee;const re=H.length;let ae=0,oe;function ke(){return ae>=re}function fe(){return(0,n.defined)(H.codePointAt(ae))}function ge(Xe){for(;!ke();){const Ge=fe();if(!Xe(Ge))break;S(Ge)&&(oe=ae),ae++}}function _e(){ge(A)}function $(){ge(S)}function j(){ge(e.fastIsUpperCase)}function W(){ge(O)}function Y(){ge(L)}function se(){(0,n.assert)(ee===void 0,"Interval started before last one was committed"),ee=ae}function he(){if(ee===void 0)return(0,n.panic)("Tried to commit interval without starting one");(0,n.assert)(ae>ee,"Interval must be non-empty"),!ke()&&g(fe())&&(ae+=1);const Xe=oe===void 0||oe<ee;J.push([ee,ae,Xe]),ee=void 0}function Ze(){return ee===void 0?(0,n.panic)("Tried to get interval length without starting one"):ae-ee}for(;_e(),!ke();)se(),S(fe())?($(),Y(),he()):(0,e.fastIsUpperCase)(fe())?(j(),ke()?he():Ze()===1?($(),Y(),he()):B(fe())?(Y(),he()):(_(fe())&&(ae-=1),he())):(W(),he());const St=[];for(const[Xe,Ge,kt]of J){const wr=H.slice(Xe,Ge),Ni=oe!==void 0&&kt||h.has(wr.toLowerCase());St.push({word:wr,isAcronym:Ni})}return St}e.splitIntoWords=K;function I(H){return(0,n.assert)(H.length>0,"Cannot style an empty string"),H[0].toUpperCase()+H.slice(1).toLowerCase()}e.firstUpperWordStyle=I;function k(H){return H.toUpperCase()}e.allUpperWordStyle=k;function x(H){return H}e.originalWord=x;function q(H){return H.toLowerCase()}e.allLowerWordStyle=q;function X(H,J){(0,n.assert)(J.length>0,"Tried to style an empty word");const ee=H(J);return(0,n.assert)(ee.length>0,"Word style must not make word empty"),ee}function te(H,J,ee,re,ae,oe,ke,fe){const ge=[];for(const se of H){const he=J(se.word);he.length!==0&&ge.push({word:he,isAcronym:se.isAcronym})}if(ge.length===0){const se=J("empty");(0,n.assert)(se.length>0,'Word "empty" is invalid in target language'),ge.push({word:se,isAcronym:!1})}const _e=[],$=ge[0],j=$.isAcronym?ae:ee,W=X(j,$.word);let Y;if(fe((0,n.defined)(W.codePointAt(0))))_e.push(W),Y=ge.slice(1);else{const se=J("the");(0,n.assert)(se.length>0,'Word "the" is invalid in the target language');const he=X(ee,se);(0,n.assert)(fe((0,n.defined)(he.codePointAt(0))),'The first character of styling "the" is not a start character'),_e.push(he),Y=ge}for(const se of Y){const he=se.isAcronym?oe:re;_e.push(X(he,se.word))}return _e.join(ke)}e.combineWords=te;function ne(H,J){return J.startsWith(H)?J:H+J}e.addPrefixIfNecessary=ne;function ue(H,J,ee){let re,ae,oe,ke,fe;switch(H==="pascal"||H==="camel"||H==="pascal-upper-acronyms"||H==="camel-upper-acronyms"?(re="",H==="pascal-upper-acronyms"||H==="camel-upper-acronyms"?(oe=I,fe=k):oe=fe=I):re="_",H){case"pascal":case"pascal-upper-acronyms":ae=ke=I;break;case"camel":case"camel-upper-acronyms":ae=ke=q;break;case"underscore":ae=oe=ke=fe=q;break;case"upper-underscore":ae=oe=ke=fe=k;break;default:return(0,n.assertNever)(H)}return ge=>{const _e=K(ge),$=te(_e,J,ae,oe,ke,fe,re,R);return ee!==void 0?ne(ee,$):$}}e.makeNameStyle=ue}(Ji)),Ji}var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});Ti.Chance=void 0;class Yh{constructor(t){t===void 0&&(t=Math.floor(Math.random()*Math.pow(10,13))),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,this.init_genrand(t)}init_genrand(t){for(this.mt[0]=t>>>0,this.mti=1;this.mti<this.N;this.mti++)t=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30,this.mt[this.mti]=(((t&4294901760)>>>16)*1812433253<<16)+(t&65535)*1812433253+this.mti,this.mt[this.mti]>>>=0}genrand_int32(){let t,n=new Array(0,this.MATRIX_A);if(this.mti>=this.N){let r;for(this.mti===this.N+1&&this.init_genrand(5489),r=0;r<this.N-this.M;r++)t=this.mt[r]&this.UPPER_MASK|this.mt[r+1]&this.LOWER_MASK,this.mt[r]=this.mt[r+this.M]^t>>>1^n[t&1];for(;r<this.N-1;r++)t=this.mt[r]&this.UPPER_MASK|this.mt[r+1]&this.LOWER_MASK,this.mt[r]=this.mt[r+(this.M-this.N)]^t>>>1^n[t&1];t=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^t>>>1^n[t&1],this.mti=0}return t=this.mt[this.mti++],t^=t>>>11,t^=t<<7&2636928640,t^=t<<15&4022730752,t^=t>>>18,t>>>0}random(){return this.genrand_int32()*(1/4294967296)}}class ep{constructor(t){this.seed=t,this.mt=new Yh(this.seed)}random(){return this.mt.random()}integer(t){return Math.floor(this.random()*(t.max-t.min+1)+t.min)}natural(t){return this.integer({min:0,max:t.max})}pick(t){if(t.length===0)throw new RangeError("Chance: Cannot pick() from an empty array");return t[this.natural({max:t.length-1})]}animal(){const t=["desert","forest","ocean","zoo","farm","pet","grassland"];return this.pick(tp[this.pick(t)])}city(){return this.pick(np)}}Ti.Chance=ep;const tp={ocean:["Acantharea","Anemone","Angelfish King","Ahi Tuna","Albacore","American Oyster","Anchovy","Armored Snail","Arctic Char","Atlantic Bluefin Tuna","Atlantic Cod","Atlantic Goliath Grouper","Atlantic Trumpetfish","Atlantic Wolffish","Baleen Whale","Banded Butterflyfish","Banded Coral Shrimp","Banded Sea Krait","Barnacle","Barndoor Skate","Barracuda","Basking Shark","Bass","Beluga Whale","Bluebanded Goby","Bluehead Wrasse","Bluefish","Bluestreak Cleaner-Wrasse","Blue Marlin","Blue Shark","Blue Spiny Lobster","Blue Tang","Blue Whale","Broadclub Cuttlefish","Bull Shark","Chambered Nautilus","Chilean Basket Star","Chilean Jack Mackerel","Chinook Salmon","Christmas Tree Worm","Clam","Clown Anemonefish","Clown Triggerfish","Cod","Coelacanth","Cockscomb Cup Coral","Common Fangtooth","Conch","Cookiecutter Shark","Copepod","Coral","Corydoras","Cownose Ray","Crab","Crown-of-Thorns Starfish","Cushion Star","Cuttlefish","California Sea Otters","Dolphin","Dolphinfish","Dory","Devil Fish","Dugong","Dumbo Octopus","Dungeness Crab","Eccentric Sand Dollar","Edible Sea Cucumber","Eel","Elephant Seal","Elkhorn Coral","Emperor Shrimp","Estuarine Crocodile","Fathead Sculpin","Fiddler Crab","Fin Whale","Flameback","Flamingo Tongue Snail","Flashlight Fish","Flatback Turtle","Flatfish","Flying Fish","Flounder","Fluke","French Angelfish","Frilled Shark","Fugu (also called Pufferfish)","Gar","Geoduck","Giant Barrel Sponge","Giant Caribbean Sea Anemone","Giant Clam","Giant Isopod","Giant Kingfish","Giant Oarfish","Giant Pacific Octopus","Giant Pyrosome","Giant Sea Star","Giant Squid","Glowing Sucker Octopus","Giant Tube Worm","Goblin Shark","Goosefish","Great White Shark","Greenland Shark","Grey Atlantic Seal","Grouper","Grunion","Guineafowl Puffer","Haddock","Hake","Halibut","Hammerhead Shark","Hapuka","Harbor Porpoise","Harbor Seal","Hatchetfish","Hawaiian Monk Seal","Hawksbill Turtle","Hector's Dolphin","Hermit Crab","Herring","Hoki","Horn Shark","Horseshoe Crab","Humpback Anglerfish","Humpback Whale","Icefish","Imperator Angelfish","Irukandji Jellyfish","Isopod","Ivory Bush Coral","Japanese Spider Crab","Jellyfish","John Dory","Juan Fernandez Fur Seal","Killer Whale","Kiwa Hirsuta","Krill","Lagoon Triggerfish","Lamprey","Leafy Seadragon","Leopard Seal","Limpet","Ling","Lionfish","Lions Mane Jellyfish","Lobe Coral","Lobster","Loggerhead Turtle","Longnose Sawshark","Longsnout Seahorse","Lophelia Coral","Marrus Orthocanna","Manatee","Manta Ray","Marlin","Megamouth Shark","Mexican Lookdown","Mimic Octopus","Moon Jelly","Mollusk","Monkfish","Moray Eel","Mullet","Mussel","Megaladon","Napoleon Wrasse","Nassau Grouper","Narwhal","Nautilus","Needlefish","Northern Seahorse","North Atlantic Right Whale","Northern Red Snapper","Norway Lobster","Nudibranch","Nurse Shark","Oarfish","Ocean Sunfish","Oceanic Whitetip Shark","Octopus","Olive Sea Snake","Orange Roughy","Ostracod","Otter","Oyster","Pacific Angelshark","Pacific Blackdragon","Pacific Halibut","Pacific Sardine","Pacific Sea Nettle Jellyfish","Pacific White Sided Dolphin","Pantropical Spotted Dolphin","Patagonian Toothfish","Peacock Mantis Shrimp","Pelagic Thresher Shark","Penguin","Peruvian Anchoveta","Pilchard","Pink Salmon","Pinniped","Plankton","Porpoise","Polar Bear","Portuguese Man o' War","Pycnogonid Sea Spider","Quahog","Queen Angelfish","Queen Conch","Queen Parrotfish","Queensland Grouper","Ragfish","Ratfish","Rattail Fish","Ray","Red Drum","Red King Crab","Ringed Seal","Risso's Dolphin","Ross Seals","Sablefish","Salmon","Sand Dollar","Sandbar Shark","Sawfish","Sarcastic Fringehead","Scalloped Hammerhead Shark","Seahorse","Sea Cucumber","Sea Lion","Sea Urchin","Seal","Shark","Shortfin Mako Shark","Shovelnose Guitarfish","Shrimp","Silverside Fish","Skipjack Tuna","Slender Snipe Eel","Smalltooth Sawfish","Smelts","Sockeye Salmon","Southern Stingray","Sponge","Spotted Porcupinefish","Spotted Dolphin","Spotted Eagle Ray","Spotted Moray","Squid","Squidworm","Starfish","Stickleback","Stonefish","Stoplight Loosejaw","Sturgeon","Swordfish","Tan Bristlemouth","Tasseled Wobbegong","Terrible Claw Lobster","Threespot Damselfish","Tiger Prawn","Tiger Shark","Tilefish","Toadfish","Tropical Two-Wing Flyfish","Tuna","Umbrella Squid","Velvet Crab","Venus Flytrap Sea Anemone","Vigtorniella Worm","Viperfish","Vampire Squid","Vaquita","Wahoo","Walrus","West Indian Manatee","Whale","Whale Shark","Whiptail Gulper","White-Beaked Dolphin","White-Ring Garden Eel","White Shrimp","Wobbegong","Wrasse","Wreckfish","Xiphosura","Yellowtail Damselfish","Yelloweye Rockfish","Yellow Cup Black Coral","Yellow Tube Sponge","Yellowfin Tuna","Zebrashark","Zooplankton"],desert:["Aardwolf","Addax","African Wild Ass","Ant","Antelope","Armadillo","Baboon","Badger","Bat","Bearded Dragon","Beetle","Bird","Black-footed Cat","Boa","Brown Bear","Bustard","Butterfly","Camel","Caracal","Caracara","Caterpillar","Centipede","Cheetah","Chipmunk","Chuckwalla","Climbing Mouse","Coati","Cobra","Cotton Rat","Cougar","Courser","Crane Fly","Crow","Dassie Rat","Dove","Dunnart","Eagle","Echidna","Elephant","Emu","Falcon","Fly","Fox","Frogmouth","Gecko","Geoffroy's Cat","Gerbil","Grasshopper","Guanaco","Gundi","Hamster","Hawk","Hedgehog","Hyena","Hyrax","Jackal","Kangaroo","Kangaroo Rat","Kestrel","Kowari","Kultarr","Leopard","Lion","Macaw","Meerkat","Mouse","Oryx","Ostrich","Owl","Pronghorn","Python","Rabbit","Raccoon","Rattlesnake","Rhinoceros","Sand Cat","Spectacled Bear","Spiny Mouse","Starling","Stick Bug","Tarantula","Tit","Toad","Tortoise","Tyrant Flycatcher","Viper","Vulture","Waxwing","Xerus","Zebra"],grassland:["Aardvark","Aardwolf","Accentor","African Buffalo","African Wild Dog","Alpaca","Anaconda","Ant","Anteater","Antelope","Armadillo","Baboon","Badger","Bandicoot","Barbet","Bat","Bee","Bee-eater","Beetle","Bird","Bison","Black-footed Cat","Black-footed Ferret","Bluebird","Boa","Bowerbird","Brown Bear","Bush Dog","Bushshrike","Bustard","Butterfly","Buzzard","Caracal","Caracara","Cardinal","Caterpillar","Cheetah","Chipmunk","Civet","Climbing Mouse","Clouded Leopard","Coati","Cobra","Cockatoo","Cockroach","Common Genet","Cotton Rat","Cougar","Courser","Coyote","Crane","Crane Fly","Cricket","Crow","Culpeo","Death Adder","Deer","Deer Mouse","Dingo","Dinosaur","Dove","Drongo","Duck","Duiker","Dunnart","Eagle","Echidna","Elephant","Elk","Emu","Falcon","Finch","Flea","Fly","Flying Frog","Fox","Frog","Frogmouth","Garter Snake","Gazelle","Gecko","Geoffroy's Cat","Gerbil","Giant Tortoise","Giraffe","Grasshopper","Grison","Groundhog","Grouse","Guanaco","Guinea Pig","Hamster","Harrier","Hartebeest","Hawk","Hedgehog","Helmetshrike","Hippopotamus","Hornbill","Hyena","Hyrax","Impala","Jackal","Jaguar","Jaguarundi","Kangaroo","Kangaroo Rat","Kestrel","Kultarr","Ladybug","Leopard","Lion","Macaw","Meerkat","Mouse","Newt","Oryx","Ostrich","Owl","Pangolin","Pheasant","Prairie Dog","Pronghorn","Przewalski's Horse","Python","Quoll","Rabbit","Raven","Rhinoceros","Shelduck","Sloth Bear","Spectacled Bear","Squirrel","Starling","Stick Bug","Tamandua","Tasmanian Devil","Thornbill","Thrush","Toad","Tortoise"],forest:["Agouti","Anaconda","Anoa","Ant","Anteater","Antelope","Armadillo","Asian Black Bear","Aye-aye","Babirusa","Baboon","Badger","Bandicoot","Banteng","Barbet","Basilisk","Bat","Bearded Dragon","Bee","Bee-eater","Beetle","Bettong","Binturong","Bird-of-paradise","Bongo","Bowerbird","Bulbul","Bush Dog","Bushbaby","Bushshrike","Butterfly","Buzzard","Caecilian","Cardinal","Cassowary","Caterpillar","Centipede","Chameleon","Chimpanzee","Cicada","Civet","Clouded Leopard","Coati","Cobra","Cockatoo","Cockroach","Colugo","Cotinga","Cotton Rat","Cougar","Crane Fly","Cricket","Crocodile","Crow","Cuckoo","Cuscus","Death Adder","Deer","Dhole","Dingo","Dinosaur","Drongo","Duck","Duiker","Eagle","Echidna","Elephant","Finch","Flat-headed Cat","Flea","Flowerpecker","Fly","Flying Frog","Fossa","Frog","Frogmouth","Gaur","Gecko","Gorilla","Grison","Hawaiian Honeycreeper","Hawk","Hedgehog","Helmetshrike","Hornbill","Hyrax","Iguana","Jackal","Jaguar","Jaguarundi","Kestrel","Ladybug","Lemur","Leopard","Lion","Macaw","Mandrill","Margay","Monkey","Mouse","Mouse Deer","Newt","Okapi","Old World Flycatcher","Orangutan","Owl","Pangolin","Peafowl","Pheasant","Possum","Python","Quokka","Rabbit","Raccoon","Red Panda","Red River Hog","Rhinoceros","Sloth Bear","Spectacled Bear","Squirrel","Starling","Stick Bug","Sun Bear","Tamandua","Tamarin","Tapir","Tarantula","Thrush","Tiger","Tit","Toad","Tortoise","Toucan","Trogon","Trumpeter","Turaco","Turtle","Tyrant Flycatcher","Viper","Vulture","Wallaby","Warbler","Wasp","Waxwing","Weaver","Weaver-finch","Whistler","White-eye","Whydah","Woodswallow","Worm","Wren","Xenops","Yellowjacket","Accentor","African Buffalo","American Black Bear","Anole","Bird","Bison","Boa","Brown Bear","Chipmunk","Common Genet","Copperhead","Coyote","Deer Mouse","Dormouse","Elk","Emu","Fisher","Fox","Garter Snake","Giant Panda","Giant Tortoise","Groundhog","Grouse","Guanaco","Himalayan Tahr","Kangaroo","Koala","Numbat","Quoll","Raccoon dog","Tasmanian Devil","Thornbill","Turkey","Vole","Weasel","Wildcat","Wolf","Wombat","Woodchuck","Woodpecker"],farm:["Alpaca","Buffalo","Banteng","Cow","Cat","Chicken","Carp","Camel","Donkey","Dog","Duck","Emu","Goat","Gayal","Guinea","Goose","Horse","Honey","Llama","Pig","Pigeon","Rhea","Rabbit","Sheep","Silkworm","Turkey","Yak","Zebu"],pet:["Bearded Dragon","Birds","Burro","Cats","Chameleons","Chickens","Chinchillas","Chinese Water Dragon","Cows","Dogs","Donkey","Ducks","Ferrets","Fish","Geckos","Geese","Gerbils","Goats","Guinea Fowl","Guinea Pigs","Hamsters","Hedgehogs","Horses","Iguanas","Llamas","Lizards","Mice","Mule","Peafowl","Pigs and Hogs","Pigeons","Ponies","Pot Bellied Pig","Rabbits","Rats","Sheep","Skinks","Snakes","Stick Insects","Sugar Gliders","Tarantula","Turkeys","Turtles"],zoo:["Aardvark","African Wild Dog","Aldabra Tortoise","American Alligator","American Bison","Amur Tiger","Anaconda","Andean Condor","Asian Elephant","Baby Doll Sheep","Bald Eagle","Barred Owl","Blue Iguana","Boer Goat","California Sea Lion","Caribbean Flamingo","Chinchilla","Collared Lemur","Coquerel's Sifaka","Cuban Amazon Parrot","Ebony Langur","Fennec Fox","Fossa","Gelada","Giant Anteater","Giraffe","Gorilla","Grizzly Bear","Henkel's Leaf-tailed Gecko","Indian Gharial","Indian Rhinoceros","King Cobra","King Vulture","Komodo Dragon","Linne's Two-toed Sloth","Lion","Little Penguin","Madagascar Tree Boa","Magellanic Penguin","Malayan Tapir","Malayan Tiger","Matschies Tree Kangaroo","Mini Donkey","Monarch Butterfly","Nile crocodile","North American Porcupine","Nubian Ibex","Okapi","Poison Dart Frog","Polar Bear","Pygmy Marmoset","Radiated Tortoise","Red Panda","Red Ruffed Lemur","Ring-tailed Lemur","Ring-tailed Mongoose","Rock Hyrax","Small Clawed Asian Otter","Snow Leopard","Snowy Owl","Southern White-faced Owl","Southern White Rhinocerous","Squirrel Monkey","Tufted Puffin","White Cheeked Gibbon","White-throated Bee Eater","Zebra"]},np=["Alert","Nord","Eureka","Ny-Ålesund","Longyearbyen","Qaanaaq","Grise Fiord","Dikson","Upernavik","Tiksi","Belushya Guba","Barrow","Honningsvåg","Hammerfest","Deadhorse","Nuorgam","Vadsø","Alta","Utsjoki","Kirkenes","Tromsø","Tuktoyaktuk","Norilsk","Murmansk","Harstad","Narvik","Inuvik","Kiruna","Verkhoyansk","Bodø","Gällivare","Kemijärvi","Rovaniemi","Ísafjörður","Kuusamo","Tornio","Boden","Haparanda","Kemi","Akureyri","Luleå","Pudasjärvi","Piteå","Oulu","Fairbanks","Skellefteå","Anadyr","Arkhangelsk","Nome","Nuuk (Godthåb)","Reykjavík","Umeå","Iqaluit","Stjørdal","Trondheim","Örnsköldsvik","Östersund","Vaasa","Kuopio","Yellowknife","Sundsvall","Jyväskylä","Yakutsk","Tórshavn","Petrozavodsk","Tampere","Anchorage","Lillehammer","Lahti","Qaqortoq","Whitehorse","Turku","Bergen","Vantaa","Lerwick","Espoo","Helsinki","Oslo","Saint Petersburg","Uppsala","Fritz Creek","Magadan","Tallinn","Stockholm","Sarpsborg","Örebro","Vologda","Norrköping","Linköping","Tartu","Juneau","Arendal","Kristiansand","Perm","Valga","Gothenburg","Visby","Yaroslavl","Inverness","Aberdeen","Sitka","Riga","Izhevsk","Yekaterinburg","Fort McMurray","Dundee","Nizhny Novgorod","Stirling","Bratsk","Aarhus","Krasnoyarsk","Edinburgh","Glasgow","Kazan","Moscow","Copenhagen","Malmö","Esbjerg","Odense","Grande Prairie","Chelyabinsk","Novosibirsk","Derry","Omsk","Newcastle upon Tyne","Sunderland","Petropavl","Flensburg","Ufa","Kaliningrad","Vilnius","Belfast","Middlesbrough","Gdynia","Gdańsk","Kiel","Douglas","Rostock","Lancaster","York","Prince George","Minsk","Bradford","Leeds","Hamburg","Edmonton","Tolyatti","Manchester","Liverpool","Sheffield","Dublin","Groningen","Samara","Bremen","Petropavlovsk-Kamchatsky","Nottingham","Derby","Leicester","Norwich","Peterborough","Berlin","Birmingham","Gomel","Coventry","Poznań","Haarlem","Amsterdam","Hannover","Irkutsk","Warsaw","Enschede","Cambridge","Leiden","Saskatoon","Utrecht","The Hague","Münster","Rotterdam","Cork","Adak","Gloucester","Oxford","Voronezh","Swansea","Saratov","Dortmund","London","Cardiff","Greenwich","Bristol","Bath","Leipzig","Düsseldorf","Antwerp","Astana","Winchester","Calgary","Ghent","Dresden","Erfurt","Calais","Cologne","Southampton","Maastricht","Brussels","Brighton and Hove","Portsmouth","Exeter","Kamloops","Lille","Regina","Kiev","Charleroi","Plymouth","Frankfurt am Main","Prague","Kraków","Kharkiv","Winnipeg","Kelowna","Lviv","Luxembourg","Le Havre","Nuremberg","Rouen","Vancouver","Paris","Stuttgart","Bellingham","Volgograd","Strasbourg","Dnipro","Victoria","Saguenay","Brest","Thunder Bay","Linz","Vienna","Bratislava","Munich","Donetsk","Ulaanbaatar","Orléans","Salzburg","Seattle","St. John's","Basel","Budapest","Qiqihar","Zürich","Innsbruck","Rostov-on-Don","Nantes","Vaduz","Atyrau","Graz","Chişinău","Bern","Tiraspol","Quebec City","Bismarck","Duluth","Saint-Pierre","Cluj-Napoca","Moscow","Helena","Sault Ste. Marie","Lausanne","Sudbury","Odessa","North Bay","Charlottetown","Geneva","Moncton","Ljubljana","Fredericton","Zagreb","Lyon","Harbin","New Glasgow","Portland","Montreal","Milan","Venice","Ottawa","Wakkanai","Saint John","Novi Sad","Turin","Krasnodar","Minneapolis","Simferopol","Halifax","Bordeaux","Belgrade","Šabac","Drobeta Turnu Severin","Bologna","Bucharest","Ravenna","Genoa","Pierre","Craiova","Augusta","Montpelier","Bath","San Marino","Changchun","Sarajevo","Yarmouth","Ürümqi","Florence","Asahikawa","Monaco","Nice","Toronto","Boise","Toulouse","Sochi","Cannes","Gijón","Sioux Falls","Split","Oviedo","Nemuro","San Sebastián","Marseille","Almaty","Bilbao","Concord","Rochester","Vladivostok","Sapporo","Milwaukee","Sukhumi","Kushiro","London","Follonica","Obihiro","Buffalo","Santiago de Compostela","Bishkek","Vitoria-Gasteiz","Sofia","Pristina","Andorra la Vella","Nukus","Podgorica","Boston","Detroit","Windsor","Vigo","Tskhinvali","Avezzano","Skopje","Colchester","Rome","Vatican City","Chicago","Providence","Shenyang","Chongjin","Hartford","Hakodate","Tbilisi","Valladolid","Zaragoza","Des Moines","Braga","Cleveland","Barcelona","Tirana","Tashkent","Porto","Cheyenne","Bari","Fort Wayne","Istanbul","Trabzon","Namangan","Naples","Aomori","Lincoln","Eureka","Salt Lake City","Jersey City","New York City","Thessaloniki","Lleida","Pittsburgh","Baku","Madrid","Trenton","Bursa","Yerevan","Boulder","Columbus","Ankara","Philadelphia","Beijing","Stepanakert","Forked River","Eskisehir","Indianapolis","Denver","Akita","Morioka","Palma","Reno","Flores Island","Valencia","Baltimore","Cagliari","Dover","Wonsan","Tianjin","Cincinnati","Kansas City","Pyongyang","Ibiza","Dalian","Washington","Lisbon","St. Louis","Horta","Sacramento","Dushanbe","Angra do Heroísmo","Halkida","İzmir","Charleston","Alicante","Sendai","Louisville","Yamagata","Messina","Palermo","Tabriz","Shijiazhuang","Trapani","Athena","Kaesong","Ashgabat","Niigata","Taiyuan","Konya","Ponta Delgada","Oakland","San Francisco","Fukushima","Wichita","Seoul","San Jose","Catania","Incheon","Sevilla","Mugla","Springfield","Gaziantep","Adana","Virginia Beach","Almería","Tunis","Mersin","Algiers","Málaga","Toyama","Jinan","Nagano","Xining","Handan","Kanazawa","Utsunomiya","Maebashi","Mito","Mosul","Mashhad","Arbil","Las Vegas","Nashville","Gibraltar","Tulsa","Fukui","Qingdao","Lanzhou","Knoxville","Valletta","Birkirkara","Los Alamos","Daegu","Raleigh","Tangier","Tehran","Tokyo","Santa Fe","Kōfu","Chiba","Latakia","Kawasaki","Tottori","Oklahoma City","Matsue","Kirkuk","Yokohama","Gifu","Tiaret","Heraklion","Melilla","Charlotte","Nagoya","Busan","Nicosia","Memphis","Albuquerque","Ōtsu","Kyoto","Shizuoka","Zhengzhou","Little Rock","Sfax","Tsu","Osaka","Kōbe","Nara","Okayama","Kabul","Santa Barbara","Hiroshima","Takamatsu","Xi'an","Wakayama","Wilmington","Yamaguchi","Arak","Srinagar","Tokushima","Los Angeles","Rabat","Peshawar","Columbia","Riverside","Beirut","Matsuyama","Atlanta","Islamabad","Birmingham","Rawalpindi","Fukuoka","Kōchi","Casablanca","Damascus","Phoenix","Lubbock","Baghdad","Saga","Ōita","Tripoli","Charleston","Dallas","Nagasaki","Kumamoto","San Diego","Mexicali","Funchal","El Centro","Isfahan","Karbala","Tijuana","Shreveport","Jackson","Hamilton","Tucson","Benghazi","Tel Aviv","Nanjing","Najaf","Amman","Miyazaki","Ramallah","Ensenada","El Paso","Jerusalem","Ciudad Juárez","Amritsar","Marrakech","Kandahar","Kagoshima","Lahore","Gaza","Faisalabad","Port Said","Alexandria","Shanghai","Shimla","Ludhiana","Chandigarh","Mobile","Chengdu","Wuhan","Basra","Agadir","Jacksonville","Austin","Hangzhou","Multan","Cairo","New Orleans","Suez","Houston","Lhasa","Chongqing","Eilat","San Antonio","Kuwait City","Shigatse","Hermosillo","Chihuahua","New Delhi","Santa Cruz de Tenerife","Orlando","Las Palmas de Gran Canaria","Tampa","Corpus Christi","Maspalomas","Kathmandu","Dibrugarh","Thimphu","Gangtok","Agra","El Aaiún","Sabha","Jaipur","Lucknow","Siliguri","Tezpur","Kanpur","Dammam","Naha","Manama","Guwahati","Brownsville","Miami","Luxor","Monterrey","Patna","Shillong","Torreón","Kulpahar","Doha","Dubai","Hyderabad","Nassau","Kunming","Taipei","Karachi","Culiacán","Riyadh","Key West","Medina","Abu Dhabi","Al Ain","Taichung","Durango","Agartala","Dhaka","Muscat","Havana","Guangzhou","Ahmedabad","Dongguan","Tainan","Cabo San Lucas","Nanning","Kaohsiung","Kolkata (Calcutta)","Shenzhen","Chittagong","Hong Kong","Tampico","San Luis Potosí","Aguascalientes","Jeddah","Cockburn Town","Mecca","Honolulu","Chhattisgarh","Cancún","Surat","Nagpur","León","Hanoi","Mérida","Hai Phong","Zapopan","Puerto Vallarta","Guadalajara","Querétaro","Haikou","Santiago de Cuba","Chiang Rai","Naypyidaw","Hilo","George Town","Veracruz","Puebla","Mumbai","Chiang Mai","Port-au-Prince","Pune","Santo Domingo","San Juan","Road Town","Charlotte Amalie","The Valley","Nouakchott","Kingston","Vientiane","Visakhapatnam","Belize City","Udon Thani","Hyderabad","Basseterre","Belmopan","St. John's","Salalah","Acapulco","Yangon","Timbuktu","Huế","Khon Kaen","Da Nang","Basse-Terre","Omdurman","Khartoum","Sana'a","Asmara","Roseau","Saipan","Son My","Nakhon Ratchasima","Praia","Tapachula","Quetzaltenango","Thiès","Dakar","Quezon City","Guatemala City","Fort-de-France","Manila","Makati","Ayutthaya","Tegucigalpa","Castries","Bangkok","San Salvador","Niamey","Dededo","Hagåtña","Banjul","Serekunda","Siem Reap","Brikama","Kingstown","Bridgetown","Chennai (Madras)","Bangalore","Pattaya","Koulikoro","Bamako","Chinandega","Oranjestad","Ouagadougou","Managua","Willemstad","N'Djamena","St. George's","Kano","Bissau","Port Blair","Djibouti","Phnom Penh","Bobo-Dioulasso","Barranquilla","Ho Chi Minh City","Iloilo City","Port of Spain","Maracaibo","Liberia","Caracas","Chaguanas","Cartagena","San Fernando","Cebu City","Maracay","Valencia","Alajuela","Limón","Jaffna","Hargeisa","Puntarenas","Kochi","San José","Tagbilaran","Conakry","Tamale","Surat Thani","Abuja","Addis Ababa","Panama City","Mérida","Moundou","Trivandrum","Freetown","Ciudad Bolívar","Cúcuta","Phuket","San Cristóbal","Nzérékoré","Batticaloa","Melekeok","Weno","Ibadan","Koror","Kandy","Majuro","Davao City","Hat Yai","Colombo","Palikir","Sri Jayawardenapura-Kotte","Zamboanga City","Yamoussoukro","Georgetown","Kumasi","Porto-Novo","Lagos","Enugu","Cotonou","Benin City","Monrovia","Medellín","Lomé","Kota Bharu","Alor Setar","Kota Kinabalu","Paramaribo","Puerto Ayacucho","Accra","Banda Aceh","George Town","Abidjan","Cayenne","Sekondi-Takoradi","Bandar Seri Begawan","Juba","Port Harcourt","Ipoh","Bogotá","Miri","Bangui","Malé","Douala","Yaoundé","Malabo","Medan","Santiago de Cali","Kuala Lumpur","Boa Vista","Malacca Town","Mogadishu","Kuching","Johor Bahru","South Tarawa","Singapore","Pekanbaru","Libreville","São Tomé","Kampala","Entebbe","Mbandaka","Macapá","Pontianak","Quito","Kismayo","Yaren District","Padang","Balikpapan","Nairobi","Belém","Kigali","Guayaquil","Mwanza","São Luís","Jayapura","Palembang","Manaus","Bujumbura","Sobral","Ambon","Fortaleza","Iquitos","Fernando de Noronha","Mombasa","Brazzaville","Kinshasa","Victoria","Teresina","Makassar","Imperatriz","Natal","Zanzibar City","Dodoma","Jakarta","Bogor","Dar es Salaam","Bandung","Semarang","João Pessoa","Juazeiro do Norte","Campina Grande","Surabaya","Yogyakarta","Malang","Recife","Trujillo","Caruaru","Funafuti","Dili","Denpasar","Porto Velho","Luanda","Garanhuns","Nukulaelae","Petrolina","Honiara","Port Moresby","Maceió","Rio Branco","Aracaju","Palmas","Lubumbashi","Moroni","Sinop","Lima","Darwin","Huambo","Mamoudzou","Ndola","Salvador","Ayacucho","Mata-Utu","Cusco","Apia","Lilongwe","Pago Pago","Ilhéus","Lusaka","Cuiabá","Blantyre","Brasília","Jamestown","Arequipa","Labasa","Rabi Island","La Paz","Goiânia","Cairns","Papeete","Port Vila","Santa Cruz de la Sierra","Livingstone","Harare","Suva","Arica","Governador Valadares","Uberlândia","Antananarivo","Mutare","Sucre","Alofi","Townsville","Gweru","Belo Horizonte","Port Louis","Bulawayo","Iquique","Port Hedland","Vitória","Campo Grande","São José do Rio Preto","Saint-Denis","Nukuʻalofa","Francistown","Ribeirão Preto","Avarua","Juiz de Fora","Poços de Caldas","Araraquara","Nouméa","Bauru","Calama","Windhoek","Assis","Campinas","Rio de Janeiro","São José dos Campos","Rockhampton","São Paulo","Antofagasta","Polokwane","Gaborone","Salta","Adamstown","Asunción","Curitiba","Nelspruit","Ciudad del Este","Pretoria","Mafikeng","Maputo","Johannesburg","Mbabane","Lobamba","Manzini","San Miguel de Tucumán","Hanga Roa","Copiapó","Brisbane","Corrientes","Florianópolis","Gold Coast","Kimberley","Kingston","Bloemfontein","Maseru","Pietermaritzburg","Durban","La Serena","Córdoba","Santa Fe","Pelotas","Perth","San Juan","Mandurah","Bhisho","Mendoza","Newcastle","Rosario","Viña del Mar","Valparaíso","Santiago","Chuí","Sydney","Cape Town","Port Elizabeth","Wollongong","Buenos Aires","Montevideo","Adelaide","Canberra","Concepción","Auckland","Edinburgh of the Seven Seas","Hamilton","Melbourne","Mar del Plata","Geelong","Bahía Blanca","Temuco","Neuquén","Hastings","Valdivia","San Carlos de Bariloche","Nelson","Wellington","Puerto Montt","Launceston, Tasmania","Hobart","Trelew","Christchurch","Waitangi","Puerto Aisén","Coihaique","Comodoro Rivadavia","Dunedin","Invercargill","Río Gallegos","Stanley","Punta Arenas","Grytviken","Ushuaia","Puerto Williams","Puerto Toro","Villa Las Estrellas","Esperanza","Rothera","Concordia"];(function(e){var t=be&&be.__createBinding||(Object.create?function(F,D,R,G){G===void 0&&(G=R);var Q=Object.getOwnPropertyDescriptor(D,R);(!Q||("get"in Q?!D.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return D[R]}}),Object.defineProperty(F,G,Q)}:function(F,D,R,G){G===void 0&&(G=R),F[G]=D[R]}),n=be&&be.__setModuleDefault||(Object.create?function(F,D){Object.defineProperty(F,"default",{enumerable:!0,value:D})}:function(F,D){F.default=D}),r=be&&be.__importStar||function(F){if(F&&F.__esModule)return F;var D={};if(F!=null)for(var R in F)R!=="default"&&Object.prototype.hasOwnProperty.call(F,R)&&t(D,F,R);return n(D,F),D};Object.defineProperty(e,"__esModule",{value:!0}),e.makeNamesTypeAttributes=e.singularizeTypeNames=e.modifyTypeNames=e.namesTypeAttributeKind=e.TooManyTypeNames=e.RegularTypeNames=e.TypeNames=e.tooManyNamesThreshold=e.initTypeNames=void 0;const i=r(oh),a=Le,s=ie,l=Ce,c=br(),p=Ti;let g,y;function w(){g=new p.Chance(31415),y=new Set}e.initTypeNames=w,w();function d(){for(;;){const F=`${g.city()} ${g.animal()}`;if(!y.has(F))return y.add(F),F}}function b(F){let D=(0,a.iterableFirst)(F);if(D===void 0)return(0,s.panic)("Named type has no names");if(F.size===1)return D;const R=(0,a.setMap)(F,f=>(0,c.splitIntoWords)(f).map(v=>v.word.toLowerCase()).join("_")),G=(0,s.defined)((0,a.iterableFirst)(R));if(R.size===1)return G;let Q=G.length,Z=G.length;for(const f of(0,a.iterableSkip)(R,1)){Q=Math.min(Q,f.length);for(let v=0;v<Q;v++)if(G[v]!==f[v]){Q=v;break}Z=Math.min(Z,f.length);for(let v=0;v<Z;v++)if(G[G.length-v-1]!==f[f.length-v-1]){Z=v;break}}const V=Q>2?G.slice(0,Q):"",u=Z>2?G.slice(G.length-Z):"",o=V+u;return o.length>2?o:G}e.tooManyNamesThreshold=1e3;class m{static makeWithDistance(D,R,G){return D.size>=e.tooManyNamesThreshold?new C(G):((R===void 0||R.size>e.tooManyNamesThreshold)&&(R=void 0),new T(D,R,G))}static make(D,R,G){return m.makeWithDistance(D,R,G?1:0)}constructor(D){this.distance=D}get areInferred(){return this.distance>0}}e.TypeNames=m;class T extends m{constructor(D,R,G){super(G),this.names=D,this._alternativeNames=R}add(D,R=0){let G=new Set(this.names),Q=this.distance,Z=(0,a.definedMap)(this._alternativeNames,V=>new Set(V));for(let V=R;V<D.length;V++){const u=D[V];if(u instanceof T&&u._alternativeNames!==void 0&&(Z===void 0&&(Z=new Set),(0,a.setUnionInto)(Z,u._alternativeNames)),!(u.distance>Q)){if(!(u instanceof T))return(0,s.assert)(u instanceof C,"Unknown TypeNames instance"),u.add(D,V+1);u.distance<Q?(G=new Set(u.names),Q=u.distance,Z=(0,a.definedMap)(u._alternativeNames,o=>new Set(o))):((0,s.assert)(u.distance===Q,"This should be the only case left"),(0,a.setUnionInto)(G,u.names))}}return m.makeWithDistance(G,Z,Q)}clearInferred(){const D=this.areInferred?new Set:this.names;return m.makeWithDistance(D,new Set,this.distance)}get combinedName(){return b(this.names)}get proposedNames(){const D=new Set([this.combinedName]);return this._alternativeNames===void 0||(0,a.setUnionInto)(D,this._alternativeNames),D}makeInferred(){return m.makeWithDistance(this.names,this._alternativeNames,this.distance+1)}singularize(){return m.makeWithDistance((0,a.setMap)(this.names,i.singular),(0,a.definedMap)(this._alternativeNames,D=>(0,a.setMap)(D,i.singular)),this.distance+1)}toString(){const R=`${this.areInferred?`distance ${this.distance}`:"given"} ${Array.from(this.names).join(",")}`;return this._alternativeNames===void 0?R:`${R} (${Array.from(this._alternativeNames).join(",")})`}}e.RegularTypeNames=T;class C extends m{constructor(D,R){super(D),R===void 0&&(R=d()),this.names=new Set([R])}get combinedName(){return(0,s.defined)((0,a.iterableFirst)(this.names))}get proposedNames(){return this.names}add(D,R=0){if(!this.areInferred)return this;for(let G=R;G<D.length;G++){const Q=D[G];if(Q.distance<this.distance)return Q.add(D,G+1)}return this}clearInferred(){return this.areInferred?m.makeWithDistance(new Set,new Set,this.distance):this}makeInferred(){return new C(this.distance+1,(0,a.iterableFirst)(this.names))}singularize(){return this}toString(){return`too many ${this.combinedName}`}}e.TooManyTypeNames=C;class P extends l.TypeAttributeKind{constructor(){super("names")}combine(D){return(0,s.assert)(D.length>0,"Can't combine zero type names"),D[0].add(D,1)}makeInferred(D){return D.makeInferred()}increaseDistance(D){return D.makeInferred()}stringify(D){return D.toString()}}e.namesTypeAttributeKind=new P;function z(F,D){return e.namesTypeAttributeKind.modifyInAttributes(F,D)}e.modifyTypeNames=z;function U(F){return z(F,D=>{if(D!==void 0)return D.singularize()})}e.singularizeTypeNames=U;function B(F,D){let R;return typeof F=="string"?R=m.make(new Set([F]),new Set,(0,s.defined)(D)):R=F,e.namesTypeAttributeKind.makeAttributes(R)}e.makeNamesTypeAttributes=B})(ar);var we={},pe={},Nt={},es={},lo;function Js(){return lo||(lo=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TypeBuilder=e.getNoStringTypeMapping=e.stringTypeMappingGet=e.provenanceTypeAttributeKind=void 0;const t=Le,n=dn(),r=vr(),i=Ce,a=ie,s=Qs();class l extends i.TypeAttributeKind{constructor(){super("provenance")}appliesToTypeKind(d){return!0}combine(d){return(0,t.setUnionManyInto)(new Set,d)}makeInferred(d){return d}stringify(d){return Array.from(d).sort().map(b=>b.toString()).join(",")}}e.provenanceTypeAttributeKind=new l;function c(w,d){const b=w.get(d);return b===void 0?"string":b}e.stringTypeMappingGet=c;let p;function g(){return p===void 0&&(p=new Map(Array.from(n.transformedStringTypeKinds).map(w=>[w,w]))),p}e.getNoStringTypeMapping=g;class y{constructor(d,b,m,T,C,P){this._stringTypeMapping=b,this.canonicalOrder=m,this._allPropertiesOptional=T,this._addProvenanceAttributes=C,this.topLevels=new Map,this.types=[],this.typeAttributes=[],this._addedForwardingIntersection=!1,this._typeForIdentity=new t.EqualityMap,(0,a.assert)(!C||!P,"We can't both inherit as well as add provenance"),this.typeGraph=new r.TypeGraph(this,d,C||P)}addTopLevel(d,b){(0,a.assert)(!this.topLevels.has(d),"Trying to add top-level with existing name"),(0,a.assert)(this.types[(0,r.typeRefIndex)(b)]!==void 0,"Trying to add a top-level type that doesn't exist (yet?)"),this.topLevels.set(d,b)}reserveTypeRef(){const d=this.types.length;this.types.push(void 0);const b=(0,r.makeTypeRef)(this.typeGraph,d),m=this._addProvenanceAttributes?e.provenanceTypeAttributeKind.makeAttributes(new Set([d])):i.emptyTypeAttributes;return this.typeAttributes.push(m),b}assertTypeRefGraph(d){d!==void 0&&(0,r.assertTypeRefGraph)(d,this.typeGraph)}assertTypeRefSetGraph(d){d!==void 0&&d.forEach(b=>this.assertTypeRefGraph(b))}filterTypeAttributes(d,b){const m=(0,t.mapFilter)(b,(T,C)=>C.appliesToTypeKind(d.kind));return b.size!==m.size&&this.setLostTypeAttributes(),m}commitType(d,b){this.assertTypeRefGraph(d);const m=(0,r.typeRefIndex)(d);(0,a.assert)(this.types[m]===void 0,"A type index was committed twice"),this.types[m]=b,this.typeAttributes[m]=this.filterTypeAttributes(b,this.typeAttributes[m])}addType(d,b,m){d!==void 0&&(this.assertTypeRefGraph(d),(0,a.assert)(this.types[(0,r.typeRefIndex)(d)]===void 0));const T=d!==void 0?d:this.reserveTypeRef();if(m!==void 0){const P=(0,r.typeRefIndex)(T);this.typeAttributes[P]=(0,i.combineTypeAttributes)("union",this.typeAttributes[P],m)}const C=b(T);return this.commitType(T,C),T}typeAtIndex(d){const b=this.types[d];return b===void 0?(0,a.panic)("Trying to deref an undefined type in a type builder"):b}atIndex(d){const b=this.typeAtIndex(d),m=this.typeAttributes[d];return[b,m]}addAttributes(d,b){this.assertTypeRefGraph(d);const m=(0,r.typeRefIndex)(d),T=this.typeAttributes[m];(0,a.assert)((0,t.iterableEvery)(b,([z,U])=>{if(!z.inIdentity)return!0;const B=T.get(z);return B===void 0?!1:(0,t.areEqual)(B,U)}),"Can't add different identity type attributes to an existing type");const C=this.types[m];C!==void 0&&(b=this.filterTypeAttributes(C,b));const P=(0,t.mapFilter)(b,(z,U)=>!U.inIdentity);this.typeAttributes[m]=(0,i.combineTypeAttributes)("union",T,P)}finish(){return this.typeGraph.freeze(this.topLevels,this.types.map(a.defined),this.typeAttributes),this.typeGraph}addForwardingIntersection(d,b){return this.assertTypeRefGraph(b),this._addedForwardingIntersection=!0,this.addType(d,m=>new n.IntersectionType(m,this.typeGraph,new Set([b])),void 0)}forwardIfNecessary(d,b){if(b!==void 0)return d===void 0?b:this.addForwardingIntersection(d,b)}get didAddForwardingIntersection(){return this._addedForwardingIntersection}registerTypeForIdentity(d,b){d!==void 0&&this._typeForIdentity.set(d,b)}makeIdentity(d){return d()}getOrAddType(d,b,m,T){const C=this.makeIdentity(d);let P;if(C===void 0?P=void 0:P=this._typeForIdentity.get(C),P!==void 0){const U=this.forwardIfNecessary(T,P);return m!==void 0&&this.addAttributes(U,(0,t.mapFilter)(m,(B,F)=>!F.inIdentity)),U}const z=this.addType(T,b,m);return this.registerTypeForIdentity(C,z),z}registerType(d){this.registerTypeForIdentity(d.identity,d.typeRef)}getPrimitiveType(d,b,m){const T=(0,t.withDefault)(b,i.emptyTypeAttributes);let C=d==="string"?void 0:s.StringTypes.unrestricted;return(0,n.isPrimitiveStringTypeKind)(d)&&d!=="string"&&(d=c(this._stringTypeMapping,d)),d==="string"?this.getStringType(T,C,m):this.getOrAddType(()=>(0,n.primitiveTypeIdentity)(d,T),P=>new n.PrimitiveType(P,this.typeGraph,d),T,m)}getStringType(d,b,m){const T=(0,t.mapFind)(d,(C,P)=>P===s.stringTypesTypeAttributeKind);return(0,a.assert)(b===void 0!=(T===void 0),"Must instantiate string type with one enum case attribute"),T===void 0&&(d=(0,i.combineTypeAttributes)("union",d,s.stringTypesTypeAttributeKind.makeAttributes((0,a.defined)(b)))),this.getOrAddType(()=>(0,n.primitiveTypeIdentity)("string",d),C=>new n.PrimitiveType(C,this.typeGraph,"string"),d,m)}getEnumType(d,b,m){return this.getOrAddType(()=>(0,n.enumTypeIdentity)(d,b),T=>new n.EnumType(T,this.typeGraph,b),d,m)}makeClassProperty(d,b){return new n.ClassProperty(d,this.typeGraph,b)}getUniqueObjectType(d,b,m,T){return this.assertTypeRefGraph(m),b=(0,t.definedMap)(b,C=>this.modifyPropertiesIfNecessary(C)),this.addType(T,C=>new n.ObjectType(C,this.typeGraph,"object",!0,b,m),d)}getUniqueMapType(d){return this.addType(d,b=>new n.MapType(b,this.typeGraph,void 0),void 0)}getMapType(d,b,m){return this.assertTypeRefGraph(b),this.getOrAddType(()=>(0,n.mapTypeIdentify)(d,b),T=>new n.MapType(T,this.typeGraph,b),d,m)}setObjectProperties(d,b,m){this.assertTypeRefGraph(m);const T=(0,r.derefTypeRef)(d,this.typeGraph);if(!(T instanceof n.ObjectType))return(0,a.panic)("Tried to set properties of non-object type");T.setProperties(this.modifyPropertiesIfNecessary(b),m),this.registerType(T)}getUniqueArrayType(d){return this.addType(d,b=>new n.ArrayType(b,this.typeGraph,void 0),void 0)}getArrayType(d,b,m){return this.assertTypeRefGraph(b),this.getOrAddType(()=>(0,n.arrayTypeIdentity)(d,b),T=>new n.ArrayType(T,this.typeGraph,b),d,m)}setArrayItems(d,b){this.assertTypeRefGraph(b);const m=(0,r.derefTypeRef)(d,this.typeGraph);if(!(m instanceof n.ArrayType))return(0,a.panic)("Tried to set items of non-array type");m.setItems(b),this.registerType(m)}modifyPropertiesIfNecessary(d){return d.forEach(b=>this.assertTypeRefGraph(b.typeRef)),this.canonicalOrder&&(d=(0,t.mapSortByKey)(d)),this._allPropertiesOptional&&(d=(0,t.mapMap)(d,b=>this.makeClassProperty(b.typeRef,!0))),d}getClassType(d,b,m){return b=this.modifyPropertiesIfNecessary(b),this.getOrAddType(()=>(0,n.classTypeIdentity)(d,b),T=>new n.ClassType(T,this.typeGraph,!1,b),d,m)}getUniqueClassType(d,b,m,T){return m=(0,t.definedMap)(m,C=>this.modifyPropertiesIfNecessary(C)),this.addType(T,C=>new n.ClassType(C,this.typeGraph,b,m),d)}getUnionType(d,b,m){return this.assertTypeRefSetGraph(b),this.getOrAddType(()=>(0,n.unionTypeIdentity)(d,b),T=>new n.UnionType(T,this.typeGraph,b),d,m)}getUniqueUnionType(d,b,m){return this.assertTypeRefSetGraph(b),this.addType(m,T=>new n.UnionType(T,this.typeGraph,b),d)}getIntersectionType(d,b,m){return this.assertTypeRefSetGraph(b),this.getOrAddType(()=>(0,n.intersectionTypeIdentity)(d,b),T=>new n.IntersectionType(T,this.typeGraph,b),d,m)}getUniqueIntersectionType(d,b,m){return this.assertTypeRefSetGraph(b),this.addType(m,T=>new n.IntersectionType(T,this.typeGraph,b),d)}setSetOperationMembers(d,b){this.assertTypeRefSetGraph(b);const m=(0,r.derefTypeRef)(d,this.typeGraph);if(!(m instanceof n.UnionType||m instanceof n.IntersectionType))return(0,a.panic)("Tried to set members of non-set-operation type");m.setMembers(b),this.registerType(m)}setLostTypeAttributes(){}}e.TypeBuilder=y}(es)),es}var co;function Qs(){if(co)return Nt;co=1,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.inferTransformedStringTypeKindForString=Nt.stringTypesTypeAttributeKind=Nt.StringTypes=void 0;const e=Le,t=Ce,n=ie,r=Js();let i=class Dt{static fromCase(T,C){return new Dt(new Map([[T,C]]),new Set)}static fromCases(T){for(const C of T);return new Dt(new Map(T.map(C=>[C,1])),new Set)}constructor(T,C){this.cases=T,this.transformations=C,T===void 0&&(0,n.assert)(C.size===0,"We can't have an unrestricted string that also allows transformations")}get isRestricted(){return this.cases!==void 0}union(T,C){if(this.cases===void 0)return this;const P=new Map(this.cases),z=new Set(this.transformations);for(let U=C;U<T.length;U++){const B=T[U];if(B.cases===void 0)return B;(0,e.mapMergeWithInto)(P,(F,D)=>F+D,B.cases),(0,e.setUnionInto)(z,B.transformations)}return new Dt(P,z)}intersect(T,C){let P=this.cases,z=this.transformations;for(let U=C;U<T.length;U++){const B=T[U];if(P===void 0)P=(0,e.definedMap)(B.cases,F=>new Map(F));else if(B.cases!==void 0){const F=P,D=B.cases;P=(0,e.mapMap)((0,e.setIntersect)(F.keys(),new Set(D.keys())).entries(),R=>Math.min((0,n.defined)(F.get(R)),(0,n.defined)(D.get(R))))}z=(0,e.setIntersect)(z,B.transformations)}return new Dt(P,z)}applyStringTypeMapping(T){if(!this.isRestricted)return this;const C=new Set;for(const P of this.transformations){const z=(0,r.stringTypeMappingGet)(T,P);if(z==="string")return Dt.unrestricted;C.add(z)}return new Dt(this.cases,new Set(C))}equals(T){return T instanceof Dt?(0,e.areEqual)(this.cases,T.cases)&&(0,e.areEqual)(this.transformations,T.transformations):!1}hashCode(){let T=(0,e.hashCodeOf)(this.cases);return T=(0,e.addHashCode)(T,(0,e.hashCodeOf)(this.transformations)),T}toString(){const T=[],C=this.cases;if(C===void 0)T.push("unrestricted");else{const P=(0,e.iterableFirst)(C.keys());P===void 0?T.push("enum with no cases"):T.push(`${C.size.toString()} enums: ${P} (${C.get(P)}), ...`)}return T.concat(Array.from(this.transformations)).join(",")}};Nt.StringTypes=i,i.unrestricted=new i(void 0,new Set);class a extends t.TypeAttributeKind{constructor(){super("stringTypes")}get inIdentity(){return!0}requiresUniqueIdentity(T){return T.cases!==void 0&&T.cases.size>0}combine(T){return(0,n.assert)(T.length>0),T[0].union(T,1)}intersect(T){return(0,n.assert)(T.length>0),T[0].intersect(T,1)}makeInferred(T){}stringify(T){return T.toString()}}Nt.stringTypesTypeAttributeKind=new a;const s=/^(0|-?[1-9]\d*)$/,l=1<<31,c=-(l+1);function p(m){if(m.match(s)===null)return!1;const T=parseInt(m,10);return T>=l&&T<=c}const g=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function y(m){return m.match(g)!==null}const w=/^(https?|ftp):\/\/[^{}]+$/;function d(m){return m.match(w)!==null}function b(m,T){if(!(m.length===0||"0123456789-abcdefth".indexOf(m[0])<0)){if(T.isDate(m))return"date";if(T.isTime(m))return"time";if(T.isDateTime(m))return"date-time";if(p(m))return"integer-string";if(m==="false"||m==="true")return"bool-string";if(y(m))return"uuid";if(d(m))return"uri"}}return Nt.inferTransformedStringTypeKindForString=b,Nt}var fo;function vi(){if(fo)return pe;fo=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.matchCompoundType=pe.matchType=pe.matchTypeExhaustive=pe.stringTypesForType=pe.directlyReachableSingleNamedType=pe.directlyReachableTypes=pe.separateNamedTypes=pe.isNamedType=pe.getNullAsOptional=pe.nonNullTypeCases=pe.nullableFromUnion=pe.removeNullFromType=pe.removeNullFromUnion=pe.isAnyOrNull=pe.combineTypeAttributesOfTypes=pe.makeGroupsToFlatten=pe.setOperationMembersRecursively=pe.assertIsClass=pe.assertIsObject=void 0;const e=Le,t=ie,n=Ce,r=dn(),i=Qs();function a(R){return R instanceof r.ObjectType?R:(0,t.panic)("Supposed object type is not an object type")}pe.assertIsObject=a;function s(R){return R instanceof r.ClassType?R:(0,t.panic)("Supposed class type is not a class type")}pe.assertIsClass=s;function l(R,G){const Q=Array.isArray(R)?R:[R],Z=Q[0].kind,V=Z!=="intersection",u=new Set,o=new Set;let f=n.emptyTypeAttributes;function v(N){if(N.kind===Z){const E=N;if(u.has(E))return;u.add(E),G!==void 0&&(f=(0,n.combineTypeAttributes)(G,f,N.getAttributes()));for(const M of E.members)v(M)}else V||N.kind!=="any"?o.add(N):G!==void 0&&(f=(0,n.combineTypeAttributes)(G,f,N.getAttributes()))}for(const N of Q)v(N);return[o,f]}pe.setOperationMembersRecursively=l;function c(R,G){const Q=new e.EqualityMap;for(const Z of R){const V=new Set(l(Z,void 0)[0]);if(G!==void 0&&!G(V))continue;let u=Q.get(V);u===void 0&&(u=new Set,V.size===1&&u.add((0,t.defined)((0,e.iterableFirst)(V)))),u.add(Z),Q.set(V,u)}return Array.from(Q.values()).map(Z=>Array.from(Z))}pe.makeGroupsToFlatten=c;function p(R,G){return(0,n.combineTypeAttributes)(R,Array.from(G).map(Q=>Q.getAttributes()))}pe.combineTypeAttributesOfTypes=p;function g(R){return R.kind==="any"||R.kind==="null"}pe.isAnyOrNull=g;function y(R,G=!1){function Q(V){return G===!1?V:G===!0?(0,e.setSortBy)(V,u=>u.kind):(0,e.setSortBy)(V,G)}const Z=R.findMember("null");return Z===void 0?[null,Q(R.members)]:[Z,Q((0,e.setFilter)(R.members,V=>V.kind!=="null"))]}pe.removeNullFromUnion=y;function w(R){return R.kind==="null"?[R,new Set]:R instanceof r.UnionType?y(R):[null,new Set([R])]}pe.removeNullFromType=w;function d(R){const[G,Q]=y(R);return G===null||Q.size!==1?null:(0,t.defined)((0,e.iterableFirst)(Q))}pe.nullableFromUnion=d;function b(R){return w(R)[1]}pe.nonNullTypeCases=b;function m(R){const[G,Q]=w(R.type);return R.isOptional?[!0,Q]:[G!==null,Q]}pe.getNullAsOptional=m;function T(R){return["class","union","enum","object"].indexOf(R.kind)>=0}pe.isNamedType=T;function C(R){const G=(0,e.setFilter)(R,V=>V.kind==="object"||V.kind==="class"),Q=(0,e.setFilter)(R,V=>V instanceof r.EnumType),Z=(0,e.setFilter)(R,V=>V instanceof r.UnionType);return{objects:G,enums:Q,unions:Z}}pe.separateNamedTypes=C;function P(R,G){const Q=G(R);return Q!==null?Q:(0,e.setUnion)(...Array.from(R.getNonAttributeChildren()).map(Z=>P(Z,G)))}pe.directlyReachableTypes=P;function z(R){const G=P(R,Q=>!(Q instanceof r.UnionType)&&T(Q)||Q instanceof r.UnionType&&d(Q)===null?new Set([Q]):null);return(0,t.assert)(G.size<=1,"Cannot have more than one defined type per top-level"),(0,e.iterableFirst)(G)}pe.directlyReachableSingleNamedType=z;function U(R){(0,t.assert)(R.kind==="string","Only strings can have string types");const G=i.stringTypesTypeAttributeKind.tryGetInAttributes(R.getAttributes());return G===void 0?(0,t.panic)("All strings must have a string type attribute"):G}pe.stringTypesForType=U;function B(R,G,Q,Z,V,u,o,f,v,N,E,M,h,_,A){if(R.isPrimitive()){if((0,r.isPrimitiveStringTypeKind)(R.kind))return R.kind==="string"?f(R):A(R);const S=R.kind,O={none:G,any:Q,null:Z,bool:V,integer:u,double:o}[S];return O!==void 0?O(R):(0,t.assertNever)(O)}else{if(R instanceof r.ArrayType)return v(R);if(R instanceof r.ClassType)return N(R);if(R instanceof r.MapType)return E(R);if(R instanceof r.ObjectType)return M(R);if(R instanceof r.EnumType)return h(R);if(R instanceof r.UnionType)return _(R)}return(0,t.panic)(`Unknown type ${R.kind}`)}pe.matchTypeExhaustive=B;function F(R,G,Q,Z,V,u,o,f,v,N,E,M,h){function _(A){return(0,t.panic)(`Unsupported type ${A.kind} in non-exhaustive match`)}return B(R,_,G,Q,Z,V,u,o,f,v,N,_,E,M,h||_)}pe.matchType=F;function D(R,G,Q,Z,V,u){function o(f){}return B(R,o,o,o,o,o,o,o,G,Q,Z,V,o,u,o)}return pe.matchCompoundType=D,pe}var st={},ho;function rp(){if(ho)return st;ho=1,Object.defineProperty(st,"__esModule",{value:!0}),st.GraphRewriteBuilder=st.GraphRemapBuilder=st.BaseGraphRewriteBuilder=st.TypeReconstituter=void 0;const e=Le,t=vi(),n=vr(),r=Ce,i=ie,a=Js();class s{constructor(y,w,d,b,m){this._typeBuilder=y,this._makeClassUnique=w,this._typeAttributes=d,this._forwardingRef=b,this._register=m,this._wasUsed=!1,this._typeRef=void 0}builderForNewType(){return(0,i.assert)(!this._wasUsed,"TypeReconstituter used more than once"),this._wasUsed=!0,this._typeBuilder}builderForSetting(){return(0,i.assert)(this._wasUsed&&this._typeRef!==void 0,"Can't set type members before constructing a type"),this._typeBuilder}getResult(){return this._typeRef===void 0?(0,i.panic)("Type was not reconstituted"):this._typeRef}register(y){(0,i.assert)(this._typeRef===void 0,"Cannot register a type twice"),this._typeRef=y,this._register(y)}registerAndAddAttributes(y){this._typeBuilder.addAttributes(y,this._typeAttributes),this.register(y)}lookup(y){if((0,i.assert)(!this._wasUsed,"Cannot lookup constituents after building type"),(0,n.isTypeRef)(y))return this._typeBuilder.lookupTypeRefs([y],void 0,!1);{const w=Array.from(y).map(d=>this._typeBuilder.lookupTypeRefs([d],void 0,!1));return w.some(d=>d===void 0)?void 0:w}}lookupMap(y){const w=this.lookup(y.values());if(w===void 0)return;(0,i.assert)(w.length===y.size,"Didn't get back the correct number of types");const d=new Map;let b=0;for(const m of y.keys())d.set(m,w[b]),b+=1;return d}reconstitute(y){return(0,i.assert)(this._wasUsed,"Cannot reconstitute constituents before building type"),(0,n.isTypeRef)(y)?this._typeBuilder.reconstituteTypeRef(y):Array.from(y).map(w=>this._typeBuilder.reconstituteTypeRef(w))}reconstituteMap(y){return(0,e.mapMap)(y,w=>this._typeBuilder.reconstituteTypeRef(w))}getPrimitiveType(y){this.register(this.builderForNewType().getPrimitiveType(y,this._typeAttributes,this._forwardingRef))}getEnumType(y){this.register(this.builderForNewType().getEnumType(this._typeAttributes,y,this._forwardingRef))}getUniqueMapType(){this.registerAndAddAttributes(this.builderForNewType().getUniqueMapType(this._forwardingRef))}getMapType(y){this.register(this.builderForNewType().getMapType(this._typeAttributes,y,this._forwardingRef))}getUniqueArrayType(){this.registerAndAddAttributes(this.builderForNewType().getUniqueArrayType(this._forwardingRef))}getArrayType(y){this.register(this.builderForNewType().getArrayType(this._typeAttributes,y,this._forwardingRef))}setArrayItems(y){this.builderForSetting().setArrayItems(this.getResult(),y)}makeClassProperty(y,w){return this._typeBuilder.makeClassProperty(y,w)}getObjectType(y,w){this.register(this.builderForNewType().getUniqueObjectType(this._typeAttributes,y,w,this._forwardingRef))}getUniqueObjectType(y,w){this.register(this.builderForNewType().getUniqueObjectType(this._typeAttributes,y,w,this._forwardingRef))}getClassType(y){if(this._makeClassUnique){this.getUniqueClassType(!1,y);return}this.register(this.builderForNewType().getClassType(this._typeAttributes,y,this._forwardingRef))}getUniqueClassType(y,w){this.register(this.builderForNewType().getUniqueClassType(this._typeAttributes,y,w,this._forwardingRef))}setObjectProperties(y,w){this.builderForSetting().setObjectProperties(this.getResult(),y,w)}getUnionType(y){this.register(this.builderForNewType().getUnionType(this._typeAttributes,y,this._forwardingRef))}getUniqueUnionType(){this.register(this.builderForNewType().getUniqueUnionType(this._typeAttributes,void 0,this._forwardingRef))}getIntersectionType(y){this.register(this.builderForNewType().getIntersectionType(this._typeAttributes,y,this._forwardingRef))}getUniqueIntersectionType(y){this.register(this.builderForNewType().getUniqueIntersectionType(this._typeAttributes,y,this._forwardingRef))}setSetOperationMembers(y){this.builderForSetting().setSetOperationMembers(this.getResult(),y)}}st.TypeReconstituter=s;class l extends a.TypeBuilder{constructor(y,w,d,b,m){super(y.serial+1,w,d,!1,!1,b),this.originalGraph=y,this.debugPrint=m,this.reconstitutedTypes=new Map,this._lostTypeAttributes=!1,this._printIndent=0}withForwardingRef(y,w){if(y!==void 0)return w(y);const d=this.reserveTypeRef(),b=w(d);return(0,i.assert)(b===d,"Type creator didn't return its forwarding ref"),b}reconstituteType(y,w,d){return this.reconstituteTypeRef(y.typeRef,w,d)}reconstituteTypeRef(y,w,d){const b=this.lookupTypeRefs([y],d);return b!==void 0?(w!==void 0&&this.addAttributes(b,w),b):this.forceReconstituteTypeRef(y,w,d)}reconstituteTypeAttributes(y){return(0,e.mapMap)(y,(w,d)=>d.reconstitute(this,w))}assertTypeRefsToReconstitute(y,w){(0,i.assert)(y.length>0,"Must have at least one type to reconstitute");for(const d of y)(0,n.assertTypeRefGraph)(d,this.originalGraph);w!==void 0&&(0,n.assertTypeRefGraph)(w,this.typeGraph)}changeDebugPrintIndent(y){this._printIndent+=y}get debugPrintIndentation(){return(0,i.indentationString)(this._printIndent)}finish(){for(const[y,w]of this.originalGraph.topLevels)this.addTopLevel(y,this.reconstituteType(w));return super.finish()}setLostTypeAttributes(){this._lostTypeAttributes=!0}get lostTypeAttributes(){return this._lostTypeAttributes}}st.BaseGraphRewriteBuilder=l;class c extends l{constructor(y,w,d,b,m,T){super(y,w,d,b,T),this._map=m,this._attributeSources=new Map;for(const[C,P]of m){let z=this._attributeSources.get(P);z===void 0&&(z=[P],this._attributeSources.set(P,z)),z.push(C)}}makeIdentity(y){}getMapTarget(y){const w=this._map.get((0,n.derefTypeRef)(y,this.originalGraph));return w===void 0?y:((0,i.assert)(this._map.get(w)===void 0,"We have a type that's remapped to a remapped type"),w.typeRef)}addForwardingIntersection(y,w){return(0,i.panic)("We can't add forwarding intersections when we're removing forwarding intersections")}lookupTypeRefs(y,w){(0,i.assert)(w===void 0,"We can't have a forwarding ref when we remap"),this.assertTypeRefsToReconstitute(y,w);const d=this.reconstitutedTypes.get((0,n.typeRefIndex)(this.getMapTarget(y[0])));if(d!==void 0){for(let b=1;b<y.length;b++){const m=this.reconstitutedTypes.get((0,n.typeRefIndex)(this.getMapTarget(y[b])));if(d!==m)return}return d}}forceReconstituteTypeRef(y,w,d){y=this.getMapTarget(y);const b=(0,n.typeRefIndex)(y);return(0,i.assert)(this.reconstitutedTypes.get(b)===void 0,"Type has already been reconstituted"),(0,i.assert)(d===void 0,"We can't have a forwarding ref when we remap"),this.withForwardingRef(void 0,m=>{this.reconstitutedTypes.set(b,m),this.debugPrint&&(console.log(`${this.debugPrintIndentation}reconstituting ${b} as ${(0,n.typeRefIndex)(m)}`),this.changeDebugPrintIndent(1));const[T,C]=(0,n.typeAndAttributesForTypeRef)(y,this.originalGraph),P=this._attributeSources.get(T);w===void 0&&(w=r.emptyTypeAttributes),P===void 0?w=(0,r.combineTypeAttributes)("union",w,this.reconstituteTypeAttributes(C)):w=(0,r.combineTypeAttributes)("union",w,this.reconstituteTypeAttributes((0,t.combineTypeAttributesOfTypes)("union",P)));const z=w,U=new s(this,this.canonicalOrder,z,m,B=>{(0,i.assert)(B===m,"Reconstituted type as a different ref"),this.debugPrint&&(this.changeDebugPrintIndent(-1),console.log(`${this.debugPrintIndentation}reconstituted ${b} as ${(0,n.typeRefIndex)(B)}`))});return T.reconstitute(U,this.canonicalOrder),U.getResult()})}}st.GraphRemapBuilder=c;class p extends l{constructor(y,w,d,b,m,T,C){super(y,w,d,b,T),this._replacer=C,this._reconstitutedUnions=new e.EqualityMap,this._setsToReplaceByMember=new Map;for(const P of m){const z=new Set(P);for(const U of z){const B=U.index;(0,i.assert)(!this._setsToReplaceByMember.has(B),"A type is member of more than one set to be replaced"),this._setsToReplaceByMember.set(B,z)}}}registerUnion(y,w){const d=new Set(y);(0,i.assert)(!this._reconstitutedUnions.has(d),"Cannot register reconstituted set twice"),this._reconstitutedUnions.set(d,w)}replaceSet(y,w){return this.withForwardingRef(w,d=>{this.debugPrint&&(console.log(`${this.debugPrintIndentation}replacing set ${Array.from(y).map(m=>m.index.toString()).join(",")} as ${(0,n.typeRefIndex)(d)}`),this.changeDebugPrintIndent(1));for(const m of y){const T=m.typeRef,C=(0,n.typeRefIndex)(T);this.reconstitutedTypes.set(C,d),this._setsToReplaceByMember.delete(C)}const b=this._replacer(y,this,d);return(0,i.assert)(b===d,"The forwarding ref got lost when replacing"),this.debugPrint&&(this.changeDebugPrintIndent(-1),console.log(`${this.debugPrintIndentation}replaced set ${Array.from(y).map(m=>m.index.toString()).join(",")} as ${(0,n.typeRefIndex)(d)}`)),b})}forceReconstituteTypeRef(y,w,d){const[b,m]=(0,n.typeAndAttributesForTypeRef)(y,this.originalGraph),T=(0,n.typeRefIndex)(y);this.debugPrint&&(console.log(`${this.debugPrintIndentation}reconstituting ${T}`),this.changeDebugPrintIndent(1)),w===void 0?w=this.reconstituteTypeAttributes(m):w=(0,r.combineTypeAttributes)("union",w,this.reconstituteTypeAttributes(m));const C=new s(this,this.canonicalOrder,w,d,P=>{this.debugPrint&&(this.changeDebugPrintIndent(-1),console.log(`${this.debugPrintIndentation}reconstituted ${T} as ${(0,n.typeRefIndex)(P)}`)),d!==void 0&&(0,i.assert)(P===d,"We didn't pass the forwarding ref");const z=this.reconstitutedTypes.get(T);z===void 0?this.reconstitutedTypes.set(T,P):(0,i.assert)(P===z,"We reconstituted a type twice differently")});return b.reconstitute(C,this.canonicalOrder),C.getResult()}lookupTypeRefs(y,w,d=!0){this.assertTypeRefsToReconstitute(y,w);let b=this.reconstitutedTypes.get((0,n.typeRefIndex)(y[0]));if(b!==void 0&&b!==w){let T=!0;for(let C=1;C<y.length;C++)if(this.reconstitutedTypes.get((0,n.typeRefIndex)(y[C]))!==b){T=!1;break}if(T)return this.forwardIfNecessary(w,b)}if(b=this._reconstitutedUnions.get(new Set(y)),b!==void 0&&b!==w)return this.forwardIfNecessary(w,b);const m=this._setsToReplaceByMember.get((0,n.typeRefIndex)(y[0]));if(m!==void 0){for(let T=1;T<y.length;T++)if(this._setsToReplaceByMember.get((0,n.typeRefIndex)(y[T]))!==m)return;if(d)return this.replaceSet(m,w)}}}return st.GraphRewriteBuilder=p,st}var Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.Graph=void 0;const ip=Le,Be=ie;function yl(e){if(e.length===0)return 0;let t=-1,n=0;for(const r of e){(0,Be.assert)(r.length>0,"Empty component not allowed");for(const i of r)(0,Be.assert)(i>=0,"Negative vertex index is invalid"),t=Math.max(t,i),n+=1}return(0,Be.assert)(t+1===n,"Vertex indexes and count don't match up"),n}function sp(e){let t=0;const n=[],r=e.length,i=(0,Be.repeated)(r,-1),a=(0,Be.repeated)(r,-1),s=(0,Be.repeated)(r,!1),l=[];function c(p){i[p]=t,a[p]=t,t+=1,n.push(p),s[p]=!0;for(const g of e[p])i[g]<0?(c(g),a[p]=Math.min(a[p],a[g])):s[g]&&(a[p]=Math.min(a[p],i[g]));if(a[p]===i[p]){const g=[];let y;do y=(0,Be.defined)(n.pop()),s[y]=!1,g.push(y);while(y!==p);l.push(g)}}for(let p=0;p<r;p++)i[p]<0&&c(p);return(0,Be.assert)(yl(l)===r,"We didn't put all the nodes into SCCs"),l}function ap(e,t){const n=t.length,r=e.length;(0,Be.assert)(r===yl(t),"Components don't match up with graph");const i=(0,Be.repeated)(r,-1);for(let a=0;a<n;a++)for(const s of t[a])(0,Be.assert)(i[s]<0,"We have a node that's in two components"),i[s]=a;return i}function op(e,t){const n=t.length,r=ap(e,t),i=(0,Be.repeated)(n,!1),a=[];for(let s=0;s<n;s++){const l=[];for(const c of t[s])for(const p of e[c]){const g=r[p];g===s||i[g]||(l.push(g),i[g]=!0)}for(const c of l)(0,Be.assert)(i[c]),i[c]=!1;a.push(l)}return a}function up(e){const t=e.length,n=(0,Be.repeatedCall)(t,()=>[]);for(let r=0;r<t;r++)for(const i of e[r])n[i].push(r);return n}function lp(e){const t=e.length,n=(0,Be.repeated)(t,0);for(const r of e)for(const i of r)n[i]+=1;return n}function cp(e){const t=e.length,n=lp(e),r=[];for(let i=0;i<t;i++)n[i]===0&&r.push(i);return r}class Zs{constructor(t,n,r){this._nodes=Array.from(t),this._indexByNode=new Map(this._nodes.map((a,s)=>[a,s]));let i;Array.isArray(r)?i=r:i=this._nodes.map(a=>Array.from(r(a)).map(s=>(0,Be.defined)(this._indexByNode.get(s)))),n&&(i=up(i)),this._successors=i}get size(){return this._nodes.length}get nodes(){return this._nodes}findRoots(){const t=cp(this._successors);return new Set(t.map(n=>this._nodes[n]))}dfsTraversal(t,n,r){const i=(0,Be.repeated)(this.size,!1),a=s=>{if(!i[s]){i[s]=!0,n&&r(this._nodes[s]);for(const l of this._successors[s])a(l);n||r(this._nodes[s])}};a((0,Be.defined)(this._indexByNode.get(t)))}stronglyConnectedComponents(){const t=sp(this._successors),n=op(this._successors,t);return new Zs(t.map(r=>(0,ip.setMap)(r,i=>this._nodes[i])),!1,n)}makeDot(t,n){const r=[];r.push("digraph G {"),r.push("    ordering = out;"),r.push("");for(let i=0;i<this.size;i++){const a=this._nodes[i];t(a)&&r.push(`    node${i} [label="${n(a)}"];`)}for(let i=0;i<this.size;i++)if(t(this._nodes[i]))for(const a of this._successors[i])t(this._nodes[a])&&r.push(`    node${i} -> node${a};`);return r.push("}"),r.push(""),r.join(`
`)}}Tr.Graph=Zs;var po;function vr(){if(po)return we;po=1,Object.defineProperty(we,"__esModule",{value:!0}),we.removeIndirectionIntersections=we.optionalToNullable=we.noneToAny=we.TypeGraph=we.TypeAttributeStoreView=we.TypeAttributeStore=we.typeAndAttributesForTypeRef=we.attributesForTypeRef=we.derefTypeRef=we.assertTypeRefGraph=we.typeRefIndex=we.makeTypeRef=we.isTypeRef=void 0;const e=Le,t=dn(),n=vi(),r=ie,i=Js(),a=rp(),s=ar,l=Tr,c=Ce,p=ze,g=26,y=(1<<g)-1,d=(1<<31-g)-1;function b(V){return typeof V=="number"}we.isTypeRef=b;function m(V,u){return(0,r.assert)(u<=y,"Too many types in graph"),(V.serial&d)<<g|u}we.makeTypeRef=m;function T(V){return V&y}we.typeRefIndex=T;function C(V,u){(0,r.assert)((V>>g&d)===(u.serial&d),"Mixing the wrong type reference and graph")}we.assertTypeRefGraph=C;function P(V){return V instanceof R?V:V.originalGraph}function z(V,u){const o=P(u);return C(V,o),o.typeAtIndex(T(V))}we.derefTypeRef=z;function U(V,u){const o=P(u);return C(V,o),o.atIndex(T(V))[1]}we.attributesForTypeRef=U;function B(V,u){const o=P(u);return C(V,o),o.atIndex(T(V))}we.typeAndAttributesForTypeRef=B;class F{constructor(u,o){this._typeGraph=u,this._values=o,this._topLevelValues=new Map}getTypeIndex(u){const o=u.typeRef;return C(o,this._typeGraph),T(o)}attributesForType(u){const o=this.getTypeIndex(u),f=this._values[o];return f!==void 0?f:c.emptyTypeAttributes}attributesForTopLevel(u){const o=this._topLevelValues.get(u);return o!==void 0?o:c.emptyTypeAttributes}setInMap(u,o,f){return new Map(u).set(o,f)}set(u,o,f){const v=this.getTypeIndex(o);for(;v>=this._values.length;)this._values.push(void 0);this._values[v]=this.setInMap(this.attributesForType(o),u,f)}setForTopLevel(u,o,f){this._topLevelValues.set(o,this.setInMap(this.attributesForTopLevel(o),u,f))}tryGetInMap(u,o){return u.get(o)}tryGet(u,o){return this.tryGetInMap(this.attributesForType(o),u)}tryGetForTopLevel(u,o){return this.tryGetInMap(this.attributesForTopLevel(o),u)}}we.TypeAttributeStore=F;class D{constructor(u,o){this._attributeStore=u,this._definition=o}set(u,o){this._attributeStore.set(this._definition,u,o)}setForTopLevel(u,o){this._attributeStore.setForTopLevel(this._definition,u,o)}tryGet(u){return this._attributeStore.tryGet(this._definition,u)}get(u){return(0,r.defined)(this.tryGet(u))}tryGetForTopLevel(u){return this._attributeStore.tryGetForTopLevel(this._definition,u)}getForTopLevel(u){return(0,r.defined)(this.tryGetForTopLevel(u))}}we.TypeAttributeStoreView=D;let R=class{constructor(u,o,f){this.serial=o,this._haveProvenanceAttributes=f,this._attributeStore=void 0,this._topLevels=new Map,this._parents=void 0,this._printOnRewrite=!1,this._typeBuilder=u}get isFrozen(){return this._typeBuilder===void 0}get attributeStore(){return(0,r.defined)(this._attributeStore)}freeze(u,o,f){(0,r.assert)(!this.isFrozen,"Tried to freeze TypeGraph a second time");for(const v of o)C(v.typeRef,this);this._attributeStore=new F(this,f),this._types=o,this._typeBuilder=void 0,this._topLevels=(0,e.mapMap)(u,v=>z(v,this))}get topLevels(){return(0,r.assert)(this.isFrozen,"Cannot get top-levels from a non-frozen graph"),this._topLevels}typeAtIndex(u){return this._typeBuilder!==void 0?this._typeBuilder.typeAtIndex(u):(0,r.defined)(this._types)[u]}atIndex(u){if(this._typeBuilder!==void 0)return this._typeBuilder.atIndex(u);const o=this.typeAtIndex(u);return[o,(0,r.defined)(this._attributeStore).attributesForType(o)]}filterTypes(u){const o=new Set;let f=[];function v(N){if(o.has(N))return;o.add(N),(u===void 0||u(N))&&f.push(N);for(const M of N.getChildren())v(M)}for(const[,N]of this.topLevels)v(N);return new Set(f)}allNamedTypes(){return this.filterTypes(n.isNamedType)}allNamedTypesSeparated(){const u=this.allNamedTypes();return(0,n.separateNamedTypes)(u)}allProvenance(){(0,r.assert)(this._haveProvenanceAttributes);const u=new D(this.attributeStore,i.provenanceTypeAttributeKind),o=Array.from(this.allTypesUnordered()).map(v=>{const N=u.tryGet(v);return N!==void 0?N:new Set}),f=new Set;return(0,e.setUnionManyInto)(f,o),f}setPrintOnRewrite(){this._printOnRewrite=!0}checkLostTypeAttributes(u,o){if(!this._haveProvenanceAttributes||u.lostTypeAttributes)return;const f=this.allProvenance(),v=o.allProvenance();if(f.size!==v.size){const N=(0,e.setSubtract)(f,v),E=Array.from(N);return(0,p.messageError)("IRTypeAttributesNotPropagated",{count:N.size,indexes:E})}}printRewrite(u){this._printOnRewrite&&console.log(`
# ${u}`)}rewrite(u,o,f,v,N,E,M=!1){if(this.printRewrite(u),!M&&v.length===0)return this;const h=new a.GraphRewriteBuilder(this,o,f,this._haveProvenanceAttributes,v,N,E),_=h.finish();return this.checkLostTypeAttributes(h,_),this._printOnRewrite&&(_.setPrintOnRewrite(),_.printGraph()),h.didAddForwardingIntersection?Z(_,o,N):_}remap(u,o,f,v,N,E=!1){if(this.printRewrite(u),!E&&v.size===0)return this;const M=new a.GraphRemapBuilder(this,o,f,this._haveProvenanceAttributes,v,N),h=M.finish();return this.checkLostTypeAttributes(M,h),this._printOnRewrite&&(h.setPrintOnRewrite(),h.printGraph()),(0,r.assert)(!M.didAddForwardingIntersection),h}garbageCollect(u,o){return this.remap("GC",(0,i.getNoStringTypeMapping)(),u,new Map,o,!0)}rewriteFixedPoint(u,o){let f=this;for(;;){const v=this.rewrite("fixed-point",(0,i.getNoStringTypeMapping)(),u,[],o,r.mustNotHappen,!0);if(f.allTypesUnordered().size===v.allTypesUnordered().size)return f;f=v}}allTypesUnordered(){return(0,r.assert)(this.isFrozen,"Tried to get all graph types before it was frozen"),new Set((0,r.defined)(this._types))}makeGraph(u,o){return new l.Graph((0,r.defined)(this._types),u,o)}getParentsOfType(u){if(C(u.typeRef,this),this._parents===void 0){const o=(0,r.defined)(this._types).map(f=>new Set);for(const f of this.allTypesUnordered())for(const v of f.getChildren()){const N=v.index;o[N]=o[N].add(f)}this._parents=o}return this._parents[u.index]}printGraph(){const u=(0,r.defined)(this._types);for(let o=0;o<u.length;o++){const f=u[o],v=[];v.push(`${f.debugPrintKind}${f.hasNames?` ${f.getCombinedName()}`:""}`);const N=f.getChildren();N.size>0&&v.push(`children ${Array.from(N).map(E=>E.index).join(",")}`);for(const[E,M]of f.getAttributes()){const h=E.stringify(M);h!==void 0&&v.push(h)}console.log(`${o}: ${v.join(" | ")}`)}}};we.TypeGraph=R;function G(V,u,o){const f=(0,e.setFilter)(V.allTypesUnordered(),v=>v.kind==="none");return f.size===0?V:((0,r.assert)(f.size===1,"Cannot have more than one none type"),V.rewrite("none to any",u,!1,[Array.from(f)],o,(v,N,E)=>{const M=(0,n.combineTypeAttributesOfTypes)("union",v);return N.getPrimitiveType("any",M,E)}))}we.noneToAny=G;function Q(V,u,o){function f(E,M,h){const _=(0,e.mapMap)(E.getProperties(),(A,S)=>{const O=A.type;let L;if(!A.isOptional||O.isNullable)L=M.reconstituteType(O);else{const K=M.getPrimitiveType("null");let I;O instanceof t.UnionType?I=(0,e.setMap)(O.members,x=>M.reconstituteType(x)).add(K):I=new Set([M.reconstituteType(O),K]);const k=s.namesTypeAttributeKind.setDefaultInAttributes(O.getAttributes(),()=>s.TypeNames.make(new Set([S]),new Set,!0));L=M.getUnionType(k,I)}return M.makeClassProperty(L,A.isOptional)});return E.isFixed?M.getUniqueClassType(E.getAttributes(),!0,_,h):M.getClassType(E.getAttributes(),_,h)}const v=(0,e.setFilter)(V.allTypesUnordered(),E=>E instanceof t.ClassType&&(0,e.mapSome)(E.getProperties(),M=>M.isOptional)),N=Array.from(v).map(E=>[E]);return v.size===0?V:V.rewrite("optional to nullable",u,!1,N,o,(E,M,h)=>{(0,r.assert)(E.size===1);const _=(0,r.defined)((0,e.iterableFirst)(E));return f(_,M,h)})}we.optionalToNullable=Q;function Z(V,u,o){const f=[];for(const v of V.allTypesUnordered()){if(!(v instanceof t.IntersectionType))continue;const N=new Set([v]);let E=v;for(;E.members.size===1;){const M=(0,r.defined)((0,e.iterableFirst)(E.members));if(!(M instanceof t.IntersectionType)){f.push([v,M]);break}if(N.has(M))return(0,r.panic)("There's a cycle of intersection types");N.add(M),E=M}}return V.remap("remove indirection intersections",u,!1,new Map(f),o)}return we.removeIndirectionIntersections=Z,we}var Xs={},bl={exports:{}},Gn={exports:{}};/*! https://mths.be/punycode v1.4.0 by @mathias */Gn.exports;var mo;function fp(){return mo||(mo=1,function(e,t){(function(n){var r=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,a=typeof be=="object"&&be;(a.global===a||a.window===a||a.self===a)&&(n=a);var s,l=2147483647,c=36,p=1,g=26,y=38,w=700,d=72,b=128,m="-",T=/^xn--/,C=/[^\x20-\x7E]/,P=/[\x2E\u3002\uFF0E\uFF61]/g,z={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},U=c-p,B=Math.floor,F=String.fromCharCode,D;function R(h){throw new RangeError(z[h])}function G(h,_){for(var A=h.length,S=[];A--;)S[A]=_(h[A]);return S}function Q(h,_){var A=h.split("@"),S="";A.length>1&&(S=A[0]+"@",h=A[1]),h=h.replace(P,".");var O=h.split("."),L=G(O,_).join(".");return S+L}function Z(h){for(var _=[],A=0,S=h.length,O,L;A<S;)O=h.charCodeAt(A++),O>=55296&&O<=56319&&A<S?(L=h.charCodeAt(A++),(L&64512)==56320?_.push(((O&1023)<<10)+(L&1023)+65536):(_.push(O),A--)):_.push(O);return _}function V(h){return G(h,function(_){var A="";return _>65535&&(_-=65536,A+=F(_>>>10&1023|55296),_=56320|_&1023),A+=F(_),A}).join("")}function u(h){return h-48<10?h-22:h-65<26?h-65:h-97<26?h-97:c}function o(h,_){return h+22+75*(h<26)-((_!=0)<<5)}function f(h,_,A){var S=0;for(h=A?B(h/w):h>>1,h+=B(h/_);h>U*g>>1;S+=c)h=B(h/U);return B(S+(U+1)*h/(h+y))}function v(h){var _=[],A=h.length,S,O=0,L=b,K=d,I,k,x,q,X,te,ne,ue,H;for(I=h.lastIndexOf(m),I<0&&(I=0),k=0;k<I;++k)h.charCodeAt(k)>=128&&R("not-basic"),_.push(h.charCodeAt(k));for(x=I>0?I+1:0;x<A;){for(q=O,X=1,te=c;x>=A&&R("invalid-input"),ne=u(h.charCodeAt(x++)),(ne>=c||ne>B((l-O)/X))&&R("overflow"),O+=ne*X,ue=te<=K?p:te>=K+g?g:te-K,!(ne<ue);te+=c)H=c-ue,X>B(l/H)&&R("overflow"),X*=H;S=_.length+1,K=f(O-q,S,q==0),B(O/S)>l-L&&R("overflow"),L+=B(O/S),O%=S,_.splice(O++,0,L)}return V(_)}function N(h){var _,A,S,O,L,K,I,k,x,q,X,te=[],ne,ue,H,J;for(h=Z(h),ne=h.length,_=b,A=0,L=d,K=0;K<ne;++K)X=h[K],X<128&&te.push(F(X));for(S=O=te.length,O&&te.push(m);S<ne;){for(I=l,K=0;K<ne;++K)X=h[K],X>=_&&X<I&&(I=X);for(ue=S+1,I-_>B((l-A)/ue)&&R("overflow"),A+=(I-_)*ue,_=I,K=0;K<ne;++K)if(X=h[K],X<_&&++A>l&&R("overflow"),X==_){for(k=A,x=c;q=x<=L?p:x>=L+g?g:x-L,!(k<q);x+=c)J=k-q,H=c-q,te.push(F(o(q+J%H,0))),k=B(J/H);te.push(F(o(k,0))),L=f(A,ue,S==O),A=0,++S}++A,++_}return te.join("")}function E(h){return Q(h,function(_){return T.test(_)?v(_.slice(4).toLowerCase()):_})}function M(h){return Q(h,function(_){return C.test(_)?"xn--"+N(_):_})}if(s={version:"1.3.2",ucs2:{decode:Z,encode:V},decode:v,encode:N,toASCII:M,toUnicode:E},r&&i)if(e.exports==r)i.exports=s;else for(D in s)s.hasOwnProperty(D)&&(r[D]=s[D]);else n.punycode=s})(be)}(Gn,Gn.exports)),Gn.exports}var ts={exports:{}};/*!
 * URI.js - Mutating URLs
 * IPv6 Support
 *
 * Version: 1.19.11
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */var go;function dp(){return go||(go=1,function(e){(function(t,n){e.exports?e.exports=n():t.IPv6=n(t)})(be,function(t){var n=t&&t.IPv6;function r(a){var s=a.toLowerCase(),l=s.split(":"),c=l.length,p=8;l[0]===""&&l[1]===""&&l[2]===""?(l.shift(),l.shift()):l[0]===""&&l[1]===""?l.shift():l[c-1]===""&&l[c-2]===""&&l.pop(),c=l.length,l[c-1].indexOf(".")!==-1&&(p=7);var g;for(g=0;g<c&&l[g]!=="";g++);if(g<p)for(l.splice(g,1,"0000");l.length<p;)l.splice(g,0,"0000");for(var y,w=0;w<p;w++){y=l[w].split("");for(var d=0;d<3&&(y[0]==="0"&&y.length>1);d++)y.splice(0,1);l[w]=y.join("")}var b=-1,m=0,T=0,C=-1,P=!1;for(w=0;w<p;w++)P?l[w]==="0"?T+=1:(P=!1,T>m&&(b=C,m=T)):l[w]==="0"&&(P=!0,C=w,T=1);T>m&&(b=C,m=T),m>1&&l.splice(b,m,""),c=l.length;var z="";for(l[0]===""&&(z=":"),w=0;w<c&&(z+=l[w],w!==c-1);w++)z+=":";return l[c-1]===""&&(z+=":"),z}function i(){return t.IPv6===this&&(t.IPv6=n),this}return{best:r,noConflict:i}})}(ts)),ts.exports}var ns={exports:{}};/*!
 * URI.js - Mutating URLs
 * Second Level Domain (SLD) Support
 *
 * Version: 1.19.11
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */var yo;function hp(){return yo||(yo=1,function(e){(function(t,n){e.exports?e.exports=n():t.SecondLevelDomains=n(t)})(be,function(t){var n=t&&t.SecondLevelDomains,r={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch ",com:"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ",net:"gb jp se uk ",org:"ae",de:"com "},has:function(i){var a=i.lastIndexOf(".");if(a<=0||a>=i.length-1)return!1;var s=i.lastIndexOf(".",a-1);if(s<=0||s>=a-1)return!1;var l=r.list[i.slice(a+1)];return l?l.indexOf(" "+i.slice(s+1,a)+" ")>=0:!1},is:function(i){var a=i.lastIndexOf(".");if(a<=0||a>=i.length-1)return!1;var s=i.lastIndexOf(".",a-1);if(s>=0)return!1;var l=r.list[i.slice(a+1)];return l?l.indexOf(" "+i.slice(0,a)+" ")>=0:!1},get:function(i){var a=i.lastIndexOf(".");if(a<=0||a>=i.length-1)return null;var s=i.lastIndexOf(".",a-1);if(s<=0||s>=a-1)return null;var l=r.list[i.slice(a+1)];return!l||l.indexOf(" "+i.slice(s+1,a)+" ")<0?null:i.slice(s+1)},noConflict:function(){return t.SecondLevelDomains===this&&(t.SecondLevelDomains=n),this}};return r})}(ns)),ns.exports}/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.19.11
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */(function(e){(function(t,n){e.exports?e.exports=n(fp(),dp(),hp()):t.URI=n(t.punycode,t.IPv6,t.SecondLevelDomains,t)})(be,function(t,n,r,i){var a=i&&i.URI;function s(u,o){var f=arguments.length>=1,v=arguments.length>=2;if(!(this instanceof s))return f?v?new s(u,o):new s(u):new s;if(u===void 0){if(f)throw new TypeError("undefined is not a valid argument for URI");typeof location<"u"?u=location.href+"":u=""}if(u===null&&f)throw new TypeError("null is not a valid argument for URI");return this.href(u),o!==void 0?this.absoluteTo(o):this}function l(u){return/^[0-9]+$/.test(u)}s.version="1.19.11";var c=s.prototype,p=Object.prototype.hasOwnProperty;function g(u){return u.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function y(u){return u===void 0?"Undefined":String(Object.prototype.toString.call(u)).slice(8,-1)}function w(u){return y(u)==="Array"}function d(u,o){var f={},v,N;if(y(o)==="RegExp")f=null;else if(w(o))for(v=0,N=o.length;v<N;v++)f[o[v]]=!0;else f[o]=!0;for(v=0,N=u.length;v<N;v++){var E=f&&f[u[v]]!==void 0||!f&&o.test(u[v]);E&&(u.splice(v,1),N--,v--)}return u}function b(u,o){var f,v;if(w(o)){for(f=0,v=o.length;f<v;f++)if(!b(u,o[f]))return!1;return!0}var N=y(o);for(f=0,v=u.length;f<v;f++)if(N==="RegExp"){if(typeof u[f]=="string"&&u[f].match(o))return!0}else if(u[f]===o)return!0;return!1}function m(u,o){if(!w(u)||!w(o)||u.length!==o.length)return!1;u.sort(),o.sort();for(var f=0,v=u.length;f<v;f++)if(u[f]!==o[f])return!1;return!0}function T(u){var o=/^\/+|\/+$/g;return u.replace(o,"")}s._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:s.preventInvalidHostname,duplicateQueryParameters:s.duplicateQueryParameters,escapeQuerySpace:s.escapeQuerySpace}},s.preventInvalidHostname=!1,s.duplicateQueryParameters=!1,s.escapeQuerySpace=!0,s.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,s.idn_expression=/[^a-z0-9\._-]/i,s.punycode_expression=/(xn--)/i,s.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,s.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/ig,s.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},s.leading_whitespace_expression=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,s.ascii_tab_whitespace=/[\u0009\u000A\u000D]+/g,s.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},s.hostProtocols=["http","https"],s.invalid_hostname_characters=/[^a-zA-Z0-9\.\-:_]/,s.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},s.getDomAttribute=function(u){if(!(!u||!u.nodeName)){var o=u.nodeName.toLowerCase();if(!(o==="input"&&u.type!=="image"))return s.domAttributes[o]}};function C(u){return escape(u)}function P(u){return encodeURIComponent(u).replace(/[!'()*]/g,C).replace(/\*/g,"%2A")}s.encode=P,s.decode=decodeURIComponent,s.iso8859=function(){s.encode=escape,s.decode=unescape},s.unicode=function(){s.encode=P,s.decode=decodeURIComponent},s.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/ig,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/ig,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},s.encodeQuery=function(u,o){var f=s.encode(u+"");return o===void 0&&(o=s.escapeQuerySpace),o?f.replace(/%20/g,"+"):f},s.decodeQuery=function(u,o){u+="",o===void 0&&(o=s.escapeQuerySpace);try{return s.decode(o?u.replace(/\+/g,"%20"):u)}catch{return u}};var z={encode:"encode",decode:"decode"},U,B=function(u,o){return function(f){try{return s[o](f+"").replace(s.characters[u][o].expression,function(v){return s.characters[u][o].map[v]})}catch{return f}}};for(U in z)s[U+"PathSegment"]=B("pathname",z[U]),s[U+"UrnPathSegment"]=B("urnpath",z[U]);var F=function(u,o,f){return function(v){var N;f?N=function(_){return s[o](s[f](_))}:N=s[o];for(var E=(v+"").split(u),M=0,h=E.length;M<h;M++)E[M]=N(E[M]);return E.join(u)}};s.decodePath=F("/","decodePathSegment"),s.decodeUrnPath=F(":","decodeUrnPathSegment"),s.recodePath=F("/","encodePathSegment","decode"),s.recodeUrnPath=F(":","encodeUrnPathSegment","decode"),s.encodeReserved=B("reserved","encode"),s.parse=function(u,o){var f;return o||(o={preventInvalidHostname:s.preventInvalidHostname}),u=u.replace(s.leading_whitespace_expression,""),u=u.replace(s.ascii_tab_whitespace,""),f=u.indexOf("#"),f>-1&&(o.fragment=u.substring(f+1)||null,u=u.substring(0,f)),f=u.indexOf("?"),f>-1&&(o.query=u.substring(f+1)||null,u=u.substring(0,f)),u=u.replace(/^(https?|ftp|wss?)?:+[/\\]*/i,"$1://"),u=u.replace(/^[/\\]{2,}/i,"//"),u.substring(0,2)==="//"?(o.protocol=null,u=u.substring(2),u=s.parseAuthority(u,o)):(f=u.indexOf(":"),f>-1&&(o.protocol=u.substring(0,f)||null,o.protocol&&!o.protocol.match(s.protocol_expression)?o.protocol=void 0:u.substring(f+1,f+3).replace(/\\/g,"/")==="//"?(u=u.substring(f+3),u=s.parseAuthority(u,o)):(u=u.substring(f+1),o.urn=!0))),o.path=u,o},s.parseHost=function(u,o){u||(u=""),u=u.replace(/\\/g,"/");var f=u.indexOf("/"),v,N;if(f===-1&&(f=u.length),u.charAt(0)==="[")v=u.indexOf("]"),o.hostname=u.substring(1,v)||null,o.port=u.substring(v+2,f)||null,o.port==="/"&&(o.port=null);else{var E=u.indexOf(":"),M=u.indexOf("/"),h=u.indexOf(":",E+1);h!==-1&&(M===-1||h<M)?(o.hostname=u.substring(0,f)||null,o.port=null):(N=u.substring(0,f).split(":"),o.hostname=N[0]||null,o.port=N[1]||null)}return o.hostname&&u.substring(f).charAt(0)!=="/"&&(f++,u="/"+u),o.preventInvalidHostname&&s.ensureValidHostname(o.hostname,o.protocol),o.port&&s.ensureValidPort(o.port),u.substring(f)||"/"},s.parseAuthority=function(u,o){return u=s.parseUserinfo(u,o),s.parseHost(u,o)},s.parseUserinfo=function(u,o){var f=u,v=u.indexOf("\\");v!==-1&&(u=u.replace(/\\/g,"/"));var N=u.indexOf("/"),E=u.lastIndexOf("@",N>-1?N:u.length-1),M;return E>-1&&(N===-1||E<N)?(M=u.substring(0,E).split(":"),o.username=M[0]?s.decode(M[0]):null,M.shift(),o.password=M[0]?s.decode(M.join(":")):null,u=f.substring(E+1)):(o.username=null,o.password=null),u},s.parseQuery=function(u,o){if(!u)return{};if(u=u.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!u)return{};for(var f={},v=u.split("&"),N=v.length,E,M,h,_=0;_<N;_++)E=v[_].split("="),M=s.decodeQuery(E.shift(),o),h=E.length?s.decodeQuery(E.join("="),o):null,M!=="__proto__"&&(p.call(f,M)?((typeof f[M]=="string"||f[M]===null)&&(f[M]=[f[M]]),f[M].push(h)):f[M]=h);return f},s.build=function(u){var o="",f=!1;return u.protocol&&(o+=u.protocol+":"),!u.urn&&(o||u.hostname)&&(o+="//",f=!0),o+=s.buildAuthority(u)||"",typeof u.path=="string"&&(u.path.charAt(0)!=="/"&&f&&(o+="/"),o+=u.path),typeof u.query=="string"&&u.query&&(o+="?"+u.query),typeof u.fragment=="string"&&u.fragment&&(o+="#"+u.fragment),o},s.buildHost=function(u){var o="";if(u.hostname)s.ip6_expression.test(u.hostname)?o+="["+u.hostname+"]":o+=u.hostname;else return"";return u.port&&(o+=":"+u.port),o},s.buildAuthority=function(u){return s.buildUserinfo(u)+s.buildHost(u)},s.buildUserinfo=function(u){var o="";return u.username&&(o+=s.encode(u.username)),u.password&&(o+=":"+s.encode(u.password)),o&&(o+="@"),o},s.buildQuery=function(u,o,f){var v="",N,E,M,h;for(E in u)if(E!=="__proto__"&&p.call(u,E))if(w(u[E]))for(N={},M=0,h=u[E].length;M<h;M++)u[E][M]!==void 0&&N[u[E][M]+""]===void 0&&(v+="&"+s.buildQueryParameter(E,u[E][M],f),o!==!0&&(N[u[E][M]+""]=!0));else u[E]!==void 0&&(v+="&"+s.buildQueryParameter(E,u[E],f));return v.substring(1)},s.buildQueryParameter=function(u,o,f){return s.encodeQuery(u,f)+(o!==null?"="+s.encodeQuery(o,f):"")},s.addQuery=function(u,o,f){if(typeof o=="object")for(var v in o)p.call(o,v)&&s.addQuery(u,v,o[v]);else if(typeof o=="string"){if(u[o]===void 0){u[o]=f;return}else typeof u[o]=="string"&&(u[o]=[u[o]]);w(f)||(f=[f]),u[o]=(u[o]||[]).concat(f)}else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter")},s.setQuery=function(u,o,f){if(typeof o=="object")for(var v in o)p.call(o,v)&&s.setQuery(u,v,o[v]);else if(typeof o=="string")u[o]=f===void 0?null:f;else throw new TypeError("URI.setQuery() accepts an object, string as the name parameter")},s.removeQuery=function(u,o,f){var v,N,E;if(w(o))for(v=0,N=o.length;v<N;v++)u[o[v]]=void 0;else if(y(o)==="RegExp")for(E in u)o.test(E)&&(u[E]=void 0);else if(typeof o=="object")for(E in o)p.call(o,E)&&s.removeQuery(u,E,o[E]);else if(typeof o=="string")f!==void 0?y(f)==="RegExp"?!w(u[o])&&f.test(u[o])?u[o]=void 0:u[o]=d(u[o],f):u[o]===String(f)&&(!w(f)||f.length===1)?u[o]=void 0:w(u[o])&&(u[o]=d(u[o],f)):u[o]=void 0;else throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter")},s.hasQuery=function(u,o,f,v){switch(y(o)){case"String":break;case"RegExp":for(var N in u)if(p.call(u,N)&&o.test(N)&&(f===void 0||s.hasQuery(u,N,f)))return!0;return!1;case"Object":for(var E in o)if(p.call(o,E)&&!s.hasQuery(u,E,o[E]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(y(f)){case"Undefined":return o in u;case"Boolean":var M=!!(w(u[o])?u[o].length:u[o]);return f===M;case"Function":return!!f(u[o],o,u);case"Array":if(!w(u[o]))return!1;var h=v?b:m;return h(u[o],f);case"RegExp":return w(u[o])?v?b(u[o],f):!1:!!(u[o]&&u[o].match(f));case"Number":f=String(f);case"String":return w(u[o])?v?b(u[o],f):!1:u[o]===f;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},s.joinPaths=function(){for(var u=[],o=[],f=0,v=0;v<arguments.length;v++){var N=new s(arguments[v]);u.push(N);for(var E=N.segment(),M=0;M<E.length;M++)typeof E[M]=="string"&&o.push(E[M]),E[M]&&f++}if(!o.length||!f)return new s("");var h=new s("").segment(o);return(u[0].path()===""||u[0].path().slice(0,1)==="/")&&h.path("/"+h.path()),h.normalize()},s.commonPath=function(u,o){var f=Math.min(u.length,o.length),v;for(v=0;v<f;v++)if(u.charAt(v)!==o.charAt(v)){v--;break}return v<1?u.charAt(0)===o.charAt(0)&&u.charAt(0)==="/"?"/":"":((u.charAt(v)!=="/"||o.charAt(v)!=="/")&&(v=u.substring(0,v).lastIndexOf("/")),u.substring(0,v+1))},s.withinString=function(u,o,f){f||(f={});var v=f.start||s.findUri.start,N=f.end||s.findUri.end,E=f.trim||s.findUri.trim,M=f.parens||s.findUri.parens,h=/[a-z0-9-]=["']?$/i;for(v.lastIndex=0;;){var _=v.exec(u);if(!_)break;var A=_.index;if(f.ignoreHtml){var S=u.slice(Math.max(A-3,0),A);if(S&&h.test(S))continue}for(var O=A+u.slice(A).search(N),L=u.slice(A,O),K=-1;;){var I=M.exec(L);if(!I)break;var k=I.index+I[0].length;K=Math.max(K,k)}if(K>-1?L=L.slice(0,K)+L.slice(K).replace(E,""):L=L.replace(E,""),!(L.length<=_[0].length)&&!(f.ignore&&f.ignore.test(L))){O=A+L.length;var x=o(L,A,O,u);if(x===void 0){v.lastIndex=O;continue}x=String(x),u=u.slice(0,A)+x+u.slice(O),v.lastIndex=A+x.length}}return v.lastIndex=0,u},s.ensureValidHostname=function(u,o){var f=!!u,v=!!o,N=!1;if(v&&(N=b(s.hostProtocols,o)),N&&!f)throw new TypeError("Hostname cannot be empty, if protocol is "+o);if(u&&u.match(s.invalid_hostname_characters)){if(!t)throw new TypeError('Hostname "'+u+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(t.toASCII(u).match(s.invalid_hostname_characters))throw new TypeError('Hostname "'+u+'" contains characters other than [A-Z0-9.-:_]')}},s.ensureValidPort=function(u){if(u){var o=Number(u);if(!(l(o)&&o>0&&o<65536))throw new TypeError('Port "'+u+'" is not a valid port')}},s.noConflict=function(u){if(u){var o={URI:this.noConflict()};return i.URITemplate&&typeof i.URITemplate.noConflict=="function"&&(o.URITemplate=i.URITemplate.noConflict()),i.IPv6&&typeof i.IPv6.noConflict=="function"&&(o.IPv6=i.IPv6.noConflict()),i.SecondLevelDomains&&typeof i.SecondLevelDomains.noConflict=="function"&&(o.SecondLevelDomains=i.SecondLevelDomains.noConflict()),o}else i.URI===this&&(i.URI=a);return this},c.build=function(u){return u===!0?this._deferred_build=!0:(u===void 0||this._deferred_build)&&(this._string=s.build(this._parts),this._deferred_build=!1),this},c.clone=function(){return new s(this)},c.valueOf=c.toString=function(){return this.build(!1)._string};function D(u){return function(o,f){return o===void 0?this._parts[u]||"":(this._parts[u]=o||null,this.build(!f),this)}}function R(u,o){return function(f,v){return f===void 0?this._parts[u]||"":(f!==null&&(f=f+"",f.charAt(0)===o&&(f=f.substring(1))),this._parts[u]=f,this.build(!v),this)}}c.protocol=D("protocol"),c.username=D("username"),c.password=D("password"),c.hostname=D("hostname"),c.port=D("port"),c.query=R("query","?"),c.fragment=R("fragment","#"),c.search=function(u,o){var f=this.query(u,o);return typeof f=="string"&&f.length?"?"+f:f},c.hash=function(u,o){var f=this.fragment(u,o);return typeof f=="string"&&f.length?"#"+f:f},c.pathname=function(u,o){if(u===void 0||u===!0){var f=this._parts.path||(this._parts.hostname?"/":"");return u?(this._parts.urn?s.decodeUrnPath:s.decodePath)(f):f}else return this._parts.urn?this._parts.path=u?s.recodeUrnPath(u):"":this._parts.path=u?s.recodePath(u):"/",this.build(!o),this},c.path=c.pathname,c.href=function(u,o){var f;if(u===void 0)return this.toString();this._string="",this._parts=s._parts();var v=u instanceof s,N=typeof u=="object"&&(u.hostname||u.path||u.pathname);if(u.nodeName){var E=s.getDomAttribute(u);u=u[E]||"",N=!1}if(!v&&N&&u.pathname!==void 0&&(u=u.toString()),typeof u=="string"||u instanceof String)this._parts=s.parse(String(u),this._parts);else if(v||N){var M=v?u._parts:u;for(f in M)f!=="query"&&p.call(this._parts,f)&&(this._parts[f]=M[f]);M.query&&this.query(M.query,!1)}else throw new TypeError("invalid input");return this.build(!o),this},c.is=function(u){var o=!1,f=!1,v=!1,N=!1,E=!1,M=!1,h=!1,_=!this._parts.urn;switch(this._parts.hostname&&(_=!1,f=s.ip4_expression.test(this._parts.hostname),v=s.ip6_expression.test(this._parts.hostname),o=f||v,N=!o,E=N&&r&&r.has(this._parts.hostname),M=N&&s.idn_expression.test(this._parts.hostname),h=N&&s.punycode_expression.test(this._parts.hostname)),u.toLowerCase()){case"relative":return _;case"absolute":return!_;case"domain":case"name":return N;case"sld":return E;case"ip":return o;case"ip4":case"ipv4":case"inet4":return f;case"ip6":case"ipv6":case"inet6":return v;case"idn":return M;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return h}return null};var G=c.protocol,Q=c.port,Z=c.hostname;c.protocol=function(u,o){if(u&&(u=u.replace(/:(\/\/)?$/,""),!u.match(s.protocol_expression)))throw new TypeError('Protocol "'+u+`" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]`);return G.call(this,u,o)},c.scheme=c.protocol,c.port=function(u,o){return this._parts.urn?u===void 0?"":this:(u!==void 0&&(u===0&&(u=null),u&&(u+="",u.charAt(0)===":"&&(u=u.substring(1)),s.ensureValidPort(u))),Q.call(this,u,o))},c.hostname=function(u,o){if(this._parts.urn)return u===void 0?"":this;if(u!==void 0){var f={preventInvalidHostname:this._parts.preventInvalidHostname},v=s.parseHost(u,f);if(v!=="/")throw new TypeError('Hostname "'+u+'" contains characters other than [A-Z0-9.-]');u=f.hostname,this._parts.preventInvalidHostname&&s.ensureValidHostname(u,this._parts.protocol)}return Z.call(this,u,o)},c.origin=function(u,o){if(this._parts.urn)return u===void 0?"":this;if(u===void 0){var f=this.protocol(),v=this.authority();return v?(f?f+"://":"")+this.authority():""}else{var N=s(u);return this.protocol(N.protocol()).authority(N.authority()).build(!o),this}},c.host=function(u,o){if(this._parts.urn)return u===void 0?"":this;if(u===void 0)return this._parts.hostname?s.buildHost(this._parts):"";var f=s.parseHost(u,this._parts);if(f!=="/")throw new TypeError('Hostname "'+u+'" contains characters other than [A-Z0-9.-]');return this.build(!o),this},c.authority=function(u,o){if(this._parts.urn)return u===void 0?"":this;if(u===void 0)return this._parts.hostname?s.buildAuthority(this._parts):"";var f=s.parseAuthority(u,this._parts);if(f!=="/")throw new TypeError('Hostname "'+u+'" contains characters other than [A-Z0-9.-]');return this.build(!o),this},c.userinfo=function(u,o){if(this._parts.urn)return u===void 0?"":this;if(u===void 0){var f=s.buildUserinfo(this._parts);return f&&f.substring(0,f.length-1)}else return u[u.length-1]!=="@"&&(u+="@"),s.parseUserinfo(u,this._parts),this.build(!o),this},c.resource=function(u,o){var f;return u===void 0?this.path()+this.search()+this.hash():(f=s.parse(u),this._parts.path=f.path,this._parts.query=f.query,this._parts.fragment=f.fragment,this.build(!o),this)},c.subdomain=function(u,o){if(this._parts.urn)return u===void 0?"":this;if(u===void 0){if(!this._parts.hostname||this.is("IP"))return"";var f=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,f)||""}else{var v=this._parts.hostname.length-this.domain().length,N=this._parts.hostname.substring(0,v),E=new RegExp("^"+g(N));if(u&&u.charAt(u.length-1)!=="."&&(u+="."),u.indexOf(":")!==-1)throw new TypeError("Domains cannot contain colons");return u&&s.ensureValidHostname(u,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(E,u),this.build(!o),this}},c.domain=function(u,o){if(this._parts.urn)return u===void 0?"":this;if(typeof u=="boolean"&&(o=u,u=void 0),u===void 0){if(!this._parts.hostname||this.is("IP"))return"";var f=this._parts.hostname.match(/\./g);if(f&&f.length<2)return this._parts.hostname;var v=this._parts.hostname.length-this.tld(o).length-1;return v=this._parts.hostname.lastIndexOf(".",v-1)+1,this._parts.hostname.substring(v)||""}else{if(!u)throw new TypeError("cannot set domain empty");if(u.indexOf(":")!==-1)throw new TypeError("Domains cannot contain colons");if(s.ensureValidHostname(u,this._parts.protocol),!this._parts.hostname||this.is("IP"))this._parts.hostname=u;else{var N=new RegExp(g(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(N,u)}return this.build(!o),this}},c.tld=function(u,o){if(this._parts.urn)return u===void 0?"":this;if(typeof u=="boolean"&&(o=u,u=void 0),u===void 0){if(!this._parts.hostname||this.is("IP"))return"";var f=this._parts.hostname.lastIndexOf("."),v=this._parts.hostname.substring(f+1);return o!==!0&&r&&r.list[v.toLowerCase()]&&r.get(this._parts.hostname)||v}else{var N;if(u)if(u.match(/[^a-zA-Z0-9-]/))if(r&&r.is(u))N=new RegExp(g(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(N,u);else throw new TypeError('TLD "'+u+'" contains characters other than [A-Z0-9]');else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");N=new RegExp(g(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(N,u)}else throw new TypeError("cannot set TLD empty");return this.build(!o),this}},c.directory=function(u,o){if(this._parts.urn)return u===void 0?"":this;if(u===void 0||u===!0){if(!this._parts.path&&!this._parts.hostname)return"";if(this._parts.path==="/")return"/";var f=this._parts.path.length-this.filename().length-1,v=this._parts.path.substring(0,f)||(this._parts.hostname?"/":"");return u?s.decodePath(v):v}else{var N=this._parts.path.length-this.filename().length,E=this._parts.path.substring(0,N),M=new RegExp("^"+g(E));return this.is("relative")||(u||(u="/"),u.charAt(0)!=="/"&&(u="/"+u)),u&&u.charAt(u.length-1)!=="/"&&(u+="/"),u=s.recodePath(u),this._parts.path=this._parts.path.replace(M,u),this.build(!o),this}},c.filename=function(u,o){if(this._parts.urn)return u===void 0?"":this;if(typeof u!="string"){if(!this._parts.path||this._parts.path==="/")return"";var f=this._parts.path.lastIndexOf("/"),v=this._parts.path.substring(f+1);return u?s.decodePathSegment(v):v}else{var N=!1;u.charAt(0)==="/"&&(u=u.substring(1)),u.match(/\.?\//)&&(N=!0);var E=new RegExp(g(this.filename())+"$");return u=s.recodePath(u),this._parts.path=this._parts.path.replace(E,u),N?this.normalizePath(o):this.build(!o),this}},c.suffix=function(u,o){if(this._parts.urn)return u===void 0?"":this;if(u===void 0||u===!0){if(!this._parts.path||this._parts.path==="/")return"";var f=this.filename(),v=f.lastIndexOf("."),N,E;return v===-1?"":(N=f.substring(v+1),E=/^[a-z0-9%]+$/i.test(N)?N:"",u?s.decodePathSegment(E):E)}else{u.charAt(0)==="."&&(u=u.substring(1));var M=this.suffix(),h;if(M)u?h=new RegExp(g(M)+"$"):h=new RegExp(g("."+M)+"$");else{if(!u)return this;this._parts.path+="."+s.recodePath(u)}return h&&(u=s.recodePath(u),this._parts.path=this._parts.path.replace(h,u)),this.build(!o),this}},c.segment=function(u,o,f){var v=this._parts.urn?":":"/",N=this.path(),E=N.substring(0,1)==="/",M=N.split(v);if(u!==void 0&&typeof u!="number"&&(f=o,o=u,u=void 0),u!==void 0&&typeof u!="number")throw new Error('Bad segment "'+u+'", must be 0-based integer');if(E&&M.shift(),u<0&&(u=Math.max(M.length+u,0)),o===void 0)return u===void 0?M:M[u];if(u===null||M[u]===void 0)if(w(o)){M=[];for(var h=0,_=o.length;h<_;h++)!o[h].length&&(!M.length||!M[M.length-1].length)||(M.length&&!M[M.length-1].length&&M.pop(),M.push(T(o[h])))}else(o||typeof o=="string")&&(o=T(o),M[M.length-1]===""?M[M.length-1]=o:M.push(o));else o?M[u]=T(o):M.splice(u,1);return E&&M.unshift(""),this.path(M.join(v),f)},c.segmentCoded=function(u,o,f){var v,N,E;if(typeof u!="number"&&(f=o,o=u,u=void 0),o===void 0){if(v=this.segment(u,o,f),!w(v))v=v!==void 0?s.decode(v):void 0;else for(N=0,E=v.length;N<E;N++)v[N]=s.decode(v[N]);return v}if(!w(o))o=typeof o=="string"||o instanceof String?s.encode(o):o;else for(N=0,E=o.length;N<E;N++)o[N]=s.encode(o[N]);return this.segment(u,o,f)};var V=c.query;return c.query=function(u,o){if(u===!0)return s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if(typeof u=="function"){var f=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace),v=u.call(this,f);return this._parts.query=s.buildQuery(v||f,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!o),this}else return u!==void 0&&typeof u!="string"?(this._parts.query=s.buildQuery(u,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!o),this):V.call(this,u,o)},c.setQuery=function(u,o,f){var v=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if(typeof u=="string"||u instanceof String)v[u]=o!==void 0?o:null;else if(typeof u=="object")for(var N in u)p.call(u,N)&&(v[N]=u[N]);else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");return this._parts.query=s.buildQuery(v,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),typeof u!="string"&&(f=o),this.build(!f),this},c.addQuery=function(u,o,f){var v=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return s.addQuery(v,u,o===void 0?null:o),this._parts.query=s.buildQuery(v,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),typeof u!="string"&&(f=o),this.build(!f),this},c.removeQuery=function(u,o,f){var v=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return s.removeQuery(v,u,o),this._parts.query=s.buildQuery(v,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),typeof u!="string"&&(f=o),this.build(!f),this},c.hasQuery=function(u,o,f){var v=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return s.hasQuery(v,u,o,f)},c.setSearch=c.setQuery,c.addSearch=c.addQuery,c.removeSearch=c.removeQuery,c.hasSearch=c.hasQuery,c.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},c.normalizeProtocol=function(u){return typeof this._parts.protocol=="string"&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!u)),this},c.normalizeHostname=function(u){return this._parts.hostname&&(this.is("IDN")&&t?this._parts.hostname=t.toASCII(this._parts.hostname):this.is("IPv6")&&n&&(this._parts.hostname=n.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!u)),this},c.normalizePort=function(u){return typeof this._parts.protocol=="string"&&this._parts.port===s.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!u)),this},c.normalizePath=function(u){var o=this._parts.path;if(!o)return this;if(this._parts.urn)return this._parts.path=s.recodeUrnPath(this._parts.path),this.build(!u),this;if(this._parts.path==="/")return this;o=s.recodePath(o);var f,v="",N,E;for(o.charAt(0)!=="/"&&(f=!0,o="/"+o),(o.slice(-3)==="/.."||o.slice(-2)==="/.")&&(o+="/"),o=o.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),f&&(v=o.substring(1).match(/^(\.\.\/)+/)||"",v&&(v=v[0]));N=o.search(/\/\.\.(\/|$)/),N!==-1;){if(N===0){o=o.substring(3);continue}E=o.substring(0,N).lastIndexOf("/"),E===-1&&(E=N),o=o.substring(0,E)+o.substring(N+3)}return f&&this.is("relative")&&(o=v+o.substring(1)),this._parts.path=o,this.build(!u),this},c.normalizePathname=c.normalizePath,c.normalizeQuery=function(u){return typeof this._parts.query=="string"&&(this._parts.query.length?this.query(s.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!u)),this},c.normalizeFragment=function(u){return this._parts.fragment||(this._parts.fragment=null,this.build(!u)),this},c.normalizeSearch=c.normalizeQuery,c.normalizeHash=c.normalizeFragment,c.iso8859=function(){var u=s.encode,o=s.decode;s.encode=escape,s.decode=decodeURIComponent;try{this.normalize()}finally{s.encode=u,s.decode=o}return this},c.unicode=function(){var u=s.encode,o=s.decode;s.encode=P,s.decode=unescape;try{this.normalize()}finally{s.encode=u,s.decode=o}return this},c.readable=function(){var u=this.clone();u.username("").password("").normalize();var o="";if(u._parts.protocol&&(o+=u._parts.protocol+"://"),u._parts.hostname&&(u.is("punycode")&&t?(o+=t.toUnicode(u._parts.hostname),u._parts.port&&(o+=":"+u._parts.port)):o+=u.host()),u._parts.hostname&&u._parts.path&&u._parts.path.charAt(0)!=="/"&&(o+="/"),o+=u.path(!0),u._parts.query){for(var f="",v=0,N=u._parts.query.split("&"),E=N.length;v<E;v++){var M=(N[v]||"").split("=");f+="&"+s.decodeQuery(M[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),M[1]!==void 0&&(f+="="+s.decodeQuery(M[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}o+="?"+f.substring(1)}return o+=s.decodeQuery(u.hash(),!0),o},c.absoluteTo=function(u){var o=this.clone(),f=["protocol","username","password","hostname","port"],v,N,E;if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(u instanceof s||(u=new s(u)),o._parts.protocol||(o._parts.protocol=u._parts.protocol,this._parts.hostname))return o;for(N=0;E=f[N];N++)o._parts[E]=u._parts[E];return o._parts.path?(o._parts.path.substring(-2)===".."&&(o._parts.path+="/"),o.path().charAt(0)!=="/"&&(v=u.directory(),v=v||(u.path().indexOf("/")===0?"/":""),o._parts.path=(v?v+"/":"")+o._parts.path,o.normalizePath())):(o._parts.path=u._parts.path,o._parts.query||(o._parts.query=u._parts.query)),o.build(),o},c.relativeTo=function(u){var o=this.clone().normalize(),f,v,N,E,M;if(o._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(u=new s(u).normalize(),f=o._parts,v=u._parts,E=o.path(),M=u.path(),E.charAt(0)!=="/")throw new Error("URI is already relative");if(M.charAt(0)!=="/")throw new Error("Cannot calculate a URI relative to another relative URI");if(f.protocol===v.protocol&&(f.protocol=null),f.username!==v.username||f.password!==v.password||f.protocol!==null||f.username!==null||f.password!==null)return o.build();if(f.hostname===v.hostname&&f.port===v.port)f.hostname=null,f.port=null;else return o.build();if(E===M)return f.path="",o.build();if(N=s.commonPath(E,M),!N)return o.build();var h=v.path.substring(N.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return f.path=h+f.path.substring(N.length)||"./",o.build()},c.equals=function(u){var o=this.clone(),f=new s(u),v={},N={},E={},M,h,_;if(o.normalize(),f.normalize(),o.toString()===f.toString())return!0;if(M=o.query(),h=f.query(),o.query(""),f.query(""),o.toString()!==f.toString()||M.length!==h.length)return!1;v=s.parseQuery(M,this._parts.escapeQuerySpace),N=s.parseQuery(h,this._parts.escapeQuerySpace);for(_ in v)if(p.call(v,_)){if(w(v[_])){if(!m(v[_],N[_]))return!1}else if(v[_]!==N[_])return!1;E[_]=!0}for(_ in N)if(p.call(N,_)&&!E[_])return!1;return!0},c.preventInvalidHostname=function(u){return this._parts.preventInvalidHostname=!!u,this},c.duplicateQueryParameters=function(u){return this._parts.duplicateQueryParameters=!!u,this},c.escapeQuerySpace=function(u){return this._parts.escapeQuerySpace=!!u,this},s})})(bl);var Tl=bl.exports;(function(e){var t=be&&be.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.uriSchemaAttributesProducer=e.uriInferenceAttributesProducer=e.uriTypeAttributeKind=void 0;const n=t(Tl),r=Ce,i=Le,a=ie,s="qt-uri-protocols",l="qt-uri-extensions";class c extends r.TypeAttributeKind{constructor(){super("uriAttributes")}get inIdentity(){return!0}combine(b){const m=b.map(C=>C[0]),T=b.map(C=>C[1]);return[(0,i.setUnionManyInto)(new Set,m),(0,i.setUnionManyInto)(new Set,T)]}makeInferred(b){}addToSchema(b,m,T){if(m.kind!=="string"&&m.kind!=="uri")return;const[C,P]=T;C.size>0&&(b[s]=Array.from(C).sort()),P.size>0&&(b[l]=Array.from(P).sort())}}e.uriTypeAttributeKind=new c;const p=/^.+(\.[^./\\]+)$/;function g(d){const b=d.match(p);if(b!==null)return b[1]}function y(d){try{const b=(0,n.default)(d),m=g(b.path()),T=m===void 0?[]:[m.toLowerCase()];return e.uriTypeAttributeKind.makeAttributes([new Set([b.protocol().toLowerCase()]),new Set(T)])}catch{return r.emptyTypeAttributes}}e.uriInferenceAttributesProducer=y;function w(d,b,m){if(typeof d!="object"||!m.has("string"))return;let T;const C=d[s];C!==void 0?T=new Set((0,a.checkArray)(C,a.checkString)):T=new Set;let P;const z=d[l];if(z!==void 0?P=new Set((0,a.checkArray)(z,a.checkString)):P=new Set,!(T.size===0&&P.size===0))return{forString:e.uriTypeAttributeKind.makeAttributes([T,P])}}e.uriSchemaAttributesProducer=w})(Xs);var bo;function dn(){return bo||(bo=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.UnionType=e.IntersectionType=e.SetOperationType=e.intersectionTypeIdentity=e.unionTypeIdentity=e.setOperationTypeIdentity=e.setOperationCasesEqual=e.EnumType=e.enumTypeIdentity=e.MapType=e.ClassType=e.ObjectType=e.mapTypeIdentify=e.classTypeIdentity=e.ClassProperty=e.GenericClassProperty=e.ArrayType=e.arrayTypeIdentity=e.PrimitiveType=e.primitiveTypeIdentity=e.Type=e.TypeIdentity=e.isPrimitiveTypeKind=e.isNumberTypeKind=e.targetTypeKindForTransformedStringTypeKind=e.isPrimitiveStringTypeKind=e.transformedStringTypeKinds=e.transformedStringTypeTargetTypeKindsMap=void 0;const t=Le,n=ie,r=ar,i=ze,a=vr(),l={date:{jsonSchema:"date",primitive:void 0},time:{jsonSchema:"time",primitive:void 0},"date-time":{jsonSchema:"date-time",primitive:void 0},uuid:{jsonSchema:"uuid",primitive:void 0},uri:{jsonSchema:"uri",primitive:void 0,attributesProducer:Xs.uriInferenceAttributesProducer},"integer-string":{jsonSchema:"integer",primitive:"integer"},"bool-string":{jsonSchema:"boolean",primitive:"bool"}};e.transformedStringTypeTargetTypeKindsMap=(0,t.mapFromObject)(l),e.transformedStringTypeKinds=new Set(Object.getOwnPropertyNames(l));function c(A){return A==="string"||(0,t.hasOwnProperty)(l,A)}e.isPrimitiveStringTypeKind=c;function p(A){const S=e.transformedStringTypeTargetTypeKindsMap.get(A);if(S!==void 0)return S.primitive}e.targetTypeKindForTransformedStringTypeKind=p;function g(A){return A==="integer"||A==="double"}e.isNumberTypeKind=g;function y(A){return c(A)||g(A)?!0:A==="none"||A==="any"||A==="null"||A==="bool"}e.isPrimitiveTypeKind=y;function w(A,S){return A.index===S.index||A.kind==="none"||S.kind==="none"}class d{constructor(S,O){this._kind=S,this._components=O;let L=t.hashCodeInit;L=(0,t.addHashCode)(L,(0,t.hashCodeOf)(this._kind));for(const K of O)L=(0,t.addHashCode)(L,(0,t.hashCodeOf)(K));this._hashCode=L}equals(S){if(!(S instanceof d)||this._kind!==S._kind)return!1;const O=this._components.length;(0,n.assert)(O===S._components.length,"Components of a type kind's identity must have the same length");for(let L=0;L<O;L++)if(!(0,t.areEqual)(this._components[L],S._components[L]))return!1;return!0}hashCode(){return this._hashCode}}e.TypeIdentity=d;class b{constructor(S,O){this.typeRef=S,this.graph=O}get index(){return(0,a.typeRefIndex)(this.typeRef)}getChildren(){let S=this.getNonAttributeChildren();for(const[O,L]of this.getAttributes())O.children!==void 0&&(0,t.setUnionInto)(S,O.children(L));return S}getAttributes(){return(0,a.attributesForTypeRef)(this.typeRef,this.graph)}get hasNames(){return r.namesTypeAttributeKind.tryGetInAttributes(this.getAttributes())!==void 0}getNames(){return(0,n.defined)(r.namesTypeAttributeKind.tryGetInAttributes(this.getAttributes()))}getCombinedName(){return this.getNames().combinedName}get debugPrintKind(){return this.kind}equals(S){return S instanceof b?this.typeRef===S.typeRef:!1}hashCode(){return(0,t.hashCodeOf)(this.typeRef)}structurallyCompatible(S,O=!1){function L(q,X){return q===X?!0:O?q==="integer"?X==="double":q==="double"?X==="integer":!1:!1}if(w(this,S))return!0;if(!L(this.kind,S.kind))return!1;const K=[[this,S]],I=[];let k;const x=(q,X)=>w(q,X)?!0:L(q.kind,X.kind)?(K.push([q,X]),!0):(k=!0,!1);for(;K.length>0;){let[q,X]=(0,n.defined)(K.pop());if(q.index>X.index&&([q,X]=[X,q]),!q.isPrimitive()){let te=q.index,ne=X.index,ue=!1;for(const[H,J]of I)if(H===te&&J===ne){ue=!0;break}if(ue)continue;I.push([te,ne])}if(k=!1,!q.structuralEqualityStep(X,O,x)||k)return!1}return!0}getParentTypes(){return this.graph.getParentsOfType(this)}getAncestorsNotInSet(S){const O=[this],L=new Set,K=new Set;for(;;){const I=O.pop();if(I===void 0)break;const k=I.getParentTypes();console.log(`${k.size} parents`);for(const x of k)L.has(x)||(L.add(x),S.has(x.typeRef)?(console.log(`adding ${x.kind}`),O.push(x)):(console.log(`found ${x.kind}`),K.add(x)))}return K}}e.Type=b;function m(A){return(0,t.mapSome)(A,(S,O)=>O.requiresUniqueIdentity(S))}function T(A){return(0,t.mapFilter)(A,(S,O)=>O.inIdentity)}function C(A,S){if(!m(S))return new d(A,[T(S)])}e.primitiveTypeIdentity=C;class P extends b{constructor(S,O,L){super(S,O),this.kind=L}get isNullable(){return this.kind==="null"||this.kind==="any"||this.kind==="none"}isPrimitive(){return!0}getNonAttributeChildren(){return new Set}get identity(){return C(this.kind,this.getAttributes())}reconstitute(S){S.getPrimitiveType(this.kind)}structuralEqualityStep(S,O,L){return!0}}e.PrimitiveType=P;function z(A,S){if(!m(A))return new d("array",[T(A),S])}e.arrayTypeIdentity=z;class U extends b{constructor(S,O,L){super(S,O),this._itemsRef=L,this.kind="array"}setItems(S){if(this._itemsRef!==void 0)return(0,n.panic)("Can only set array items once");this._itemsRef=S}getItemsRef(){return this._itemsRef===void 0?(0,n.panic)("Array items accessed before they were set"):this._itemsRef}get items(){return(0,a.derefTypeRef)(this.getItemsRef(),this.graph)}getNonAttributeChildren(){return new Set([this.items])}get isNullable(){return!1}isPrimitive(){return!1}get identity(){return z(this.getAttributes(),this.getItemsRef())}reconstitute(S){const O=this.getItemsRef(),L=S.lookup(O);L===void 0?(S.getUniqueArrayType(),S.setArrayItems(S.reconstitute(this.getItemsRef()))):S.getArrayType(L)}structuralEqualityStep(S,O,L){return L(this.items,S.items)}}e.ArrayType=U;class B{constructor(S,O){this.typeData=S,this.isOptional=O}equals(S){return S instanceof B?(0,t.areEqual)(this.typeData,S.typeData)&&this.isOptional===S.isOptional:!1}hashCode(){return(0,t.hashCodeOf)(this.typeData)+(this.isOptional?17:23)}}e.GenericClassProperty=B;class F extends B{constructor(S,O,L){super(S,L),this.graph=O}get typeRef(){return this.typeData}get type(){return(0,a.derefTypeRef)(this.typeRef,this.graph)}}e.ClassProperty=F;function D(A,S,O,L){if(!m(S))return new d(A,[T(S),O,L])}function R(A,S){return D("class",A,S,void 0)}e.classTypeIdentity=R;function G(A,S){return D("map",A,new Map,S)}e.mapTypeIdentify=G;class Q extends b{constructor(S,O,L,K,I,k){super(S,O),this.kind=L,this.isFixed=K,this._properties=I,this._additionalPropertiesRef=k,L==="map"?(I!==void 0&&(0,n.assert)(I.size===0),(0,n.assert)(!K)):L==="class"?(0,n.assert)(k===void 0):(0,n.assert)(K)}setProperties(S,O){(0,n.assert)(this._properties===void 0,"Tried to set object properties twice"),this instanceof V&&(0,n.assert)(S.size===0,"Cannot set properties on map type"),this instanceof Z&&(0,n.assert)(O===void 0,"Cannot set additional properties of class type"),this._properties=S,this._additionalPropertiesRef=O}getProperties(){return(0,n.defined)(this._properties)}getSortedProperties(){return(0,t.mapSortByKey)(this.getProperties())}getAdditionalPropertiesRef(){return(0,n.assert)(this._properties!==void 0,"Properties are not set yet"),this._additionalPropertiesRef}getAdditionalProperties(){const S=this.getAdditionalPropertiesRef();if(S!==void 0)return(0,a.derefTypeRef)(S,this.graph)}getNonAttributeChildren(){const S=(0,t.mapSortToArray)(this.getProperties(),(L,K)=>K).map(([L,K])=>K.type),O=this.getAdditionalProperties();return O!==void 0&&S.push(O),new Set(S)}get isNullable(){return!1}isPrimitive(){return!1}get identity(){if(!this.isFixed)return D(this.kind,this.getAttributes(),this.getProperties(),this.getAdditionalPropertiesRef())}reconstitute(S,O){const L=this.getSortedProperties(),K=O?L:this.getProperties(),I=S.lookupMap((0,t.mapMap)(L,x=>x.typeRef)),k=(0,t.definedMap)(this._additionalPropertiesRef,x=>S.lookup(x));if(I!==void 0&&(k!==void 0||this._additionalPropertiesRef===void 0)){const x=(0,t.mapMap)(K,(q,X)=>S.makeClassProperty((0,n.defined)(I.get(X)),q.isOptional));switch(this.kind){case"object":(0,n.assert)(this.isFixed),S.getObjectType(x,k);break;case"map":S.getMapType((0,n.defined)(k));break;case"class":this.isFixed?S.getUniqueClassType(!0,x):S.getClassType(x);break;default:return(0,n.panic)(`Invalid object type kind ${this.kind}`)}}else{switch(this.kind){case"object":(0,n.assert)(this.isFixed),S.getUniqueObjectType(void 0,void 0);break;case"map":S.getUniqueMapType();break;case"class":S.getUniqueClassType(this.isFixed,void 0);break;default:return(0,n.panic)(`Invalid object type kind ${this.kind}`)}const x=(0,t.mapMap)(L,te=>S.reconstitute(te.typeRef)),q=(0,t.mapMap)(K,(te,ne)=>S.makeClassProperty((0,n.defined)(x.get(ne)),te.isOptional)),X=(0,t.definedMap)(this._additionalPropertiesRef,te=>S.reconstitute(te));S.setObjectProperties(q,X)}}structuralEqualityStep(S,O,L){const K=this.getProperties(),I=S.getProperties();if(K.size!==I.size)return!1;let k=!1;for(const[X,te]of K){const ne=I.get(X);if(ne===void 0||te.isOptional!==ne.isOptional||!L(te.type,ne.type))return k=!0,!1}if(k)return!1;const x=this.getAdditionalProperties(),q=S.getAdditionalProperties();return x===void 0!=(q===void 0)?!1:x===void 0||q===void 0?!0:L(x,q)}}e.ObjectType=Q;class Z extends Q{constructor(S,O,L,K){super(S,O,"class",L,K,void 0)}}e.ClassType=Z;class V extends Q{constructor(S,O,L){super(S,O,"map",!1,(0,t.definedMap)(L,()=>new Map),L)}get values(){return(0,n.defined)(this.getAdditionalProperties())}}e.MapType=V;function u(A,S){if(!m(A))return new d("enum",[T(A),S])}e.enumTypeIdentity=u;class o extends b{constructor(S,O,L){super(S,O),this.cases=L,this.kind="enum"}get isNullable(){return!1}isPrimitive(){return!1}get identity(){return u(this.getAttributes(),this.cases)}getNonAttributeChildren(){return new Set}reconstitute(S){S.getEnumType(this.cases)}structuralEqualityStep(S,O,L){return(0,t.areEqual)(this.cases,S.cases)}}e.EnumType=o;function f(A,S,O,L){const K=(0,t.toReadonlySet)(A),I=(0,t.toReadonlySet)(S);return K.size!==I.size?!1:(0,t.iterableEvery)(K,k=>{const x=(0,t.iterableFind)(I,q=>q.kind===k.kind);return!!(x!==void 0&&L(k,x)||O&&(k.kind==="integer"&&(0,t.iterableSome)(I,q=>q.kind==="double")||k.kind==="double"&&(0,t.iterableSome)(I,q=>q.kind==="integer")))})}e.setOperationCasesEqual=f;function v(A,S,O){if(!m(S))return new d(A,[T(S),O])}e.setOperationTypeIdentity=v;function N(A,S){return v("union",A,S)}e.unionTypeIdentity=N;function E(A,S){return v("intersection",A,S)}e.intersectionTypeIdentity=E;class M extends b{constructor(S,O,L,K){super(S,O),this.kind=L,this._memberRefs=K}setMembers(S){if(this._memberRefs!==void 0)return(0,n.panic)("Can only set map members once");this._memberRefs=S}getMemberRefs(){return this._memberRefs===void 0?(0,n.panic)("Map members accessed before they were set"):this._memberRefs}get members(){return(0,t.setMap)(this.getMemberRefs(),S=>(0,a.derefTypeRef)(S,this.graph))}get sortedMembers(){return this.getNonAttributeChildren()}getNonAttributeChildren(){return(0,t.setSortBy)(this.members,S=>S.kind)}isPrimitive(){return!1}get identity(){return v(this.kind,this.getAttributes(),this.getMemberRefs())}reconstituteSetOperation(S,O,L){const K=(0,t.mapMap)(this.sortedMembers.entries(),x=>x.typeRef),I=O?this.sortedMembers:this.members,k=S.lookupMap(K);if(k===void 0){L(void 0);const x=S.reconstituteMap(K);S.setSetOperationMembers((0,t.setMap)(I,q=>(0,n.defined)(x.get(q))))}else L((0,t.setMap)(I,x=>(0,n.defined)(k.get(x))))}structuralEqualityStep(S,O,L){return f(this.members,S.members,O,L)}}e.SetOperationType=M;class h extends M{constructor(S,O,L){super(S,O,"intersection",L)}get isNullable(){return(0,n.panic)("isNullable not implemented for IntersectionType")}reconstitute(S,O){this.reconstituteSetOperation(S,O,L=>{L===void 0?S.getUniqueIntersectionType():S.getIntersectionType(L)})}}e.IntersectionType=h;class _ extends M{constructor(S,O,L){super(S,O,"union",L),L!==void 0&&(0,i.messageAssert)(L.size>0,"IRNoEmptyUnions",{})}setMembers(S){(0,i.messageAssert)(S.size>0,"IRNoEmptyUnions",{}),super.setMembers(S)}get stringTypeMembers(){return(0,t.setFilter)(this.members,S=>c(S.kind)||S.kind==="enum")}findMember(S){return(0,t.iterableFind)(this.members,O=>O.kind===S)}get isNullable(){return this.findMember("null")!==void 0}get isCanonical(){const S=this.members;if(S.size<=1)return!1;const O=(0,t.setMap)(S,K=>K.kind);if(O.size<S.size||O.has("union")||O.has("intersection")||O.has("none")||O.has("any")||O.has("string")&&O.has("enum"))return!1;let L=0;return O.has("class")&&(L+=1),O.has("map")&&(L+=1),O.has("object")&&(L+=1),!(L>1)}reconstitute(S,O){this.reconstituteSetOperation(S,O,L=>{L===void 0?S.getUniqueUnionType():S.getUnionType(L)})}}e.UnionType=_}(Ii)),Ii}var Ee={},Ae={};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.assignNames=Ae.keywordNamespace=Ae.DependencyName=Ae.AssociatedName=Ae.SimpleName=Ae.FixedName=Ae.Name=Ae.funPrefixNamer=Ae.Namer=Ae.Namespace=void 0;const Me=Le,lt=ie;class vl{constructor(t,n,r,i){this._children=new Set,this._members=new Set,this.forbiddenNamespaces=new Set(r),this.additionalForbidden=new Set(i),n!==void 0&&n.addChild(this)}addChild(t){this._children.add(t)}get children(){return this._children}get members(){return this._members}get forbiddenNameds(){return(0,Me.setUnion)(this.additionalForbidden,...Array.from(this.forbiddenNamespaces).map(t=>t.members))}add(t){return this._members.add(t),t}}Ae.Namespace=vl;class _l{constructor(t,n,r){this.name=t,this.nameStyle=n,this._prefixes=new Set(r)}assignNames(t,n,r){const i=new Set(n),a=Array.from(r);(0,lt.assert)(a.length>0,"Number of names can't be less than 1");const s=new Map;let l=[];for(const g of a){const y=g.proposeUnstyledNames(t),w=g.namingFunction,d=(0,Me.iterableFind)(y,b=>!i.has(w.nameStyle(b))&&a.every(m=>m===g||!m.proposeUnstyledNames(t).has(b)));if(d!==void 0){const b=w.nameStyle(d),m=g.nameAssignments(i,b);if(m!==null){(0,Me.mapMergeInto)(s,m),(0,Me.setUnionInto)(i,m.values());continue}}l.push(g)}let c=this._prefixes.values(),p=1;for(const g of l){const y=(0,lt.defined)((0,Me.iterableFirst)(g.proposeUnstyledNames(t)));for(;;){let w;const{done:d,value:b}=c.next();d?(w=`${y}_${p.toString()}`,p++):w=`${b}_${y}`;const m=g.namingFunction.nameStyle(w),T=g.nameAssignments(i,m);if(T!==null){(0,Me.mapMergeInto)(s,T),(0,Me.setUnionInto)(i,T.values());break}}}return s}}Ae.Namer=_l;const pp=["Purple","Fluffy","Tentacled","Sticky","Indigo","Indecent","Hilarious","Ambitious","Cunning","Magenta","Frisky","Mischievous","Braggadocious"];function mp(e,t){return new _l(e,t,pp)}Ae.funPrefixNamer=mp;class _r{constructor(t,n){this._namingFunction=t,this.order=n,this._associates=new Set}addAssociate(t){this._associates.add(t)}isFixed(){return this instanceof Ys}get namingFunction(){return(0,lt.defined)(this._namingFunction)}firstProposedName(t){return(0,lt.defined)((0,Me.iterableFirst)(this.proposeUnstyledNames(t)))}nameAssignments(t,n){if(t.has(n))return null;const r=new Map([[this,n]]);for(const i of this._associates){const a=i.getName(n);if(t.has(a))return null;r.set(i,a)}return r}}Ae.Name=_r;class Ys extends _r{constructor(t){super(void 0,0),this._fixedName=t}get dependencies(){return[]}addAssociate(t){return(0,lt.panic)("Cannot add associates to fixed names")}get fixedName(){return this._fixedName}proposeUnstyledNames(t){return(0,lt.panic)("Only fixedName should be called on FixedName.")}}Ae.FixedName=Ys;class gp extends _r{constructor(t,n,r){super(n,r),this._unstyledNames=new Set(t)}get dependencies(){return[]}proposeUnstyledNames(t){return this._unstyledNames}}Ae.SimpleName=gp;class yp extends _r{constructor(t,n,r){super(void 0,n),this._sponsor=t,this.getName=r}get dependencies(){return[this._sponsor]}proposeUnstyledNames(t){return(0,lt.panic)("AssociatedName must be assigned via its sponsor")}}Ae.AssociatedName=yp;class bp extends _r{constructor(t,n,r){super(t,n),this._proposeUnstyledName=r;const i=[];r(a=>(i.push(a),"0xDEADBEEF")),this._dependencies=new Set(i)}get dependencies(){return Array.from(this._dependencies)}proposeUnstyledNames(t){return new Set([this._proposeUnstyledName(n=>((0,lt.assert)(this._dependencies.has(n),"DependencyName proposer is not pure"),(0,lt.defined)(t.get(n))))])}}Ae.DependencyName=bp;function Tp(e,t){const n=new vl(e,void 0,[],[]);for(const r of t)n.add(new Ys(r));return n}Ae.keywordNamespace=Tp;function wl(e){return(0,Me.setUnion)(e,...Array.from((0,Me.setMap)(e,t=>wl(t.children))))}class vp{constructor(t){this._names=new Map,this._namedsForName=new Map,this.isReadyToBeNamed=n=>this._names.has(n)?!1:n.dependencies.every(r=>this._names.has(r)),this.isConflicting=(n,r)=>{const i=this._namedsForName.get(r);if(i===void 0)return!1;for(const a of i)if(n.members.has(a)||n.forbiddenNameds.has(a))return!0;return!1},this.assign=(n,r,i)=>{(0,lt.assert)(!this.names.has(n),`Name "${i}" assigned twice`),(0,lt.assert)(!this.isConflicting(r,i),`Assigned name "${i}" conflicts`),this._names.set(n,i);let a=this._namedsForName.get(i);a===void 0&&(a=new Set,this._namedsForName.set(i,a)),a.add(n)},this.namespaces=wl(t)}get names(){return this._names}areForbiddensFullyNamed(t){return(0,Me.iterableEvery)(t.forbiddenNameds,n=>this._names.has(n))}}function _p(e){const t=new vp(e);for(const n of t.namespaces)for(const r of n.members)r.isFixed()&&t.assign(r,n,r.fixedName);for(;;){const n=(0,Me.setFilter)(t.namespaces,s=>t.areForbiddensFullyNamed(s)),r=(0,Me.iterableFind)(n,s=>(0,Me.iterableSome)(s.members,t.isReadyToBeNamed));if(r===void 0)return t.names;const i=(0,Me.setUnion)(r.members,r.forbiddenNameds);let a=(0,Me.setFilterMap)(i,s=>t.names.get(s));for(;;){const s=(0,Me.setFilter)(r.members,t.isReadyToBeNamed),l=(0,Me.iterableMinBy)(s,y=>y.order);if(l===void 0)break;const c=l.order,p=(0,Me.setFilter)(s,y=>y.order===c),g=(0,Me.setGroupBy)(p,y=>y.namingFunction);for(const[y,w]of g){const d=(0,Me.setGroupBy)(w,b=>b.namingFunction.nameStyle(b.firstProposedName(t.names)));for(const[,b]of d){const m=y.assignNames(t.names,a,b);for(const[T,C]of m)t.assign(T,r,C);(0,Me.setUnionInto)(a,m.values())}}}}}Ae.assignNames=_p;Object.defineProperty(Ee,"__esModule",{value:!0});Ee.parenIfNeeded=Ee.multiWord=Ee.singleWord=Ee.serializeRenderResult=Ee.modifySource=Ee.maybeAnnotated=Ee.annotated=Ee.sourcelikeToSource=Ee.newline=void 0;const Tn=Le,wp=Ae,We=ie,To=br();function Sl(){return{kind:"newline",indentationChange:0}}Ee.newline=Sl;function _i(e){if(e instanceof Array)return{kind:"sequence",sequence:e.map(_i)};if(typeof e=="string"){const t=e.split(`
`);return t.length===1?{kind:"text",text:e}:{kind:"sequence",sequence:(0,Tn.arrayIntercalate)(Sl(),t.map(n=>({kind:"text",text:n})))}}return e instanceof wp.Name?{kind:"name",named:e}:e}Ee.sourcelikeToSource=_i;function kl(e,t){return{kind:"annotated",annotation:e,source:_i(t)}}Ee.annotated=kl;function Sp(e,t,n){return e?kl(t,n):n}Ee.maybeAnnotated=Sp;function kp(e,t){return{kind:"modified",modifier:e,source:_i(t)}}Ee.modifySource=kp;function vs(e,t){switch(e.kind){case"text":return e.text.length;case"newline":return(0,We.panic)("Newline must not occur within a line.");case"sequence":return e.sequence.map(n=>vs(n,t)).reduce((n,r)=>n+r,0);case"table":return(0,We.panic)("Table must not occur within a  line.");case"annotated":return vs(e.source,t);case"name":return(0,We.defined)(t.get(e.named)).length;case"modified":return ea(e,t,"").lines.join(`
`).length;default:return(0,We.assertNever)(e)}}function ea(e,t,n){let r=0,i=0;const a=[];let s=[];const l=[];function c(){i!==0&&(s.push((0,To.repeatString)(n,i)),i=0)}function p(){const d=s.join("");return s=[d],d}function g(){return{line:a.length,column:p().length}}function y(){a.push(p()),s=[]}function w(d){switch(d.kind){case"text":c(),s.push(d.text);break;case"newline":y(),r+=d.indentationChange,i=r;break;case"sequence":for(const F of d.sequence)w(F);break;case"table":const b=d.table,m=b.length;if(m===0)break;const T=b.map(F=>F.map(D=>vs(D,t))),C=(0,We.defined)((0,Tn.iterableMax)(b.map(F=>F.length)));if(C===0)break;const P=[];for(let F=0;F<C;F++)P.push((0,We.defined)((0,Tn.iterableMax)(T.map(D=>(0,Tn.withDefault)(D[F],0)))));for(let F=0;F<m;F++){c();const D=(0,We.defined)(b[F]),R=(0,We.defined)(T[F]);for(let G=0;G<C;G++){const Q=P[G],Z=(0,Tn.withDefault)(D[G],{kind:"text",text:""}),V=(0,Tn.withDefault)(R[G],0);w(Z),G<C-1&&V<Q&&s.push((0,To.repeatString)(" ",Q-V))}F<m-1&&(y(),i=r)}break;case"annotated":const z=g();w(d.source);const U=g();l.push({annotation:d.annotation,span:{start:z,end:U}});break;case"name":(0,We.assert)(t.has(d.named),"No name for Named"),c(),s.push((0,We.defined)(t.get(d.named)));break;case"modified":c();const B=ea(d.source,t,n).lines;(0,We.assert)(B.length===1,"Cannot modify more than one line."),s.push(d.modifier(B[0]));break;default:return(0,We.assertNever)(d)}}return w(e),y(),{lines:a,annotations:l}}Ee.serializeRenderResult=ea;function Al(...e){return{source:e,needsParens:!1}}Ee.singleWord=Al;function Ap(e,...t){if((0,We.assert)(t.length>0,"Zero words is not multiple"),t.length===1)return Al(t[0]);const n=[];for(let r=0;r<t.length;r++)r>0&&n.push(e),n.push(t[r]);return{source:n,needsParens:!0}}Ee.multiWord=Ap;function Cp({source:e,needsParens:t}){return t?["(",e,")"]:e}Ee.parenIfNeeded=Cp;var Cl={},wi={},ot={};Object.defineProperty(ot,"__esModule",{value:!0});ot.nullTypeIssueAnnotation=ot.anyTypeIssueAnnotation=ot.IssueAnnotationData=ot.AnnotationData=void 0;class Nl{}ot.AnnotationData=Nl;class ta extends Nl{constructor(t){super(),this.message=t}}ot.IssueAnnotationData=ta;ot.anyTypeIssueAnnotation=new ta("quicktype cannot infer this type because there is no data about it in the input.");ot.nullTypeIssueAnnotation=new ta("The only value for this in the input is null, which means you probably need a more complete input sample.");Object.defineProperty(wi,"__esModule",{value:!0});wi.Renderer=void 0;const Np=Le,Ip=Ae,qn=Ee,Op=ot,jr=ie;function Lp(e){return Array.isArray(e)?{position:e[0],count:e[1]}:{position:e,count:1}}function Ep(e){const t=e.length;let n=0;for(let r=0;r<t;r++){const i=e.charAt(r);if(i===" ")n+=1;else if(i==="	")n=(n/4+1)*4;else return{indent:n,text:e.substring(r)}}return{indent:0,text:null}}class rs{constructor(){this._currentEmitTarget=this._emitted=[],this._numBlankLinesNeeded=0,this._preventBlankLine=!0}get isEmpty(){return this._emitted.length===0}get isNested(){return this._emitted!==this._currentEmitTarget}get source(){return this._emitted}pushItem(t){this._currentEmitTarget.push(t),this._preventBlankLine=!1}emitNewline(){const t=(0,qn.newline)();this.pushItem(t),this._lastNewline=t}emitItem(t){if(!this.isEmpty)for(let n=0;n<this._numBlankLinesNeeded;n++)this.emitNewline();this._numBlankLinesNeeded=0,this.pushItem(t)}containsItem(t){return this._currentEmitTarget.find(r=>t===r)!==void 0}ensureBlankLine(t){this._preventBlankLine||(this._numBlankLinesNeeded=Math.max(this._numBlankLinesNeeded,t))}preventBlankLine(){this._numBlankLinesNeeded=0,this._preventBlankLine=!0}changeIndent(t){if(this._lastNewline===void 0)return(0,jr.panic)("Cannot change indent for the first line");this._lastNewline.indentationChange+=t}}class Mp{constructor(t,n){this.targetLanguage=t,this.emitTable=r=>{if(r.length===0)return;const i=r.map(a=>a.map(s=>(0,qn.sourcelikeToSource)(s)));this._emitContext.emitItem({kind:"table",table:i}),this._emitContext.emitNewline()},this.typeGraph=n.typeGraph,this.leadingComments=n.leadingComments,this._finishedFiles=new Map,this._finishedEmitContexts=new Map,this._emitContext=new rs}ensureBlankLine(t=1){this._emitContext.ensureBlankLine(t)}preventBlankLine(){this._emitContext.preventBlankLine()}emitItem(t){this._emitContext.emitItem(t)}emitItemOnce(t){return this._emitContext.containsItem(t)?!1:(this.emitItem(t),!0)}emitLineOnce(...t){let n=!0;t.length===1?n=this.emitItemOnce(t[0]):t.length>1&&(n=this.emitItemOnce(t)),n&&this._emitContext.emitNewline()}emitLine(...t){t.length===1?this._emitContext.emitItem(t[0]):t.length>1&&this._emitContext.emitItem(t),this._emitContext.emitNewline()}emitMultiline(t){const n=t.split(`
`),r=n.length;if(r===0)return;this.emitLine(n[0]);let i=0;for(let a=1;a<r;a++){const s=n[a],{indent:l,text:c}=Ep(s);if((0,jr.assert)(l%4===0,"Indentation is not a multiple of 4."),c!==null){const p=l/4;this.changeIndent(p-i),i=p,this.emitLine(c)}else this._emitContext.emitNewline()}i!==0&&this.changeIndent(-i)}gatherSource(t){const n=this._emitContext;this._emitContext=new rs,t(),(0,jr.assert)(!this._emitContext.isNested,"emit context not restored correctly");const r=this._emitContext.source;return this._emitContext=n,r}emitGatheredSource(t){for(const n of t)this._emitContext.emitItem(n)}emitAnnotated(t,n){const r=this.gatherSource(n),i=(0,qn.sourcelikeToSource)(r);this._emitContext.emitItem((0,qn.annotated)(t,i))}emitIssue(t,n){this.emitAnnotated(new Op.IssueAnnotationData(t),n)}changeIndent(t){this._emitContext.changeIndent(t)}iterableForEach(t,n){const r=Array.from(t);let i=!0;for(const[a,s]of(0,Np.iterableEnumerate)(r)){const l=r.length===1?"only":i?"first":a===r.length-1?"last":"middle";n(s,l),i=!1}}forEach(t,n,r,i){let a=!1;return this.iterableForEach(t,([s,l],c)=>{c==="only"||c==="first"?this.ensureBlankLine(r):this.ensureBlankLine(n),i(l,s,c),a=!0}),a}forEachWithBlankLines(t,n,r){const{position:i,count:a}=Lp(n),s=["interposing","leading-and-interposing"].indexOf(i)>=0,l=["leading","leading-and-interposing"].indexOf(i)>=0;return this.forEach(t,s?a:0,l?a:0,r)}indent(t){this.changeIndent(1),t(),this.changeIndent(-1)}assignNames(){return(0,Ip.assignNames)(this.setUpNaming())}initializeEmitContextForFilename(t){if(this._finishedEmitContexts.has(t.toLowerCase())){const n=this._finishedEmitContexts.get(t.toLowerCase());n!==void 0&&(this._emitContext=n)}}finishFile(t){this._finishedFiles.has(t)&&console.log(`[WARNING] Tried to emit file ${t} more than once. If performing multi-file output this warning can be safely ignored.`);const n=(0,qn.sourcelikeToSource)(this._emitContext.source);this._finishedFiles.set(t,n),this._finishedEmitContexts.set(t.toLowerCase(),this._emitContext),this._emitContext=new rs}render(t){return this._names=this.assignNames(),this.emitSource(t),this._emitContext.isEmpty||this.finishFile(t),{sources:this._finishedFiles,names:this._names}}get names(){return this._names===void 0?(0,jr.panic)("Names accessed before they were assigned"):this._names}}wi.Renderer=Mp;var qt={};Object.defineProperty(qt,"__esModule",{value:!0});qt.declarationsForGraph=qt.cycleBreakerTypesForGraph=qt.DeclarationIR=void 0;const Vt=Le,Qr=ie,Rp=Tr,Pp=ze;class Il{constructor(t,n){this.forwardedTypes=n,this.declarations=Array.from(t)}}qt.DeclarationIR=Il;function Fp(e,t,n){const r=t.indexOf(e);if(r<0)return;if(n===void 0)return t[r];const a=t.slice(0,r+1).reverse().find(n);return a===void 0?(0,Qr.panic)("Found a cycle that cannot be broken"):a}function Dp(e,t,n){const r=new Set,i=new Set,a=Array.from(e.topLevels.values());function s(l,c){if(!r.has(l)){if(t(l))for(const p of l.getChildren())a.push(p);else{const p=Fp(l,c,n);if(p!==void 0){i.add(p);return}for(const g of l.getChildren())c.unshift(l),s(g,c),c.shift()}r.add(l)}}for(;;){const l=a.pop();if(l===void 0)break;const c=[];s(l,c),(0,Qr.assert)(c.length===0)}return i}qt.cycleBreakerTypesForGraph=Dp;function Bp(e,t,n,r){const i=t===void 0,a=[],s=new Set,l=new Set;function c(g,y){const w=g.stronglyConnectedComponents();function d(T){if(l.has(T))return;l.add(T);const C=(0,Vt.setFilter)(T,r);if(C.size===1){a.push({kind:"define",type:(0,Qr.defined)((0,Vt.iterableFirst)(C))});return}if(C.size===0&&T.size===1)return;if(C.size===0){a.push({kind:"define",type:(0,Qr.defined)((0,Vt.iterableFirst)(T))});return}if(t===void 0){for(const B of C)a.push({kind:"define",type:B});return}const P=(0,Vt.setFilter)(T,t);if(P.size===0)return(0,Pp.messageError)("IRNoForwardDeclarableTypeInCycle",{});for(const B of P)a.push({kind:"forward",type:B});(0,Vt.setUnionInto)(s,P);const z=(0,Vt.setSubtract)(T,P),U=new Rp.Graph(z,!0,B=>(0,Vt.setIntersect)(n(B),z));c(U);for(const B of P)a.push({kind:"define",type:B})}const m=w.findRoots();for(const T of m)w.dfsTraversal(T,i,d)}const p=e.makeGraph(!1,n);return c(p),new Il(a,s)}qt.declarationsForGraph=Bp;var is={},ss={},Si={},Up=be&&be.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function l(g){try{p(r.next(g))}catch(y){s(y)}}function c(g){try{p(r.throw(g))}catch(y){s(y)}}function p(g){g.done?a(g.value):i(g.value).then(l,c)}p((r=r.apply(e,t||[])).next())})};Object.defineProperty(Si,"__esModule",{value:!0});Si.JSONSchemaStore=void 0;const xp=ie;class zp{constructor(){this._schemas=new Map}add(t,n){(0,xp.assert)(!this._schemas.has(t),"Cannot set a schema for an address twice"),this._schemas.set(t,n)}get(t,n){return Up(this,void 0,void 0,function*(){let r=this._schemas.get(t);if(r!==void 0)return r;n&&console.log(`trying to fetch ${t}`);try{r=yield this.fetch(t)}catch{}if(r===void 0){n&&console.log(`couldn't fetch ${t}`);return}return n&&console.log(`successully fetched ${t}`),this.add(t,r),r})}}Si.JSONSchemaStore=zp;var ki={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.accessorNamesAttributeProducer=e.makeAccessorNames=e.unionMemberName=e.makeUnionMemberNamesAttribute=e.unionMemberNamesTypeAttributeKind=e.makeUnionIdentifierAttribute=e.unionIdentifierTypeAttributeKind=e.getAccessorName=e.enumCaseNames=e.objectPropertyNames=e.lookupKey=e.accessorNamesTypeAttributeKind=void 0;const t=Le,n=Ce,r=ie,i=ze;class a extends n.TypeAttributeKind{constructor(){super("accessorNames")}makeInferred(F){}}e.accessorNamesTypeAttributeKind=new a;function s(B,F){if(typeof B=="string")return[B,!1];const D=B.get(F);if(D!==void 0)return[D,!0];const R=B.get("*");if(R!==void 0)return[R,!1]}function l(B,F,D){const R=B.get(F);if(R!==void 0)return s(R,D)}e.lookupKey=l;function c(B,F){const D=e.accessorNamesTypeAttributeKind.tryGetInAttributes(B.getAttributes()),R=B.getProperties();return D===void 0?(0,t.mapMap)(R,G=>{}):(0,t.mapMap)(R,(G,Q)=>l(D,Q,F))}e.objectPropertyNames=c;function p(B,F){const D=e.accessorNamesTypeAttributeKind.tryGetInAttributes(B.getAttributes());return D===void 0?(0,t.mapMap)(B.cases.entries(),R=>{}):(0,t.mapMap)(B.cases.entries(),R=>l(D,R,F))}e.enumCaseNames=p;function g(B,F){const D=B.get(F);return D===void 0?[void 0,!1]:D}e.getAccessorName=g;class y extends n.TypeAttributeKind{constructor(){super("unionIdentifier")}combine(F){return(0,t.setUnionManyInto)(new Set,F)}makeInferred(F){return new Set}}e.unionIdentifierTypeAttributeKind=new y;let w=0;function d(){const B=e.unionIdentifierTypeAttributeKind.makeAttributes(new Set([w]));return w+=1,B}e.makeUnionIdentifierAttribute=d;class b extends n.TypeAttributeKind{constructor(){super("unionMemberNames")}combine(F){const D=new Map;for(const R of F)(0,t.mapMergeInto)(D,R);return D}}e.unionMemberNamesTypeAttributeKind=new b;function m(B,F){const D=(0,r.defined)(e.unionIdentifierTypeAttributeKind.tryGetInAttributes(B)),R=(0,t.mapFromIterable)(D,G=>F);return e.unionMemberNamesTypeAttributeKind.makeAttributes(R)}e.makeUnionMemberNamesAttribute=m;function T(B,F,D){const R=e.unionIdentifierTypeAttributeKind.tryGetInAttributes(B.getAttributes());if(R===void 0)return[void 0,!1];const G=e.unionMemberNamesTypeAttributeKind.tryGetInAttributes(F.getAttributes());if(G===void 0)return[void 0,!1];const Q=new Set,Z=new Set;for(const f of R){const v=G.get(f);if(v===void 0)continue;const N=s(v,D);if(N===void 0)continue;const[E,M]=N;M?Z.add(E):Q.add(E)}let V,u,o=(0,t.iterableFirst)(Z);if(o!==void 0)V=Z.size,u=!0;else{if(o=(0,t.iterableFirst)(Q),o===void 0)return[void 0,!1];V=Q.size,u=!1}return(0,i.messageAssert)(V===1,"SchemaMoreThanOneUnionMemberName",{names:Array.from(Q)}),[o,u]}e.unionMemberName=T;function C(B){return typeof B=="string"?!0:(0,r.isStringMap)(B,F=>typeof F=="string")}function P(B){return typeof B=="string"?B:(0,t.mapFromObject)(B)}function z(B){const F=(0,r.checkStringMap)(B,C);return(0,t.mapMap)((0,t.mapFromObject)(F),P)}e.makeAccessorNames=z;function U(B,F,D,R){if(typeof B!="object")return;const G=B["qt-accessors"];if(G!==void 0){if(R===void 0)return{forType:e.accessorNamesTypeAttributeKind.makeAttributes(z(G))};{const Q=d(),Z=(0,r.checkArray)(G,C);(0,i.messageAssert)(R.length===Z.length,"SchemaWrongAccessorEntryArrayLength",{operation:"oneOf",ref:F.push("oneOf")});const V=Z.map(u=>m(Q,P(u)));return{forUnion:Q,forCases:V}}}}e.accessorNamesAttributeProducer=U})(ki);var Ol={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.enumValuesAttributeProducer=e.enumCaseValues=e.enumValuesTypeAttributeKind=void 0;const t=Le,n=ki,r=Ce;class i extends r.TypeAttributeKind{constructor(){super("enumValues")}makeInferred(c){}}e.enumValuesTypeAttributeKind=new i;function a(l,c){const p=e.enumValuesTypeAttributeKind.tryGetInAttributes(l.getAttributes());return p===void 0?(0,t.mapMap)(l.cases.entries(),g=>{}):(0,t.mapMap)(l.cases.entries(),g=>(0,n.lookupKey)(p,g,c))}e.enumCaseValues=a;function s(l,c,p){if(typeof l!="object")return;const g=l["qt-enum-values"];if(g!==void 0)return{forType:e.enumValuesTypeAttributeKind.makeAttributes((0,n.makeAccessorNames)(g))}}e.enumValuesAttributeProducer=s})(Ol);var Zn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.patternForType=e.patternAttributeProducer=e.patternTypeAttributeKind=e.PatternTypeAttributeKind=e.minMaxLengthForType=e.minMaxValueForType=e.minMaxLengthAttributeProducer=e.minMaxAttributeProducer=e.minMaxLengthTypeAttributeKind=e.minMaxTypeAttributeKind=e.MinMaxConstraintTypeAttributeKind=void 0;const t=Ce,n=ie,r=ze;function i(b){const[m,T]=b;if(typeof m=="number"&&typeof T=="number"&&m>T)return(0,r.messageError)("MiscInvalidMinMaxConstraint",{min:m,max:T});if(!(m===void 0&&T===void 0))return b}class a extends t.TypeAttributeKind{constructor(m,T,C,P){super(m),this._typeKinds=T,this._minSchemaProperty=C,this._maxSchemaProperty=P}get inIdentity(){return!0}combine(m){(0,n.assert)(m.length>0);let[T,C]=m[0];for(let P=1;P<m.length;P++){const[z,U]=m[P];typeof T=="number"&&typeof z=="number"?T=Math.min(T,z):T=void 0,typeof C=="number"&&typeof U=="number"?C=Math.max(C,U):C=void 0}return i([T,C])}intersect(m){(0,n.assert)(m.length>0);let[T,C]=m[0];for(let P=1;P<m.length;P++){const[z,U]=m[P];typeof T=="number"&&typeof z=="number"?T=Math.max(T,z):T===void 0&&(T=z),typeof C=="number"&&typeof U=="number"?C=Math.min(C,U):C===void 0&&(C=U)}return i([T,C])}makeInferred(m){}addToSchema(m,T,C){if(this._typeKinds.has(T.kind))return;const[P,z]=C;P!==void 0&&(m[this._minSchemaProperty]=P),z!==void 0&&(m[this._maxSchemaProperty]=z)}stringify([m,T]){return`${m}-${T}`}}e.MinMaxConstraintTypeAttributeKind=a,e.minMaxTypeAttributeKind=new a("minMax",new Set(["integer","double"]),"minimum","maximum"),e.minMaxLengthTypeAttributeKind=new a("minMaxLength",new Set(["string"]),"minLength","maxLength");function s(b,m,T){if(typeof b!="object")return;let C,P;if(typeof b[m]=="number"&&(C=b[m]),typeof b[T]=="number"&&(P=b[T]),!(C===void 0&&P===void 0))return[C,P]}function l(b,m,T){if(!T.has("number")&&!T.has("integer"))return;const C=s(b,"minimum","maximum");if(C!==void 0)return{forNumber:e.minMaxTypeAttributeKind.makeAttributes(C)}}e.minMaxAttributeProducer=l;function c(b,m,T){if(!T.has("string"))return;const C=s(b,"minLength","maxLength");if(C!==void 0)return{forString:e.minMaxLengthTypeAttributeKind.makeAttributes(C)}}e.minMaxLengthAttributeProducer=c;function p(b){return e.minMaxTypeAttributeKind.tryGetInAttributes(b.getAttributes())}e.minMaxValueForType=p;function g(b){return e.minMaxLengthTypeAttributeKind.tryGetInAttributes(b.getAttributes())}e.minMaxLengthForType=g;class y extends t.TypeAttributeKind{constructor(){super("pattern")}get inIdentity(){return!0}combine(m){return(0,n.assert)(m.length>0),m.map(T=>`(${T})`).join("|")}intersect(m){}makeInferred(m){}addToSchema(m,T,C){T.kind==="string"&&(m.pattern=C)}}e.PatternTypeAttributeKind=y,e.patternTypeAttributeKind=new y;function w(b,m,T){if(typeof b!="object"||!T.has("string"))return;const C=b.pattern;if(typeof C=="string")return{forString:e.patternTypeAttributeKind.makeAttributes(C)}}e.patternAttributeProducer=w;function d(b){return e.patternTypeAttributeKind.tryGetInAttributes(b.getAttributes())}e.patternForType=d})(Zn);var vo;function $p(){return vo||(vo=1,function(e){var t=be&&be.__awaiter||function(I,k,x,q){function X(te){return te instanceof x?te:new x(function(ne){ne(te)})}return new(x||(x=Promise))(function(te,ne){function ue(ee){try{J(q.next(ee))}catch(re){ne(re)}}function H(ee){try{J(q.throw(ee))}catch(re){ne(re)}}function J(ee){ee.done?te(ee.value):X(ee.value).then(ue,H)}J((q=q.apply(I,k||[])).next())})},n=be&&be.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(e,"__esModule",{value:!0}),e.JSONSchemaInput=e.schemaTypeDict=e.Ref=e.PathElementKind=void 0;const r=n(Tl),i=Le,a=dn(),s=ie,l=ar,c=ar,p=Ce,g=Si,y=ze,w=Qs(),d=Ll(),b=ki,m=Ol,T=Zn,C=Zn,P=Zn,z=Xs;var U;(function(I){I[I.Root=0]="Root",I[I.KeyOrIndex=1]="KeyOrIndex",I[I.Type=2]="Type",I[I.Object=3]="Object"})(U=e.PathElementKind||(e.PathElementKind={}));function B(I){if(I.kind===U.KeyOrIndex)return I.key}function F(I,k){if(I.kind!==k.kind)return!1;switch(I.kind){case U.Type:return I.index===k.index;case U.KeyOrIndex:return I.key===k.key;default:return!0}}function D(I,k){const x=typeof I=="function"?I():I instanceof V?I:I.canonicalRef;return Object.assign({ref:x},k===void 0?{}:k)}function R(I,k){return Array.isArray(I)?(0,y.messageError)("SchemaArrayIsInvalidSchema",D(k)):I===null?(0,y.messageError)("SchemaNullIsInvalidSchema",D(k)):typeof I!="object"?(0,y.messageError)("SchemaInvalidJSONSchemaType",D(k,{type:typeof I})):I}function G(I,k){return typeof I=="boolean"?I:R(I,k)}const Q=new RegExp("^[0-9]+$");function Z(I){return typeof I=="string"&&(I=new r.default(I)),new r.default(r.default.decode(I.clone().normalize().toString()))}class V{static root(k){const x=(0,i.definedMap)(k,q=>new r.default(q));return new V(x,[])}static parsePath(k){const x=[];if(k.startsWith("/")&&(x.push({kind:U.Root}),k=k.slice(1)),k!==""){const q=k.split("/");for(let X=0;X<q.length;X++)x.push({kind:U.KeyOrIndex,key:q[X]})}return x}static parseURI(k,x=!1){x||(k=k.clone());let q=k.fragment();k.fragment(""),(k.host()!==""||k.filename()!=="")&&q===""&&(q="/");const X=V.parsePath(q);return new V(k,X)}static parse(k){return V.parseURI(new r.default(k),!0)}constructor(k,x){this.path=x,k!==void 0?((0,s.assert)(k.fragment()==="",`Ref URI with fragment is not allowed: ${k.toString()}`),this.addressURI=Z(k)):this.addressURI=void 0}get hasAddress(){return this.addressURI!==void 0}get address(){return(0,s.defined)(this.addressURI).toString()}get isRoot(){return this.path.length===1&&this.path[0].kind===U.Root}pushElement(k){const x=Array.from(this.path);return x.push(k),new V(this.addressURI,x)}push(...k){let x=this;for(const q of k)x=x.pushElement({kind:U.KeyOrIndex,key:q});return x}pushObject(){return this.pushElement({kind:U.Object})}pushType(k){return this.pushElement({kind:U.Type,index:k})}resolveAgainst(k){let x=this.addressURI;return k!==void 0&&k.addressURI!==void 0&&(x=x===void 0?k.addressURI:x.absoluteTo(k.addressURI)),new V(x,this.path)}get name(){const k=Array.from(this.path);for(;;){const x=k.pop();if(x===void 0||x.kind===U.Root){let q=this.addressURI!==void 0?this.addressURI.filename():"";const X=this.addressURI!==void 0?this.addressURI.suffix():"";return q.length>X.length+1&&(q=q.slice(0,q.length-X.length-1)),q===""?"Something":q}switch(x.kind){case U.KeyOrIndex:if(Q.test(x.key))return x.key;break;case U.Type:case U.Object:return(0,s.panic)("We shouldn't try to get the name of Type or Object refs");default:return(0,s.assertNever)(x)}}}get definitionName(){const k=(0,i.arrayGetFromEnd)(this.path,2);if(k!==void 0&&B(k)==="definitions")return B((0,s.defined)((0,i.arrayLast)(this.path)))}toString(){function k(q){switch(q.kind){case U.Root:return"";case U.Type:return`type/${q.index.toString()}`;case U.Object:return"object";case U.KeyOrIndex:return q.key;default:return(0,s.assertNever)(q)}}return(this.addressURI===void 0?"":this.addressURI.toString())+"#"+this.path.map(k).join("/")}lookup(k,x,q){const X=()=>new V(this.addressURI,x),te=x[0];if(te===void 0)return G(k,X);const ne=x.slice(1);switch(te.kind){case U.Root:return this.lookup(q,ne,q);case U.KeyOrIndex:const ue=te.key;if(Array.isArray(k)){if(!/^\d+$/.test(ue))return(0,y.messageError)("SchemaCannotIndexArrayWithNonNumber",D(X,{actual:ue}));const H=parseInt(te.key,10);return H>=k.length?(0,y.messageError)("SchemaIndexNotInArray",D(X,{index:H})):this.lookup(k[H],ne,q)}else return(0,i.hasOwnProperty)(k,ue)?this.lookup(R(k,X)[te.key],ne,q):(0,y.messageError)("SchemaKeyNotInObject",D(X,{key:ue}));case U.Type:return(0,s.panic)('Cannot look up path that indexes "type"');case U.Object:return(0,s.panic)('Cannot look up path that indexes "object"');default:return(0,s.assertNever)(te)}}lookupRef(k){return this.lookup(k,this.path,k)}equals(k){if(!(k instanceof V))return!1;if(this.addressURI!==void 0&&k.addressURI!==void 0){if(!this.addressURI.equals(k.addressURI))return!1}else if(this.addressURI===void 0!=(k.addressURI===void 0))return!1;const x=this.path.length;if(x!==k.path.length)return!1;for(let q=0;q<x;q++)if(!F(this.path[q],k.path[q]))return!1;return!0}hashCode(){let k=(0,i.hashCodeOf)((0,i.definedMap)(this.addressURI,x=>x.toString()));for(const x of this.path)switch(k=(0,i.addHashCode)(k,x.kind),x.kind){case U.Type:k=(0,i.addHashCode)(k,x.index);break;case U.KeyOrIndex:k=(0,i.addHashCode)(k,(0,i.hashString)(x.key));break}return k}}e.Ref=V;class u{constructor(k,x,q=!1){this.haveID=q,this.canonicalRef=k,this.virtualRef=x!==void 0?x:k}updateWithID(k){if(typeof k!="string")return this;const x=V.parse(k),q=this.haveID?x.resolveAgainst(this.virtualRef):x;return this.haveID||(0,y.messageAssert)(q.hasAddress,"SchemaIDMustHaveAddress",D(this,{id:k})),new u(this.canonicalRef,q,!0)}push(...k){return new u(this.canonicalRef.push(...k),this.virtualRef.push(...k),this.haveID)}pushObject(){return new u(this.canonicalRef.pushObject(),this.virtualRef.pushObject(),this.haveID)}pushType(k){return new u(this.canonicalRef.pushType(k),this.virtualRef.pushType(k),this.haveID)}toString(){return`${this.virtualRef.toString()} (${this.canonicalRef.toString()})`}}class o{constructor(k){this._ctx=k,this._map=new i.EqualityMap,this._schemaAddressesAdded=new Set}addIDs(k,x){if(k===null)return;if(Array.isArray(k)){for(let te=0;te<k.length;te++)this.addIDs(k[te],x.push(te.toString()));return}if(typeof k!="object")return;const q=x,X=k.$id;typeof X=="string"&&(x=x.updateWithID(X)),x.haveID&&(this._ctx.debugPrintSchemaResolving&&console.log(`adding mapping ${x.toString()}`),this._map.set(x.virtualRef,q));for(const te of Object.getOwnPropertyNames(k))this.addIDs(k[te],x.push(te))}addSchema(k,x){return this._schemaAddressesAdded.has(x)?!1:(this.addIDs(k,new u(V.root(x),V.root(void 0))),this._schemaAddressesAdded.add(x),!0)}canonize(k,x){const q=x.resolveAgainst(k.virtualRef),X=this._map.get(q);if(X!==void 0)return X;const te=q.addressURI===void 0?new V(k.canonicalRef.addressURI,q.path):q;return new u(te,new V(void 0,q.path))}}function f(I,k){let x;if(typeof I=="string")x=new Set([I]);else if(Array.isArray(I)){const te=[];for(const ne of I){if(typeof ne!="string")return(0,y.messageError)("SchemaTypeElementMustBeString",D(k,{element:ne}));te.push(ne)}x=new Set(te)}else return(0,y.messageError)("SchemaTypeMustBeStringOrStringArray",D(k,{actual:I}));(0,y.messageAssert)(x.size>0,"SchemaNoTypeSpecified",D(k));const q=["null","boolean","object","array","number","string","integer"],X=(0,i.iterableFind)(x,te=>q.indexOf(te)<0);return X!==void 0?(0,y.messageError)("SchemaInvalidType",D(k,{type:X})):x}function v(I,k){if(!Array.isArray(I))return(0,y.messageError)("SchemaRequiredMustBeStringOrStringArray",D(k,{actual:I}));for(const x of I)if(typeof x!="string")return(0,y.messageError)("SchemaRequiredElementMustBeString",D(k,{element:x}));return I}e.schemaTypeDict={null:!0,boolean:!0,string:!0,integer:!0,number:!0,array:!0,object:!0};const N=Object.getOwnPropertyNames(e.schemaTypeDict);function E(I){const k=(0,i.iterableFind)(a.transformedStringTypeTargetTypeKindsMap,([x,{jsonSchema:q}])=>q===I);if(k!==void 0)return k[0]}function M(I,k){return I===void 0?(0,y.messageError)("SchemaFetchErrorTopLevel",{address:k}):(0,y.messageError)("SchemaFetchError",{address:k,base:I.canonicalRef})}class h{constructor(k,x,q){this._ctx=k,this._store=x,this._canonizer=q}tryResolveVirtualRef(k,x,q){return t(this,void 0,void 0,function*(){let X=!1;for(;;){const te=this._canonizer.canonize(k,q),ne=te.canonicalRef;(0,s.assert)(ne.hasAddress,"Canonical ref can't be resolved without an address");const ue=ne.address;let H=ne.addressURI===void 0?void 0:yield this._store.get(ue,this._ctx.debugPrintSchemaResolving);if(H===void 0)return[void 0,te];if(this._canonizer.addSchema(H,ue))(0,s.assert)(!X,"We can't add a schema twice"),X=!0;else{let J=this._canonizer.canonize(x,q);return k!==void 0&&(J=new u(new V(te.canonicalRef.addressURI,J.canonicalRef.path),J.virtualRef,J.haveID)),[J.canonicalRef.lookupRef(H),J]}}})}resolveVirtualRef(k,x){return t(this,void 0,void 0,function*(){this._ctx.debugPrintSchemaResolving&&console.log(`resolving ${x.toString()} relative to ${k.toString()}`);let q=yield this.tryResolveVirtualRef(k,k,x),X=q[0];if(X!==void 0)return this._ctx.debugPrintSchemaResolving&&console.log(`resolved to ${q[1].toString()}`),[X,q[1]];const te=new u(k.canonicalRef,new V(k.canonicalRef.addressURI,k.virtualRef.path),k.haveID);return q=yield this.tryResolveVirtualRef(te,k,x),X=q[0],X!==void 0?(this._ctx.debugPrintSchemaResolving&&console.log(`resolved to ${q[1].toString()}`),[X,q[1]]):M(k,x.address)})}resolveTopLevelRef(k){return t(this,void 0,void 0,function*(){return yield this.resolveVirtualRef(new u(new V(k.addressURI,[])),new V(void 0,k.path))})}}function _(I,k,x,q){return t(this,void 0,void 0,function*(){let X=new i.EqualityMap;function te(J,ee){const re=X.get(J.canonicalRef);re!==void 0&&(0,s.assert)(re===ee,"Trying to set path again to different type"),X.set(J.canonicalRef,ee)}function ne(J,ee,re,ae,oe,ke=fe=>fe.toLowerCase()){return t(this,void 0,void 0,function*(){const fe=new Set(ae),ge=(0,i.mapSortBy)((0,i.mapFromObject)(re),(W,Y)=>ke(Y)),_e=yield(0,i.mapMapSync)(ge,(W,Y)=>t(this,void 0,void 0,function*(){const se=J.push("properties",Y),he=yield H(G(W,se.canonicalRef),se,(0,c.makeNamesTypeAttributes)(Y,!0)),Ze=!fe.has(Y);return k.makeClassProperty(he,Ze)}));let $;if(oe===void 0||oe===!0)$=k.getPrimitiveType("any");else if(oe===!1)$=void 0;else{const W=J.push("additionalProperties");$=yield H(G(oe,W.canonicalRef),W,(0,c.singularizeTypeNames)(ee))}const j=(0,i.setSubtract)(fe,_e.keys());if(j.size>0){const W=$;if(W===void 0)return(0,y.messageError)("SchemaAdditionalTypesForbidRequired",D(J));const Y=(0,i.mapFromIterable)(j,se=>k.makeClassProperty(W,!1));(0,i.mapMergeInto)(_e,Y)}return k.getUniqueObjectType(ee,_e,$)})}function ue(J,ee,re){return t(this,void 0,void 0,function*(){const ae=Array.isArray(J.enum)?J.enum:void 0,oe=(0,i.definedMap)(J.type,le=>f(le,ee));function ke(le){if(oe!==void 0&&!oe.has(le))return!1;if(ae!==void 0){let me;switch(le){case"null":me=ce=>ce===null;break;case"integer":me=ce=>typeof ce=="number"&&ce===Math.floor(ce);break;default:me=ce=>typeof ce===le;break}return ae.find(me)!==void 0}return!0}const fe=(0,i.setFilter)(N,ke);let ge;function _e(le,me){let ce;if(le===void 0&&ge!==void 0)ce=ge;else{ce=[];for(const ye of q){const Fe=ye(J,ee.canonicalRef,fe,le);Fe!==void 0&&ce.push(Fe)}le===void 0&&(ge=ce)}for(const ye of ce)me(ye)}function $(le){let me=p.emptyTypeAttributes;return _e(void 0,ce=>{const ye=le(ce);ye!==void 0&&(me=(0,p.combineTypeAttributes)("union",me,ye))}),me}function j(le){return J.oneOf===void 0&&(le=(0,p.combineTypeAttributes)("union",le,$(({forType:me,forUnion:ce,forCases:ye})=>((0,s.assert)(ce===void 0&&ye===void 0,"We can't have attributes for unions and cases if we don't have a union"),me)))),(0,c.modifyTypeNames)(le,me=>{const ce=(0,s.defined)(me);if(!ce.areInferred)return ce;let ye=J.title;return typeof ye!="string"&&(ye=ee.canonicalRef.definitionName),typeof ye=="string"?l.TypeNames.make(new Set([ye]),new Set,J.$ref!==void 0):ce.makeInferred()})}re=j(re);const W=(0,p.makeTypeAttributesInferred)(re);function Y(le){const me=E(J.format);return me===void 0?k.getStringType(le,w.StringTypes.unrestricted):k.getPrimitiveType(me,le)}function se(){return t(this,void 0,void 0,function*(){const le=(0,c.singularizeTypeNames)(re),me=J.items;let ce;if(Array.isArray(me)){const ye=ee.push("items"),Fe=yield(0,i.arrayMapSync)(me,(dt,He)=>t(this,void 0,void 0,function*(){const At=ye.push(He.toString());return yield H(G(dt,At.canonicalRef),At,le)}));ce=k.getUnionType(p.emptyTypeAttributes,new Set(Fe))}else if(typeof me=="object"){const ye=ee.push("items");ce=yield H(G(me,ye.canonicalRef),ye,le)}else{if(me!==void 0)return(0,y.messageError)("SchemaArrayItemsMustBeStringOrArray",D(ee,{actual:me}));ce=k.getPrimitiveType("any")}return k.addAttributes(ce,le),k.getArrayType(p.emptyTypeAttributes,ce)})}function he(){return t(this,void 0,void 0,function*(){let le;J.required===void 0||typeof J.required=="boolean"?le=[]:le=Array.from(v(J.required,ee));let me;J.properties===void 0?me={}:me=R(J.properties,ee.canonicalRef);for(const He of Object.getOwnPropertyNames(me))me[He].required===!0&&le.indexOf(He)<0&&le.push(He);let ce=J.additionalProperties;ce===void 0&&typeof J.patternProperties=="object"&&(0,i.hasOwnProperty)(J.patternProperties,".*")&&(ce=J.patternProperties[".*"]);const ye=(0,p.combineTypeAttributes)("union",W,$(({forObject:He})=>He)),Fe=J.quicktypePropertyOrder?J.quicktypePropertyOrder:[];return yield ne(ee,ye,me,le,ce,He=>{const At=Fe.indexOf(He);return At!==-1?At:He.toLowerCase()})})}function Ze(le,me){return t(this,void 0,void 0,function*(){const ce=ee.push(me);return Array.isArray(le)?yield(0,i.arrayMapSync)(le,(ye,Fe)=>t(this,void 0,void 0,function*(){const dt=ce.push(Fe.toString());return yield H(G(ye,dt.canonicalRef),dt,(0,p.makeTypeAttributesInferred)(re))})):(0,y.messageError)("SchemaSetOperationCasesIsNotArray",D(ce,{operation:me,cases:le}))})}const St=k.getUniqueIntersectionType(re,void 0);te(ee,St);function Xe(le,me){return t(this,void 0,void 0,function*(){const ce=yield Ze(le,me);let ye=(0,p.makeTypeAttributesInferred)(re);me==="oneOf"&&_e(le,({forType:dt,forUnion:He,forCases:At})=>{if(dt!==void 0&&k.addAttributes(St,dt),He!==void 0&&(ye=(0,p.combineTypeAttributes)("union",ye,He)),At!==void 0){(0,s.assert)(At.length===ce.length,"Number of case attributes doesn't match number of cases");for(let Sr=0;Sr<ce.length;Sr++)k.addAttributes(ce[Sr],At[Sr])}});const Fe=k.getUniqueUnionType(ye,void 0);return k.setSetOperationMembers(Fe,new Set(ce)),Fe})}const Ge=ae===void 0&&(oe===void 0||oe.has("object")),kt=ae===void 0&&(oe===void 0||oe.has("array")),wr=fe.has("string")&&ae!==void 0&&ae.find(le=>typeof le=="string")!==void 0,Ni=oe!==void 0||J.properties!==void 0||J.additionalProperties!==void 0||J.items!==void 0||J.required!==void 0||ae!==void 0,hn=[];if(Ni){const le=[],me=$(({forNumber:ye})=>ye);for(const[ye,Fe]of[["null","null"],["number","double"],["integer","integer"],["boolean","bool"]]){if(!fe.has(ye))continue;const dt=(0,a.isNumberTypeKind)(Fe)?me:void 0;le.push(k.getPrimitiveType(Fe,dt))}const ce=(0,p.combineTypeAttributes)("union",W,$(({forString:ye})=>ye));if(wr){const ye=ae.filter(Fe=>typeof Fe=="string");le.push(k.getStringType(ce,w.StringTypes.fromCases(ye)))}else fe.has("string")&&le.push(Y(ce));kt&&le.push(yield se()),Ge&&le.push(yield he()),hn.push(k.getUniqueUnionType(W,new Set(le)))}if(J.$ref!==void 0){if(typeof J.$ref!="string")return(0,y.messageError)("SchemaRefMustBeString",D(ee,{actual:typeof J.$ref}));const le=V.parse(J.$ref),[me,ce]=yield I.resolveVirtualRef(ee,le),ye=(0,c.modifyTypeNames)(re,Fe=>(0,s.defined)(Fe).areInferred?l.TypeNames.make(new Set([ce.canonicalRef.name]),new Set,!0):Fe);hn.push(yield H(me,ce,ye))}return J.allOf!==void 0&&hn.push(...yield Ze(J.allOf,"allOf")),J.oneOf!==void 0&&hn.push(yield Xe(J.oneOf,"oneOf")),J.anyOf!==void 0&&hn.push(yield Xe(J.anyOf,"anyOf")),k.setSetOperationMembers(St,new Set(hn)),St})}function H(J,ee,re){return t(this,void 0,void 0,function*(){const ae=X.get(ee.canonicalRef);if(ae!==void 0)return ae;let oe;return typeof J=="boolean"?((0,y.messageAssert)(J===!0,"SchemaFalseNotSupported",D(ee)),oe=k.getPrimitiveType("any")):(ee=ee.updateWithID(J.$id),oe=yield ue(J,ee,re)),te(ee,oe),oe})}for(const[J,ee]of x){const[re,ae]=yield I.resolveTopLevelRef(ee),oe=yield H(re,ae,(0,c.makeNamesTypeAttributes)(J,!1));k.addTopLevel(J,oe)}})}function A(I){const k=I.toLowerCase(),x=[".json",".schema"];for(const q of x)if(k.endsWith(q)){const X=I.slice(0,I.length-q.length);if(X.length>0)return X}return I}function S(I){const k=I.fragment();if(k!==""){const q=k.split("/"),X=q.length;if(q[X-1]!=="")return A(q[X-1]);if(X>1&&q[X-2]!=="")return A(q[X-2])}const x=I.filename();return x!==""?A(x):(0,y.messageError)("DriverCannotInferNameForSchema",{uri:I.toString()})}function O(I,k,x){return t(this,void 0,void 0,function*(){const q=k.fragment();let X=q.endsWith("/");X&&(k=k.clone().fragment(q.slice(0,-1)));const te=V.parseURI(k);te.isRoot&&(X=!1);const ne=(yield I.resolveTopLevelRef(te))[0];if(X)return typeof ne!="object"?(0,y.messageError)("SchemaCannotGetTypesFromBoolean",{ref:te.toString()}):(0,i.mapMap)((0,i.mapFromObject)(ne),(ue,H)=>te.push(H));{let ue;if(typeof ne=="object"&&typeof ne.title=="string")ue=ne.title;else{const H=S(k);ue=H!==void 0?H:x}return[ue,te]}})}class L extends g.JSONSchemaStore{constructor(k,x){super(),this._inputs=k,this._delegate=x}fetch(k){return t(this,void 0,void 0,function*(){const x=this._inputs.get(k);return x!==void 0?G((0,s.parseJSON)(x,"JSON Schema",k),()=>V.root(k)):this._delegate===void 0?(0,s.panic)(`Schema URI ${k} requested, but no store given`):yield this._delegate.fetch(k)})}}class K{constructor(k,x=[],q=[]){this._schemaStore=k,this._additionalSchemaAddresses=q,this.kind="schema",this.needSchemaProcessing=!0,this._schemaInputs=new Map,this._schemaSources=[],this._topLevels=new Map,this._needIR=!1,this._attributeProducers=[d.descriptionAttributeProducer,b.accessorNamesAttributeProducer,m.enumValuesAttributeProducer,z.uriSchemaAttributesProducer,T.minMaxAttributeProducer,C.minMaxLengthAttributeProducer,P.patternAttributeProducer].concat(x)}get needIR(){return this._needIR}addTopLevel(k,x){this._topLevels.set(k,x)}addTypes(k,x){return t(this,void 0,void 0,function*(){if(this._schemaSources.length===0)return;let q=this._schemaStore;if(this._schemaInputs.size===0){if(q===void 0)return(0,s.panic)("Must have a schema store to process JSON Schema")}else q=this._schemaStore=new L(this._schemaInputs,q);const X=q,te=new o(k);for(const ue of this._additionalSchemaAddresses){const H=yield X.get(ue,k.debugPrintSchemaResolving);if(H===void 0)return(0,y.messageError)("SchemaFetchErrorAdditional",{address:ue});te.addSchema(H,ue)}const ne=new h(k,(0,s.defined)(this._schemaStore),te);for(const[ue,H]of this._schemaSources){const J=H.name,ee=yield O(ne,ue,J);if(Array.isArray(ee)){let re;this._schemaSources.length===1?re=J:re=ee[0],this.addTopLevel(re,ee[1])}else for(const[re,ae]of ee)this.addTopLevel(re,ae)}yield _(ne,x,this._topLevels,this._attributeProducers)})}addTypesSync(){return(0,s.panic)("addTypesSync not supported in JSONSchemaInput")}addSource(k){return t(this,void 0,void 0,function*(){return this.addSourceSync(k)})}addSourceSync(k){const{name:x,uris:q,schema:X,isConverted:te}=k;te!==!0&&(this._needIR=!0);let ne;if(q===void 0?ne=[new r.default(x)]:ne=q.map(ue=>{const H=Z(ue);return H.clone().hash("").toString()===""&&H.path(x),H}),X===void 0)(0,s.assert)(q!==void 0,"URIs must be given if schema source is not specified");else for(let ue=0;ue<ne.length;ue++){const H=ne[ue],J=H.clone().hash(""),ee=J.path();let re=0;do re>0&&J.path(`${ee}-${re}`),re++;while(this._schemaInputs.has(J.toString()));this._schemaInputs.set(J.toString(),X),ne[ue]=J.hash(H.hash())}for(const ue of ne)this._schemaSources.push([ue,k])}singleStringSchemaSource(){if(!this._schemaSources.every(([x,{schema:q}])=>typeof q=="string"))return;const k=new Set(this._schemaSources.map(([x,{schema:q}])=>q));if(k.size===1)return(0,s.defined)((0,i.iterableFirst)(k))}}e.JSONSchemaInput=K}(ss)),ss}var _o;function Ll(){return _o||(_o=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.descriptionAttributeProducer=e.propertyDescriptionsTypeAttributeKind=e.descriptionTypeAttributeKind=e.addDescriptionToSchema=void 0;const t=Le,n=Ce,r=$p();function i(p,g){g!==void 0&&(p.description=Array.from(g).join(`
`))}e.addDescriptionToSchema=i;class a extends n.TypeAttributeKind{constructor(){super("description")}combine(g){return(0,t.setUnionManyInto)(new Set,g)}makeInferred(g){}addToSchema(g,y,w){i(g,w)}stringify(g){let y=(0,t.iterableFirst)(g);if(y!==void 0)return y.length>5+3&&(y=`${y.slice(0,5)}...`),g.size>1&&(y=`${y}, ...`),y}}e.descriptionTypeAttributeKind=new a;class s extends n.TypeAttributeKind{constructor(){super("propertyDescriptions")}combine(g){const y=new Map;for(const w of g)(0,t.mapMergeWithInto)(y,(d,b)=>(0,t.setUnion)(d,b),w);return y}makeInferred(g){}stringify(g){if(g.size!==0)return`prop descs: ${g.size}`}}e.propertyDescriptionsTypeAttributeKind=new s;function l(p){return p.kind===r.PathElementKind.KeyOrIndex&&p.key==="properties"}function c(p,g,y){if(typeof p!="object")return;let w=n.emptyTypeAttributes,d=n.emptyTypeAttributes;const b=g.path.length;if(y.has("object")||(0,t.setSubtract)(y,["null"]).size>1||p.enum!==void 0||b<2||!l(g.path[b-2])){const m=p.description;typeof m=="string"&&(w=e.descriptionTypeAttributeKind.makeAttributes(new Set([m])))}if(y.has("object")&&typeof p.properties=="object"){const m=(0,t.mapFilterMap)((0,t.mapFromObject)(p.properties),T=>{if(typeof T=="object"){const C=T.description;if(typeof C=="string")return new Set([C])}});m.size>0&&(d=e.propertyDescriptionsTypeAttributeKind.makeAttributes(m))}return{forType:w,forObject:d}}e.descriptionAttributeProducer=c}(is)),is}var na={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.followTargetType=e.transformationForType=e.transformationTypeAttributeKind=e.Transformation=e.MinMaxValueTransformer=e.MinMaxLengthCheckTransformer=e.StringifyTransformer=e.ParseStringTransformer=e.StringProducerTransformer=e.UnionInstantiationTransformer=e.StringMatchTransformer=e.UnionMemberMatchTransformer=e.DecodingChoiceTransformer=e.ChoiceTransformer=e.ArrayEncodingTransformer=e.ArrayDecodingTransformer=e.EncodingTransformer=e.DecodingTransformer=e.MatchTransformer=e.ProducerTransformer=e.Transformer=void 0;const t=Le,n=dn(),r=Ce,i=ie,a=vr();function s(u){const o=V(u);return u===o?u.kind:`${u.kind} (${o.kind})`}function l(u){return(0,t.definedMapWithDefault)(u,0,o=>o.getNumberOfNodes())}class c{constructor(o,f,v){this.kind=o,this.graph=f,this.sourceTypeRef=v}get sourceType(){return(0,a.derefTypeRef)(this.sourceTypeRef,this.graph)}getChildren(){return new Set([this.sourceType])}getNumberOfNodes(){return 1}equals(o){return o instanceof c?this.sourceTypeRef===o.sourceTypeRef:!1}hashCode(){return(0,t.hashCodeOf)(this.sourceTypeRef)}debugDescription(){return`${s(this.sourceType)} -> ${this.kind}`}debugPrintContinuations(o){}debugPrint(o){console.log((0,i.indentationString)(o)+this.debugDescription()),this.debugPrintContinuations(o+1)}}e.Transformer=c;class p extends c{constructor(o,f,v,N){super(o,f,v),this.consumer=N}getChildren(){const o=super.getChildren();return this.consumer===void 0?o:(0,t.setUnionInto)(o,this.consumer.getChildren())}getNumberOfNodes(){return super.getNumberOfNodes()+l(this.consumer)}equals(o){return!super.equals(o)||!(o instanceof p)?!1:(0,t.areEqual)(this.consumer,o.consumer)}hashCode(){const o=super.hashCode();return(0,t.addHashCode)(o,(0,t.hashCodeOf)(this.consumer))}debugPrintContinuations(o){this.consumer!==void 0&&this.consumer.debugPrint(o)}}e.ProducerTransformer=p;class g extends c{constructor(o,f,v,N){super(o,f,v),this.transformer=N}getChildren(){return(0,t.setUnionInto)(super.getChildren(),this.transformer.getChildren())}getNumberOfNodes(){return super.getNumberOfNodes()+this.transformer.getNumberOfNodes()}equals(o){return!super.equals(o)||!(o instanceof g)?!1:this.transformer.equals(o.transformer)}hashCode(){const o=super.hashCode();return(0,t.addHashCode)(o,this.transformer.hashCode())}debugPrintContinuations(o){this.transformer.debugPrint(o)}}e.MatchTransformer=g;class y extends p{constructor(o,f,v){super("decode",o,f,v)}get canFail(){return!1}reverse(o,f){return f!==void 0?(0,i.panic)("Reversing a decoding transformer cannot have a continuation"):this.consumer===void 0?new w(this.graph,o):this.consumer.reverse(o,new w(this.graph,this.consumer.sourceTypeRef))}reconstitute(o){return new y(o.typeGraph,o.reconstituteTypeRef(this.sourceTypeRef),(0,t.definedMap)(this.consumer,f=>f.reconstitute(o)))}equals(o){return super.equals(o)?o instanceof y:!1}}e.DecodingTransformer=y;class w extends c{constructor(o,f){super("encode",o,f)}get canFail(){return!1}reverse(o,f){return(0,i.panic)("Can't reverse encoding transformer")}reconstitute(o){return new w(o.typeGraph,o.reconstituteTypeRef(this.sourceTypeRef))}equals(o){return!(!super.equals(o)||!(o instanceof w))}}e.EncodingTransformer=w;class d extends p{constructor(o,f,v,N,E){super("decode-array",o,f,v),this._itemTargetTypeRef=N,this.itemTransformer=E}getChildren(){const o=super.getChildren();return o.add(this.itemTargetType),(0,t.setUnionInto)(o,this.itemTransformer.getChildren())}getNumberOfNodes(){return super.getNumberOfNodes()+this.itemTransformer.getNumberOfNodes()}get canFail(){return!1}get itemTargetType(){return(0,a.derefTypeRef)(this._itemTargetTypeRef,this.graph)}reverse(o,f){if(f!==void 0)return(0,i.panic)("Reversing a decoding transformer cannot have a continuation");const v=this.itemTransformer.reverse(this._itemTargetTypeRef,void 0);return this.consumer===void 0?new b(this.graph,o,this.itemTransformer.sourceTypeRef,v):this.consumer.reverse(o,new b(this.graph,this.consumer.sourceTypeRef,this.itemTransformer.sourceTypeRef,v))}reconstitute(o){return new d(o.typeGraph,o.reconstituteTypeRef(this.sourceTypeRef),(0,t.definedMap)(this.consumer,f=>f.reconstitute(o)),o.reconstituteTypeRef(this._itemTargetTypeRef),this.itemTransformer.reconstitute(o))}hashCode(){let o=super.hashCode();return o=(0,t.addHashCode)(o,(0,t.hashCodeOf)(this._itemTargetTypeRef)),o=(0,t.addHashCode)(o,this.itemTransformer.hashCode()),o}equals(o){return!super.equals(o)||!(o instanceof d)||!(0,t.areEqual)(this._itemTargetTypeRef,o._itemTargetTypeRef)?!1:this.itemTransformer.equals(o.itemTransformer)}debugPrintContinuations(o){this.itemTransformer.debugPrint(o),super.debugPrintContinuations(o)}}e.ArrayDecodingTransformer=d;class b extends c{constructor(o,f,v,N){super("encode-array",o,f),this._itemTargetTypeRef=v,this.itemTransformer=N}getChildren(){const o=super.getChildren();return o.add(this.itemTargetType),(0,t.setUnionInto)(o,this.itemTransformer.getChildren())}getNumberOfNodes(){return super.getNumberOfNodes()+this.itemTransformer.getNumberOfNodes()}get canFail(){return!1}get itemTargetType(){return(0,a.derefTypeRef)(this._itemTargetTypeRef,this.graph)}reverse(o,f){return(0,i.panic)("Can't reverse array encoding transformer")}reconstitute(o){return new b(o.typeGraph,o.reconstituteTypeRef(this.sourceTypeRef),o.reconstituteTypeRef(this._itemTargetTypeRef),this.itemTransformer.reconstitute(o))}hashCode(){let o=super.hashCode();return o=(0,t.addHashCode)(o,(0,t.hashCodeOf)(this._itemTargetTypeRef)),(0,t.addHashCode)(o,this.itemTransformer.hashCode())}equals(o){return!super.equals(o)||!(o instanceof b)||!(0,t.areEqual)(this._itemTargetTypeRef,o._itemTargetTypeRef)?!1:this.itemTransformer.equals(o.itemTransformer)}debugPrintContinuations(o){this.itemTransformer.debugPrint(o),super.debugPrintContinuations(o)}}e.ArrayEncodingTransformer=b;class m extends c{constructor(o,f,v){super("choice",o,f),this.transformers=v,(0,i.assert)(v.length>0,"Choice must have at least one transformer")}getChildren(){let o=super.getChildren();for(const f of this.transformers)(0,t.setUnionInto)(o,f.getChildren());return o}getNumberOfNodes(){let o=0;for(const f of this.transformers)o+=f.getNumberOfNodes();return super.getNumberOfNodes()+o}get canFail(){return this.transformers.some(o=>o.canFail)}reverse(o,f){const v=this.transformers.map(N=>N.reverse(o,f));if(v.every(N=>N instanceof C)){const N=v,E=N[0];if(N.every(M=>E.memberType.equals(M.memberType))){const M=N.map(h=>h.transformer);return new C(this.graph,o,new m(this.graph,M[0].sourceTypeRef,M),E.memberTypeRef)}}return new m(this.graph,o,v)}reconstitute(o){return new m(o.typeGraph,o.reconstituteTypeRef(this.sourceTypeRef),this.transformers.map(f=>f.reconstitute(o)))}equals(o){return!super.equals(o)||!(o instanceof m)?!1:(0,t.areEqual)(this.transformers,o.transformers)}hashCode(){const o=super.hashCode();return(0,t.addHashCode)(o,(0,t.hashCodeOf)(this.transformers))}debugPrintContinuations(o){for(const f of this.transformers)f.debugPrint(o)}}e.ChoiceTransformer=m;class T extends c{constructor(o,f,v,N,E,M,h,_,A){super("decoding-choice",o,f),this.nullTransformer=v,this.integerTransformer=N,this.doubleTransformer=E,this.boolTransformer=M,this.stringTransformer=h,this.arrayTransformer=_,this.objectTransformer=A}get transformers(){const o=[];function f(v){v!==void 0&&o.push(v)}return f(this.nullTransformer),f(this.integerTransformer),f(this.doubleTransformer),f(this.boolTransformer),f(this.stringTransformer),f(this.arrayTransformer),f(this.objectTransformer),o}getChildren(){let o=super.getChildren();for(const f of this.transformers)(0,t.setUnionInto)(o,f.getChildren());return o}getNumberOfNodes(){let o=super.getNumberOfNodes();for(const f of this.transformers)o+=l(f);return o}get canFail(){return!1}reverse(o,f){(0,i.assert)(f===void 0,"Reversing a decoding transformer can't have a target transformer");let v=new Map,N=new Map;function E(S){if(S instanceof C){const O=S.memberType;let L=N.get(O);L===void 0&&(L=[],N.set(O,L)),L.push(S)}else{const O=S.sourceType.kind;let L=v.get(O);L===void 0&&(L=[],v.set(O,L)),L.push(S)}}function M(S){const O=S.reverse(o,void 0);let L=[];O instanceof m?L=O.transformers:L=[O];for(const K of L)E(K)}function h(S){(0,i.assert)(S.length>0,"Must have at least one transformer");const O=S.filter(K=>K instanceof C?!K.transformer.canFail:!K.canFail);return O.length===0?S:[(0,t.arraySortByInto)(O.map(K=>[K.getNumberOfNodes(),K]),([K,I])=>K)[0][1]]}this.transformers.forEach(M);const _=Array.from(v.values()).concat(Array.from(N.values())),A=[].concat(..._.map(h));return A.length===1?A[0]:new m(this.graph,o,A)}reconstitute(o){function f(v){if(v!==void 0)return v.reconstitute(o)}return new T(o.typeGraph,o.reconstituteTypeRef(this.sourceTypeRef),f(this.nullTransformer),f(this.integerTransformer),f(this.doubleTransformer),f(this.boolTransformer),f(this.stringTransformer),f(this.arrayTransformer),f(this.objectTransformer))}equals(o){return!(!super.equals(o)||!(o instanceof T)||!(0,t.areEqual)(this.nullTransformer,o.nullTransformer)||!(0,t.areEqual)(this.integerTransformer,o.integerTransformer)||!(0,t.areEqual)(this.doubleTransformer,o.doubleTransformer)||!(0,t.areEqual)(this.boolTransformer,o.boolTransformer)||!(0,t.areEqual)(this.stringTransformer,o.stringTransformer)||!(0,t.areEqual)(this.arrayTransformer,o.arrayTransformer)||!(0,t.areEqual)(this.objectTransformer,o.objectTransformer))}hashCode(){let o=super.hashCode();return o=(0,t.addHashCode)(o,(0,t.hashCodeOf)(this.nullTransformer)),o=(0,t.addHashCode)(o,(0,t.hashCodeOf)(this.integerTransformer)),o=(0,t.addHashCode)(o,(0,t.hashCodeOf)(this.doubleTransformer)),o=(0,t.addHashCode)(o,(0,t.hashCodeOf)(this.boolTransformer)),o=(0,t.addHashCode)(o,(0,t.hashCodeOf)(this.stringTransformer)),o=(0,t.addHashCode)(o,(0,t.hashCodeOf)(this.arrayTransformer)),o=(0,t.addHashCode)(o,(0,t.hashCodeOf)(this.objectTransformer)),o}debugPrintContinuations(o){for(const f of this.transformers)f.debugPrint(o)}}e.DecodingChoiceTransformer=T;class C extends g{constructor(o,f,v,N){super("union-member-match",o,f,v),this.memberTypeRef=N}get sourceType(){const o=(0,a.derefTypeRef)(this.sourceTypeRef,this.graph);return o instanceof n.UnionType?o:(0,i.panic)("The source of a union member match transformer must be a union type")}get canFail(){return!0}get memberType(){return(0,a.derefTypeRef)(this.memberTypeRef,this.graph)}getChildren(){return super.getChildren().add(this.memberType)}reverse(o,f){return(0,i.panic)("Can't reverse union member match transformer")}reconstitute(o){return new C(o.typeGraph,o.reconstituteTypeRef(this.sourceTypeRef),this.transformer.reconstitute(o),o.reconstituteTypeRef(this.memberTypeRef))}equals(o){return!super.equals(o)||!(o instanceof C)?!1:this.memberTypeRef===o.memberTypeRef}hashCode(){const o=super.hashCode();return(0,t.addHashCode)(o,(0,t.hashCodeOf)(this.memberTypeRef))}debugDescription(){return`${super.debugDescription()} - member: ${s(this.memberType)}`}}e.UnionMemberMatchTransformer=C;class P extends g{constructor(o,f,v,N){super("string-match",o,f,v),this.stringCase=N}get sourceType(){const o=(0,a.derefTypeRef)(this.sourceTypeRef,this.graph);return!(o instanceof n.EnumType)&&!(o instanceof n.PrimitiveType&&o.kind==="string")?(0,i.panic)("The source of a string match transformer must be an enum or string type"):o}get canFail(){return!0}reverse(o,f){return this.transformer.reverse(o,new U(this.graph,this.transformer.sourceTypeRef,f,this.stringCase))}reconstitute(o){return new P(o.typeGraph,o.reconstituteTypeRef(this.sourceTypeRef),this.transformer.reconstitute(o),this.stringCase)}equals(o){return!super.equals(o)||!(o instanceof P)?!1:this.stringCase!==o.stringCase}hashCode(){const o=super.hashCode();return(0,t.addHashCode)(o,(0,t.hashString)(this.stringCase))}debugDescription(){return`${super.debugDescription()} - case: ${this.stringCase}`}}e.StringMatchTransformer=P;class z extends c{constructor(o,f){super("union-instantiation",o,f)}get canFail(){return!1}reverse(o,f){return f===void 0?(0,i.panic)("Union instantiation transformer reverse must have a continuation"):new C(this.graph,o,f,this.sourceTypeRef)}reconstitute(o){return new z(o.typeGraph,o.reconstituteTypeRef(this.sourceTypeRef))}equals(o){return super.equals(o)?o instanceof z:!1}}e.UnionInstantiationTransformer=z;class U extends p{constructor(o,f,v,N){super("string-producer",o,f,v),this.result=N}get canFail(){return!1}reverse(o,f){return f===void 0?(0,i.panic)("Reversing a string producer transformer must have a continuation"):this.consumer===void 0?new P(this.graph,o,f,this.result):this.consumer.reverse(o,new P(this.graph,this.consumer.sourceTypeRef,f,this.result))}reconstitute(o){return new U(o.typeGraph,o.reconstituteTypeRef(this.sourceTypeRef),(0,t.definedMap)(this.consumer,f=>f.reconstitute(o)),this.result)}equals(o){return!super.equals(o)||!(o instanceof U)?!1:this.result===o.result}hashCode(){const o=super.hashCode();return(0,t.addHashCode)(o,(0,t.hashCodeOf)(this.consumer))}debugDescription(){return`${super.debugDescription()} - result: ${this.result}`}}e.StringProducerTransformer=U;class B extends p{constructor(o,f,v){super("parse-string",o,f,v)}get canFail(){return!0}reverse(o,f){return this.consumer===void 0?new F(this.graph,o,f):this.consumer.reverse(o,new F(this.graph,this.consumer.sourceTypeRef,f))}reconstitute(o){return new B(o.typeGraph,o.reconstituteTypeRef(this.sourceTypeRef),(0,t.definedMap)(this.consumer,f=>f.reconstitute(o)))}equals(o){return super.equals(o)?o instanceof B:!1}}e.ParseStringTransformer=B;class F extends p{constructor(o,f,v){super("stringify",o,f,v)}get canFail(){return!1}reverse(o,f){return this.consumer===void 0?new B(this.graph,o,f):this.consumer.reverse(o,new B(this.graph,this.consumer.sourceTypeRef,f))}reconstitute(o){return new F(o.typeGraph,o.reconstituteTypeRef(this.sourceTypeRef),(0,t.definedMap)(this.consumer,f=>f.reconstitute(o)))}equals(o){return super.equals(o)?o instanceof F:!1}}e.StringifyTransformer=F;class D extends p{constructor(o,f,v,N,E){super("min-max-length-check",o,f,v),this.minLength=N,this.maxLength=E}get canFail(){return!0}reverse(o,f){return this.consumer===void 0?new D(this.graph,o,f,this.minLength,this.maxLength):this.consumer.reverse(o,new D(this.graph,this.consumer.sourceTypeRef,f,this.minLength,this.maxLength))}reconstitute(o){return new D(o.typeGraph,o.reconstituteTypeRef(this.sourceTypeRef),(0,t.definedMap)(this.consumer,f=>f.reconstitute(o)),this.minLength,this.maxLength)}equals(o){return super.equals(o)?o instanceof D&&this.minLength===o.minLength&&this.maxLength===o.maxLength:!1}}e.MinMaxLengthCheckTransformer=D;class R extends p{constructor(o,f,v,N,E){super("min-max-value-check",o,f,v),this.minimum=N,this.maximum=E}get canFail(){return!0}reverse(o,f){return this.consumer===void 0?new R(this.graph,o,f,this.minimum,this.maximum):this.consumer.reverse(o,new R(this.graph,this.consumer.sourceTypeRef,f,this.minimum,this.maximum))}reconstitute(o){return new R(o.typeGraph,o.reconstituteTypeRef(this.sourceTypeRef),(0,t.definedMap)(this.consumer,f=>f.reconstitute(o)),this.minimum,this.maximum)}equals(o){return super.equals(o)?o instanceof R&&this.minimum===o.minimum&&this.maximum===o.maximum:!1}}e.MinMaxValueTransformer=R;class G{constructor(o,f,v){this._graph=o,this._targetTypeRef=f,this.transformer=v}get sourceType(){return this.transformer.sourceType}get targetType(){return(0,a.derefTypeRef)(this._targetTypeRef,this._graph)}get reverse(){return new G(this._graph,this.transformer.sourceTypeRef,this.transformer.reverse(this._targetTypeRef,void 0))}getChildren(){return this.transformer.getChildren().add(this.targetType)}reconstitute(o){return new G(o.typeGraph,o.reconstituteTypeRef(this._targetTypeRef),this.transformer.reconstitute(o))}equals(o){return o instanceof G?this._targetTypeRef===o._targetTypeRef&&this.transformer.equals(o.transformer):!1}hashCode(){let o=(0,t.hashCodeOf)(this._targetTypeRef);return o=(0,t.addHashCode)(o,this.transformer.hashCode()),o}debugPrint(){this.transformer.debugPrint(0),console.log(`-> ${s(this.targetType)}`)}}e.Transformation=G;class Q extends r.TypeAttributeKind{constructor(){super("transformation")}appliesToTypeKind(o){return!0}get inIdentity(){return!0}children(o){return o.getChildren()}reconstitute(o,f){return f.reconstitute(o)}stringify(o){return"transformation"}}e.transformationTypeAttributeKind=new Q;function Z(u){return e.transformationTypeAttributeKind.tryGetInAttributes(u.getAttributes())}e.transformationForType=Z;function V(u){for(;;){const o=Z(u);if(o===void 0)return u;u=o.targetType}}e.followTargetType=V})(na);var El={exports:{}},Zr=El.exports=function(e,t,n){typeof e=="object"&&(n=e,e=n.start,t=n.stop),typeof t=="object"&&(n=t,e=e||n.start,t=void 0),t||(t=e,e=0),n||(n={});var r=n.mode||"soft",i=r==="hard"?/\b/:/(\S+\s+)/;return function(a){var s=a.toString().split(i).reduce(function(l,c){if(r==="hard")for(var p=0;p<c.length;p+=t-e)l.push(c.slice(p,p+t-e));else l.push(c);return l},[]);return s.reduce(function(l,c){if(c==="")return l;var p=c.replace(/\t/g,"    "),g=l.length-1;if(l[g].length+p.length>t)l[g]=l[g].replace(/\s+$/,""),p.split(/\n/).forEach(function(w){l.push(new Array(e+1).join(" ")+w.replace(/^\s+/,""))});else if(p.match(/\n/)){var y=p.split(/\n/);l[g]+=y.shift(),y.forEach(function(w){l.push(new Array(e+1).join(" ")+w.replace(/^\s+/,""))})}else l[g]+=p;return l},[new Array(e+1).join(" ")]).join(`
`)}};Zr.soft=Zr;Zr.hard=function(e,t){return Zr(e,t,{mode:"hard"})};var jp=El.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ConvenienceRenderer=e.inferredNameOrder=e.topLevelNameOrder=void 0;const t=Le,n=dn(),r=vi(),i=Ae,a=wi,s=ie,l=br(),c=Ee,p=qt,g=vr(),y=Ce,w=Ll(),d=ki,b=na,m=jp(90);e.topLevelNameOrder=1;const T=10;e.inferredNameOrder=30;const C=20,P=10,z=20,U=10,B=40;function F(V){if(V===void 0)return;const u=Array.from(V).join(`

`).trim();if(u!=="")return m(u).split(`
`).map(o=>o.trim())}const D=new y.TypeAttributeKind("assignedName"),R=new y.TypeAttributeKind("assignedPropertyNames"),G=new y.TypeAttributeKind("assignedMemberNames"),Q=new y.TypeAttributeKind("assignedCaseNames");class Z extends a.Renderer{constructor(u,o){super(u,o),this._alphabetizeProperties=!1}get topLevels(){return this.typeGraph.topLevels}forbiddenNamesForGlobalNamespace(){return[]}forbiddenForObjectProperties(u,o){return{names:[],includeGlobalForbidden:!1}}forbiddenForUnionMembers(u,o){return{names:[],includeGlobalForbidden:!1}}forbiddenForEnumCases(u,o){return{names:[],includeGlobalForbidden:!1}}makeTopLevelDependencyNames(u,o){return[]}makeNamedTypeDependencyNames(u,o){return[]}makeNameForTransformation(u,o){}namedTypeToNameForTopLevel(u){if((0,r.isNamedType)(u))return u}get unionMembersInGlobalNamespace(){return!1}get enumCasesInGlobalNamespace(){return!1}get needsTypeDeclarationBeforeUse(){return!1}canBeForwardDeclared(u){return(0,s.panic)("If needsTypeDeclarationBeforeUse returns true, canBeForwardDeclared must be implemented")}unionNeedsName(u){return(0,r.nullableFromUnion)(u)===null}get globalNamespace(){return(0,s.defined)(this._globalNamespace)}get nameStoreView(){return(0,s.defined)(this._nameStoreView)}descriptionForType(u){let o=this.typeGraph.attributeStore.tryGet(w.descriptionTypeAttributeKind,u);return F(o)}descriptionForClassProperty(u,o){const f=this.typeGraph.attributeStore.tryGet(w.propertyDescriptionsTypeAttributeKind,u);if(f!==void 0)return F(f.get(o))}setUpNaming(){this._nameStoreView=new g.TypeAttributeStoreView(this.typeGraph.attributeStore,D),this._propertyNamesStoreView=new g.TypeAttributeStoreView(this.typeGraph.attributeStore,R),this._memberNamesStoreView=new g.TypeAttributeStoreView(this.typeGraph.attributeStore,G),this._caseNamesStoreView=new g.TypeAttributeStoreView(this.typeGraph.attributeStore,Q),this._namesForTransformations=new Map,this._namedTypeNamer=this.makeNamedTypeNamer(),this._unionMemberNamer=this.makeUnionMemberNamer(),this._enumCaseNamer=this.makeEnumCaseNamer(),this._globalForbiddenNamespace=(0,i.keywordNamespace)("forbidden",this.forbiddenNamesForGlobalNamespace()),this._otherForbiddenNamespaces=new Map,this._globalNamespace=new i.Namespace("global",void 0,[this._globalForbiddenNamespace],[]);const{objects:u,enums:o,unions:f}=this.typeGraph.allNamedTypesSeparated(),v=(0,t.setFilter)(f,N=>this.unionNeedsName(N));for(const[N,E]of this.topLevels)this.nameStoreView.setForTopLevel(N,this.addNameForTopLevel(E,N));for(const N of u){const E=this.addNameForNamedType(N);this.addPropertyNames(N,E)}for(const N of o){const E=this.addNameForNamedType(N);this.addEnumCaseNames(N,E)}for(const N of v){const E=this.addNameForNamedType(N);this.addUnionMemberNames(N,E)}for(const N of this.typeGraph.allTypesUnordered())this.addNameForTransformation(N);return(0,t.setUnion)([this._globalForbiddenNamespace,this._globalNamespace],this._otherForbiddenNamespaces.values())}addDependenciesForNamedType(u,o){const f=this.makeNamedTypeDependencyNames(u,o);for(const v of f)this.globalNamespace.add(v)}makeNameForTopLevel(u,o,f){return new i.SimpleName([o],(0,s.defined)(this._namedTypeNamer),e.topLevelNameOrder)}addNameForTopLevel(u,o){const f=this.namedTypeToNameForTopLevel(u),v=this.makeNameForTopLevel(u,o,f);this.globalNamespace.add(v);const N=this.makeTopLevelDependencyNames(u,v);for(const E of N)this.globalNamespace.add(E);return f!==void 0&&(this.addDependenciesForNamedType(f,v),this.nameStoreView.set(f,v)),v}makeNameForType(u,o,f,v){const N=u.getNames(),E=N.areInferred?v:f;return new i.SimpleName(N.proposedNames,o,E)}makeNameForNamedType(u){return this.makeNameForType(u,(0,s.defined)(this._namedTypeNamer),T,e.inferredNameOrder)}addNameForNamedType(u){const o=this.nameStoreView.tryGet(u);if(o!==void 0)return o;const f=this.globalNamespace.add(this.makeNameForNamedType(u));return this.addDependenciesForNamedType(u,f),this.nameStoreView.set(u,f),f}get typesWithNamedTransformations(){return(0,s.defined)(this._namesForTransformations)}nameForTransformation(u){if((0,b.transformationForType)(u)===void 0)return;const f=(0,s.defined)(this._namesForTransformations).get(u);return f===void 0?(0,s.panic)("No name for transformation"):f}addNameForTransformation(u){const o=(0,b.transformationForType)(u);if(o===void 0)return;(0,s.assert)((0,s.defined)(this._namesForTransformations).get(u)===void 0,"Tried to give two names to the same transformation");const f=this.makeNameForTransformation(o,this.nameStoreView.tryGet(o.targetType));f!==void 0&&(this.globalNamespace.add(f),(0,s.defined)(this._namesForTransformations).set(u,f))}processForbiddenWordsInfo(u,o){const f=[],v=[];for(const M of u.names)typeof M=="string"?v.push(M):f.push(M);let N=(0,s.defined)(this._otherForbiddenNamespaces).get(o);v.length>0&&N===void 0&&(N=(0,i.keywordNamespace)(o,v),this._otherForbiddenNamespaces=(0,s.defined)(this._otherForbiddenNamespaces).set(o,N));let E=new Set;return u.includeGlobalForbidden&&(E=E.add((0,s.defined)(this._globalForbiddenNamespace))),N!==void 0&&(E=E.add(N)),{forbiddenNames:new Set(f),forbiddenNamespaces:E}}makeNameForProperty(u,o,f,v,N){const E=this.namerForObjectProperty(u,f);if(E===null)return;const M=`${u.getCombinedName()}_${v}`,h=N===void 0?C:P,_=N===void 0?[v,M]:[N];return new i.SimpleName(_,E,h)}makePropertyDependencyNames(u,o,f,v,N){return[]}addPropertyNames(u,o){const{forbiddenNames:f,forbiddenNamespaces:v}=this.processForbiddenWordsInfo(this.forbiddenForObjectProperties(u,o),"forbidden-for-properties");let N;const E=(0,d.objectPropertyNames)(u,this.targetLanguage.name),M=(0,t.mapFilterMap)(u.getSortedProperties(),(h,_)=>{const[A,S]=(0,d.getAccessorName)(E,_);let O;if(S?O=new i.FixedName((0,s.defined)(A)):O=this.makeNameForProperty(u,o,h,_,A),O!==void 0){N===void 0&&(N=new i.Namespace(u.getCombinedName(),this.globalNamespace,v,f)),N.add(O);for(const L of this.makePropertyDependencyNames(u,o,h,_,O))N.add(L);return O}});(0,s.defined)(this._propertyNamesStoreView).set(u,M)}makeNameForUnionMember(u,o,f){const[v,N]=(0,d.unionMemberName)(u,f,this.targetLanguage.name);return N?new i.FixedName((0,s.defined)(v)):new i.DependencyName((0,s.nonNull)(this._unionMemberNamer),B,E=>v!==void 0?v:this.proposeUnionMemberName(u,o,f,E))}addUnionMemberNames(u,o){if(this._unionMemberNamer===null)return;const{forbiddenNames:v,forbiddenNamespaces:N}=this.processForbiddenWordsInfo(this.forbiddenForUnionMembers(u,o),"forbidden-for-union-members");let E;this.unionMembersInGlobalNamespace?E=this.globalNamespace:E=new i.Namespace(u.getCombinedName(),this.globalNamespace,N,v);let M=new Map;for(const h of u.members){const _=this.makeNameForUnionMember(u,o,(0,b.followTargetType)(h));M.set(h,E.add(_))}(0,s.defined)(this._memberNamesStoreView).set(u,M)}makeNameForEnumCase(u,o,f,v){const N=`${u.getCombinedName()}_${f}`,E=v===void 0?z:U,M=v===void 0?[f,N]:[v];return new i.SimpleName(M,(0,s.nonNull)(this._enumCaseNamer),E)}addEnumCaseNames(u,o){if(this._enumCaseNamer===null)return;const{forbiddenNames:f,forbiddenNamespaces:v}=this.processForbiddenWordsInfo(this.forbiddenForEnumCases(u,o),"forbidden-for-enum-cases");let N;this.enumCasesInGlobalNamespace?N=this.globalNamespace:N=new i.Namespace(u.getCombinedName(),this.globalNamespace,v,f);let E=new Map;const M=(0,d.enumCaseNames)(u,this.targetLanguage.name);for(const h of u.cases){const[_,A]=(0,d.getAccessorName)(M,h);let S;A?S=new i.FixedName((0,s.defined)(_)):S=this.makeNameForEnumCase(u,o,h,_),E.set(h,N.add(S))}(0,s.defined)(this._caseNamesStoreView).set(u,E)}childrenOfType(u){const o=this.names;if(u instanceof n.ClassType){const f=(0,s.defined)(this._propertyNamesStoreView).get(u),v=(0,t.mapFilterMap)(u.getProperties(),(E,M)=>{if(f.get(M)!==void 0)return E.type}),N=(0,t.mapSortBy)(v,(E,M)=>(0,s.defined)(o.get((0,s.defined)(f.get(M)))));return new Set(N.values())}return u.getChildren()}get namedUnions(){return(0,s.defined)(this._namedUnions)}get haveNamedUnions(){return this.namedUnions.size>0}get haveNamedTypes(){return(0,s.defined)(this._namedTypes).length>0}get haveUnions(){return(0,s.defined)(this._haveUnions)}get haveMaps(){return(0,s.defined)(this._haveMaps)}get haveOptionalProperties(){return(0,s.defined)(this._haveOptionalProperties)}get enums(){return(0,s.defined)(this._namedEnums)}get haveEnums(){return this.enums.size>0}proposedUnionMemberNameForTypeKind(u){return null}proposeUnionMemberName(u,o,f,v){const N=this.proposedUnionMemberNameForTypeKind(f.kind);if(N!==null)return N;const E=M=>(0,r.matchTypeExhaustive)(M,h=>(0,s.panic)("none type should have been replaced"),h=>"anything",h=>"null",h=>"bool",h=>"integer",h=>"double",h=>"string",h=>E(h.items)+"_array",h=>v(this.nameForNamedType(h)),h=>E(h.values)+"_map",h=>((0,s.assert)(this.targetLanguage.supportsFullObjectType,"Object type should have been replaced in `replaceObjectType`"),v(this.nameForNamedType(h))),h=>"enum",h=>"union",h=>h.kind.replace("-","_"));return E(f)}nameForNamedType(u){return this.nameStoreView.get(u)}isForwardDeclaredType(u){return(0,s.defined)(this._declarationIR).forwardedTypes.has(u)}isImplicitCycleBreaker(u){return(0,s.panic)("A renderer that invokes isCycleBreakerType must implement isImplicitCycleBreaker")}canBreakCycles(u){return!0}isCycleBreakerType(u){return this._cycleBreakerTypes===void 0&&(this._cycleBreakerTypes=(0,p.cycleBreakerTypesForGraph)(this.typeGraph,o=>this.isImplicitCycleBreaker(o),o=>this.canBreakCycles(o))),this._cycleBreakerTypes.has(u)}forEachTopLevel(u,o,f){let v;return f!==void 0?v=(0,t.mapFilter)(this.topLevels,f):v=this.topLevels,this.forEachWithBlankLines(v,u,(N,E,M)=>o(N,this.nameStoreView.getForTopLevel(E),M))}forEachDeclaration(u,o){this.forEachWithBlankLines((0,t.iterableEnumerate)((0,s.defined)(this._declarationIR).declarations),u,(f,v,N)=>o(f,N))}setAlphabetizeProperties(u){this._alphabetizeProperties=u}getAlphabetizeProperties(){return this._alphabetizeProperties}propertyCount(u){return(0,s.defined)(this._propertyNamesStoreView).get(u).size}sortClassProperties(u,o){return this._alphabetizeProperties?(0,t.mapSortBy)(u,(f,v)=>{const N=(0,s.defined)(o.get(v));return(0,s.defined)(this.names.get(N))}):u}forEachClassProperty(u,o,f){const v=(0,s.defined)(this._propertyNamesStoreView).get(u),N=this.sortClassProperties(u.getProperties(),v);this.forEachWithBlankLines(N,o,(E,M,h)=>{const _=(0,s.defined)(v.get(M));f(_,M,E,h)})}nameForUnionMember(u,o){return(0,s.defined)((0,s.defined)(this._memberNamesStoreView).get(u).get(o))}nameForEnumCase(u,o){const f=(0,s.defined)(this._caseNamesStoreView).get(u);return(0,s.defined)(f.get(o))}forEachUnionMember(u,o,f,v,N){const E=o===null?u.members:o;v===null&&(v=_=>(0,s.defined)(this.names.get(_)));const M=(0,t.mapFilter)((0,s.defined)(this._memberNamesStoreView).get(u),(_,A)=>E.has(A)),h=(0,t.mapSortBy)(M,v);this.forEachWithBlankLines(h,f,N)}forEachEnumCase(u,o,f){const v=(0,s.defined)(this._caseNamesStoreView).get(u),N=(0,t.mapSortBy)(v,E=>(0,s.defined)(this.names.get(E)));this.forEachWithBlankLines(N,o,f)}forEachTransformation(u,o){this.forEachWithBlankLines((0,s.defined)(this._namesForTransformations),u,o)}forEachSpecificNamedType(u,o,f){this.forEachWithBlankLines(o,u,(v,N,E)=>f(v,this.nameForNamedType(v),E))}forEachObject(u,o){this.forEachSpecificNamedType(u,(0,s.defined)(this._namedObjects).entries(),o)}forEachEnum(u,o){this.forEachSpecificNamedType(u,this.enums.entries(),o)}forEachUnion(u,o){this.forEachSpecificNamedType(u,this.namedUnions.entries(),o)}forEachUniqueUnion(u,o,f){const v=new Map;for(const N of this.namedUnions){const E=o(N);v.has(E)||v.set(E,N)}this.forEachWithBlankLines(v,u,f)}forEachNamedType(u,o,f,v){this.forEachWithBlankLines((0,s.defined)(this._namedTypes).entries(),u,(N,E,M)=>{const h=this.nameForNamedType(N);if(N instanceof n.ObjectType)o(N,h,M);else if(N instanceof n.EnumType)f(N,h,M);else if(N instanceof n.UnionType)v(N,h,M);else return(0,s.panic)("Named type that's neither a class nor union")})}sourcelikeToString(u){return(0,c.serializeRenderResult)((0,c.sourcelikeToSource)(u),this.names,"").lines.join(`
`)}get commentLineStart(){return"// "}emitCommentLines(u,o,f,v,N){o===void 0&&(o=this.commentLineStart),N===void 0&&(N=o),f!==void 0&&this.emitLine(f);let E=!0;for(const M of u){let h=E?N:o;this.sourcelikeToString(M)===""&&(h=(0,l.trimEnd)(h)),this.emitLine(h,M),E=!1}v!==void 0&&this.emitLine(v)}emitDescription(u){u!==void 0&&this.emitDescriptionBlock(u)}emitDescriptionBlock(u){this.emitCommentLines(u)}emitPropertyTable(u,o){let f=[];const v=()=>{f.length!==0&&(this.emitTable(f),f=[])};this.forEachClassProperty(u,"none",(N,E,M)=>{const h=this.descriptionForClassProperty(u,E);h!==void 0&&(v(),this.emitDescription(h)),f.push(o(N,E,M))}),v()}processGraph(){this._declarationIR=(0,p.declarationsForGraph)(this.typeGraph,this.needsTypeDeclarationBeforeUse?E=>this.canBeForwardDeclared(E):void 0,E=>this.childrenOfType(E),E=>E instanceof n.UnionType?this.unionNeedsName(E):(0,r.isNamedType)(E));const u=this.typeGraph.allTypesUnordered();this._haveUnions=(0,t.iterableSome)(u,E=>E instanceof n.UnionType),this._haveMaps=(0,t.iterableSome)(u,E=>E instanceof n.MapType);const o=(0,t.setFilter)(u,E=>E instanceof n.ClassType);this._haveOptionalProperties=(0,t.iterableSome)(o,E=>(0,t.mapSome)(E.getProperties(),M=>M.isOptional)),this._namedTypes=this._declarationIR.declarations.filter(E=>E.kind==="define").map(E=>E.type);const{objects:f,enums:v,unions:N}=(0,r.separateNamedTypes)(this._namedTypes);this._namedObjects=new Set(f),this._namedEnums=new Set(v),this._namedUnions=new Set(N)}emitSource(u){this.processGraph(),this.emitSourceStructure(u)}forEachType(u){const o=new Set,f=new Set,v=Array.from(this.typeGraph.topLevels.values());function N(E){if(!o.has(E)){for(const M of E.getChildren())v.push(M);o.add(E),f.add(u(E))}}for(;;){const E=v.pop();if(E===void 0)break;N(E)}return f}}e.ConvenienceRenderer=Z})(Cl);var Ai={},Ci={};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.DefaultDateTimeRecognizer=void 0;const Gp=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,qp=[0,31,29,31,30,31,30,31,31,30,31,30,31],Kp=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,Hp=/t|\s/i;class Wp{isDate(t){const n=t.match(Gp);if(n===null)return!1;const r=+n[2],i=+n[3];return r>=1&&r<=12&&i>=1&&i<=qp[r]}isTime(t){const n=t.match(Kp);if(n===null)return!1;const r=+n[1],i=+n[2],a=+n[3];return r<=23&&i<=59&&a<=59}isDateTime(t){const n=t.split(Hp);return n.length===2&&this.isDate(n[0])&&this.isTime(n[1])}}Ci.DefaultDateTimeRecognizer=Wp;Object.defineProperty(Ai,"__esModule",{value:!0});Ai.TargetLanguage=void 0;const Vp=Le,Jp=Ee,wo=ie,Qp=Ci;class Zp{constructor(t,n,r){this.displayName=t,this.names=n,this.extension=r}get optionDefinitions(){return this.getOptions().map(t=>t.definition)}get cliOptionDefinitions(){let t=[],n=[];for(const{cliDefinitions:r}of this.getOptions())t=t.concat(r.actual),n=n.concat(r.display);return{actual:t,display:n}}get name(){return(0,wo.defined)(this.names[0])}renderGraphAndSerialize(t,n,r,i,a,s){s===void 0&&(s=this.defaultIndentation);const l={typeGraph:t,leadingComments:i},c=this.makeRenderer(l,a);c.setAlphabetizeProperties!==void 0&&c.setAlphabetizeProperties(r);const p=c.render(n);return(0,Vp.mapMap)(p.sources,g=>(0,Jp.serializeRenderResult)(g,p.names,(0,wo.defined)(s)))}get defaultIndentation(){return"    "}get stringTypeMapping(){return new Map}get supportsOptionalClassProperties(){return!1}get supportsUnionsWithBothNumberTypes(){return!1}get supportsFullObjectType(){return!1}needsTransformerForType(t){return!1}get dateTimeRecognizer(){return new Qp.DefaultDateTimeRecognizer}}Ai.TargetLanguage=Zp;(function(e){var t=be&&be.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(e,"__esModule",{value:!0}),e.SystemTextJsonCSharpRenderer=e.systemTextJsonCSharpOptions=e.NewtonsoftCSharpRenderer=e.newtonsoftCSharpOptions=e.CSharpRenderer=e.CSharpTargetLanguage=e.cSharpOptions=e.AccessModifier=e.Framework=void 0;const n=Le,r=dn(),i=vi(),a=Ee,s=br(),l=ie,c=Ae,p=Cl,g=Ai,y=Je,w=ot,d=na,b=Zn,m=t(gl);var T;(function(M){M[M.Newtonsoft=0]="Newtonsoft",M[M.SystemTextJson=1]="SystemTextJson"})(T=e.Framework||(e.Framework={}));var C;(function(M){M[M.None=0]="None",M[M.Public=1]="Public",M[M.Internal=2]="Internal"})(C=e.AccessModifier||(e.AccessModifier={}));function P(M){return M}function z(M){if(M instanceof r.UnionType){const h=(0,i.nullableFromUnion)(M);return h===null?"automatic":z(h)==="manual"?"nullable":"none"}if(M instanceof r.ArrayType){const h=z(M.items);return h==="manual"||h==="nullable"?"automatic":"none"}return M instanceof r.EnumType?"automatic":M.kind==="double"?(0,b.minMaxValueForType)(M)!==void 0?"manual":"none":M.kind==="integer-string"||M.kind==="bool-string"||M.kind==="string"&&(0,b.minMaxLengthForType)(M)!==void 0?"manual":"none"}function U(M){const h=M.targetType;return h instanceof r.EnumType?!0:h instanceof r.UnionType?(0,i.nullableFromUnion)(h)===null:!1}function B(M){switch(M.kind){case"date-time":return"DateTimeOffset";case"uuid":return"Guid";case"uri":return"Uri";default:return(0,l.panic)(`Transformed string type ${M.kind} not supported`)}}e.cSharpOptions={framework:new y.EnumOption("framework","Serialization framework",[["NewtonSoft",T.Newtonsoft],["SystemTextJson",T.SystemTextJson]],"NewtonSoft"),useList:new y.EnumOption("array-type","Use T[] or List<T>",[["array",!1],["list",!0]]),dense:new y.EnumOption("density","Property density",[["normal",!1],["dense",!0]],"normal","secondary"),namespace:new y.StringOption("namespace","Generated namespace","NAME","QuickType"),version:new y.EnumOption("csharp-version","C# version",[["5",5],["6",6]],"6","secondary"),virtual:new y.BooleanOption("virtual","Generate virtual properties",!1),typeForAny:new y.EnumOption("any-type",'Type to use for "any"',[["object","object"],["dynamic","dynamic"]],"object","secondary"),useDecimal:new y.EnumOption("number-type","Type to use for numbers",[["double",!1],["decimal",!0]],"double","secondary"),features:new y.EnumOption("features","Output features",[["complete",{namespaces:!0,helpers:!0,attributes:!0}],["attributes-only",{namespaces:!0,helpers:!1,attributes:!0}],["just-types-and-namespace",{namespaces:!0,helpers:!1,attributes:!1}],["just-types",{namespaces:!0,helpers:!1,attributes:!1}]]),baseclass:new y.EnumOption("base-class","Base class",[["EntityData","EntityData"],["Object",void 0]],"Object","secondary"),checkRequired:new y.BooleanOption("check-required","Fail if required properties are missing",!1)};class F extends g.TargetLanguage{constructor(){super("C#",["cs","csharp"],"cs")}getOptions(){return[e.cSharpOptions.framework,e.cSharpOptions.namespace,e.cSharpOptions.version,e.cSharpOptions.dense,e.cSharpOptions.useList,e.cSharpOptions.useDecimal,e.cSharpOptions.typeForAny,e.cSharpOptions.virtual,e.cSharpOptions.features,e.cSharpOptions.baseclass,e.cSharpOptions.checkRequired]}get stringTypeMapping(){const h=new Map;return h.set("date","date-time"),h.set("time","date-time"),h.set("date-time","date-time"),h.set("uuid","uuid"),h.set("uri","uri"),h.set("integer-string","integer-string"),h.set("bool-string","bool-string"),h}get supportsUnionsWithBothNumberTypes(){return!0}get supportsOptionalClassProperties(){return!0}needsTransformerForType(h){const _=z(h);return _!=="none"&&_!=="nullable"}makeRenderer(h,_){const A=(0,y.getOptionValues)(e.cSharpOptions,_);switch(A.framework){case T.Newtonsoft:return new N(this,h,(0,y.getOptionValues)(e.newtonsoftCSharpOptions,_));case T.SystemTextJson:return new E(this,h,(0,y.getOptionValues)(e.systemTextJsonCSharpOptions,_));default:return(0,l.assertNever)(A.framework)}}}e.CSharpTargetLanguage=F;const D=(0,c.funPrefixNamer)("namer",o),R="J",G="R",Q="N";function Z(M){return m.default.isAlphabetic(M)?!0:M===95}function V(M){const h=m.default.getCategory(M);return["Nd","Pc","Mn","Mc"].indexOf(h)>=0?!0:Z(M)}const u=(0,s.utf16LegalizeCharacters)(V);function o(M){const h=(0,s.splitIntoWords)(M);return(0,s.combineWords)(h,u,s.firstUpperWordStyle,s.firstUpperWordStyle,s.firstUpperWordStyle,s.firstUpperWordStyle,"",Z)}function f(M){return M instanceof r.UnionType?(0,i.nullableFromUnion)(M)===null:["integer","double","bool","enum","date-time","uuid"].indexOf(M.kind)>=0}class v extends p.ConvenienceRenderer{constructor(h,_,A){super(h,_),this._csOptions=A}forbiddenNamesForGlobalNamespace(){return["QuickType","Type","System","Console","Exception","DateTimeOffset","Guid","Uri"]}forbiddenForObjectProperties(h,_){return{names:[_,"ToString","GetHashCode","Finalize","Equals","GetType","MemberwiseClone","ReferenceEquals"],includeGlobalForbidden:!1}}forbiddenForUnionMembers(h,_){return{names:[_],includeGlobalForbidden:!0}}makeNamedTypeNamer(){return D}namerForObjectProperty(){return D}makeUnionMemberNamer(){return D}makeEnumCaseNamer(){return D}unionNeedsName(h){return(0,i.nullableFromUnion)(h)===null}namedTypeToNameForTopLevel(h){return(0,i.directlyReachableSingleNamedType)(h)}emitBlock(h,_=!1){this.emitLine("{"),this.indent(h),this.emitLine("}",_?";":"")}get doubleType(){return this._csOptions.useDecimal?"decimal":"double"}csType(h,_=d.followTargetType,A=!1){const S=_(h);return(0,i.matchType)(S,O=>(0,a.maybeAnnotated)(A,w.anyTypeIssueAnnotation,this._csOptions.typeForAny),O=>(0,a.maybeAnnotated)(A,w.nullTypeIssueAnnotation,this._csOptions.typeForAny),O=>"bool",O=>"long",O=>this.doubleType,O=>"string",O=>{const L=this.csType(O.items,_,A);return this._csOptions.useList?["List<",L,">"]:[L,"[]"]},O=>this.nameForNamedType(O),O=>["Dictionary<string, ",this.csType(O.values,_,A),">"],O=>this.nameForNamedType(O),O=>{const L=(0,i.nullableFromUnion)(O);return L!==null?this.nullableCSType(L,P):this.nameForNamedType(O)},O=>B(O))}nullableCSType(h,_=d.followTargetType,A=!1){h=(0,d.followTargetType)(h);const S=this.csType(h,_,A);return f(h)?[S,"?"]:S}baseclassForType(h){}emitType(h,_,A,S,O,L){switch(_){case C.Public:A=["public ",A];break;case C.Internal:A=["internal ",A];break}this.emitDescription(h),O===void 0?this.emitLine(A," ",S):this.emitLine(A," ",S," : ",O),this.emitBlock(L)}attributesForProperty(h,_,A,S){}propertyDefinition(h,_,A,S){const O=h.type,L=h.isOptional?this.nullableCSType(O,d.followTargetType,!0):this.csType(O,d.followTargetType,!0),K=["public "];return this._csOptions.virtual&&K.push("virtual "),[...K,L," ",_," { get; set; }"]}emitDescriptionBlock(h){const _="/// <summary>";this._csOptions.dense?this.emitLine(_,h.join("; "),"</summary>"):this.emitCommentLines(h,"/// ",_,"/// </summary>")}blankLinesBetweenAttributes(){return!1}emitClassDefinition(h,_){this.emitType(this.descriptionForType(h),C.Public,"partial class",_,this.baseclassForType(h),()=>{if(h.getProperties().size===0)return;const A=this.blankLinesBetweenAttributes()?"interposing":"none";let S=[],O=!0,L;this.forEachClassProperty(h,A,(K,I,k)=>{const x=this.attributesForProperty(k,K,h,I),q=this.descriptionForClassProperty(h,I),X=this.propertyDefinition(k,K,h,I);if(x===void 0)(!O&&q!==void 0||L!==void 0)&&this.ensureBlankLine(),this.emitDescription(q),this.emitLine(X);else if(this._csOptions.dense&&x.length>0){const te=q===void 0?"":` // ${q.join("; ")}`;S.push([x," ",X,te])}else{this.emitDescription(q);for(const te of x)this.emitLine(te);this.emitLine(X)}O=!1,L=q}),S.length>0&&this.emitTable(S)})}emitUnionDefinition(h,_){const A=(0,i.removeNullFromUnion)(h,!0)[1];this.emitType(this.descriptionForType(h),C.Public,"partial struct",_,this.baseclassForType(h),()=>{this.forEachUnionMember(h,A,"none",null,(O,L)=>{const K=this.nullableCSType(L);this.emitLine("public ",K," ",O,";")}),this.ensureBlankLine();const S=Array.from(A).map(O=>[this.nameForUnionMember(h,O)," == null"]);this.ensureBlankLine(),this.forEachUnionMember(h,A,"none",null,(O,L)=>{const K=this.csType(L);this.emitExpressionMember(["public static implicit operator ",_,"(",K," ",O,")"],["new ",_," { ",O," = ",O," }"])}),h.findMember("null")!==void 0&&this.emitExpressionMember("public bool IsNull",(0,n.arrayIntercalate)(" && ",S),!0)})}emitEnumDefinition(h,_){const A=[];this.forEachEnumCase(h,"none",S=>{A.length>0&&A.push(", "),A.push(S)}),this.emitDescription(this.descriptionForType(h)),this.emitLine("public enum ",_," { ",A," };")}emitExpressionMember(h,_,A=!1){this._csOptions.version===5?(this.emitLine(h),this.emitBlock(()=>{const S=["return ",_,";"];A?(this.emitLine("get"),this.emitBlock(()=>this.emitLine(S))):this.emitLine(S)})):this.emitLine(h," => ",_,";")}emitTypeSwitch(h,_,A,S,O){(0,l.assert)(!S||A,"Can only have return with block");for(const L of h)this.emitLine("if (",_(L),")"),A?this.emitBlock(()=>{O(L),S&&this.emitLine("return;")}):this.indent(()=>O(L))}emitUsing(h){this.emitLine("using ",h,";")}emitUsings(){for(const h of["System","System.Collections.Generic"])this.emitUsing(h)}emitRequiredHelpers(){}emitTypesAndSupport(){this.forEachObject("leading-and-interposing",(h,_)=>this.emitClassDefinition(h,_)),this.forEachEnum("leading-and-interposing",(h,_)=>this.emitEnumDefinition(h,_)),this.forEachUnion("leading-and-interposing",(h,_)=>this.emitUnionDefinition(h,_)),this.emitRequiredHelpers()}emitDefaultLeadingComments(){}emitDefaultFollowingComments(){}needNamespace(){return!0}emitSourceStructure(){this.leadingComments!==void 0?this.emitCommentLines(this.leadingComments):this.emitDefaultLeadingComments(),this.ensureBlankLine(),this.needNamespace()?(this.emitLine("namespace ",this._csOptions.namespace),this.emitBlock(()=>{this.emitUsings(),this.emitTypesAndSupport()})):(this.emitUsings(),this.emitTypesAndSupport()),this.emitDefaultFollowingComments()}}e.CSharpRenderer=v,e.newtonsoftCSharpOptions=Object.assign({},e.cSharpOptions,{});class N extends v{constructor(h,_,A){super(h,_,A),this._options=A,this._enumExtensionsNames=new Map,this._needHelpers=A.features.helpers,this._needAttributes=A.features.attributes,this._needNamespaces=A.features.namespaces}forbiddenNamesForGlobalNamespace(){const h=["Converter","JsonConverter","JsonSerializer","JsonWriter","JsonToken","Serialize","Newtonsoft","MetadataPropertyHandling","DateParseHandling","FromJson","Required"];return this._options.dense&&h.push("J","R","N"),this._options.baseclass!==void 0&&h.push(this._options.baseclass),super.forbiddenNamesForGlobalNamespace().concat(h)}forbiddenForObjectProperties(h,_){const A=super.forbiddenForObjectProperties(h,_);return A.names=A.names.concat(["ToJson","FromJson","Required"]),A}makeNameForTransformation(h,_){if(_===void 0){let A=h.transformer;return A instanceof d.DecodingTransformer&&A.consumer!==void 0&&(A=A.consumer),new c.SimpleName([`${A.kind}_converter`],D,p.inferredNameOrder+30)}return new c.DependencyName(D,_.order+30,A=>`${A(_)}_converter`)}makeNamedTypeDependencyNames(h,_){if(!(h instanceof r.EnumType))return[];const A=new c.DependencyName(D,_.order+30,S=>`${S(_)}_extensions`);return this._enumExtensionsNames.set(_,A),[A]}emitUsings(){if(!(!this._needAttributes&&!this._needHelpers)){super.emitUsings(),this.ensureBlankLine();for(const h of["System.Globalization","Newtonsoft.Json","Newtonsoft.Json.Converters"])this.emitUsing(h);this._options.dense&&(this.emitUsing([R," = Newtonsoft.Json.JsonPropertyAttribute"]),this.emitUsing([G," = Newtonsoft.Json.Required"]),this.emitUsing([Q," = Newtonsoft.Json.NullValueHandling"])),this._options.baseclass==="EntityData"&&this.emitUsing("Microsoft.Azure.Mobile.Server")}}baseclassForType(h){return this._options.baseclass}emitDefaultLeadingComments(){this._needHelpers&&(this.emitLine("// <auto-generated />"),this.emitLine("//"),this.emitLine("// To parse this JSON data, add NuGet 'Newtonsoft.Json' then do",this.topLevels.size===1?"":" one of these",":"),this.emitLine("//"),this.emitLine("//    using ",this._options.namespace,";"),this.emitLine("//"),this.forEachTopLevel("none",(h,_)=>{let A;h instanceof r.EnumType?A=["JsonConvert.DeserializeObject<",_,">(jsonString)"]:A=[_,".FromJson(jsonString)"],this.emitLine("//    var ",(0,a.modifySource)(s.camelCase,_)," = ",A,";")}))}converterForType(h){let _=(0,d.transformationForType)(h);if(_===void 0&&h instanceof r.UnionType){const A=(0,i.nullableFromUnion)(h);A!==null&&(h=A,_=(0,d.transformationForType)(h))}if(_!==void 0&&!U(_))return(0,l.defined)(this.nameForTransformation(h))}attributesForProperty(h,_,A,S){if(!this._needAttributes)return;const O=[],L=this._options.dense?R:"JsonProperty",K=(0,s.utf16StringEscape)(S),I=(0,d.followTargetType)(h.type).isNullable,k=h.isOptional,x=this._options.dense?"R":"Required",q=this._options.dense?"N":"NullValueHandling",X=k&&!I?[", NullValueHandling = ",q,".Ignore"]:[];let te;!this._options.checkRequired||k&&I?te=[X]:k&&!I?te=[", Required = ",x,".DisallowNull",X]:!k&&I?te=[", Required = ",x,".AllowNull"]:te=[", Required = ",x,".Always",X],O.push(["[",L,'("',K,'"',te,")]"]);const ne=this.converterForType(h.type);return ne!==void 0&&O.push(["[JsonConverter(typeof(",ne,"))]"]),O}blankLinesBetweenAttributes(){return this._needAttributes&&!this._options.dense}topLevelResultType(h){return h.kind==="any"||h.kind==="none"?"object":this.csType(h)}emitFromJsonForTopLevel(h,_){if(h instanceof r.EnumType)return;let A,S;const O=this.namedTypeToNameForTopLevel(h);O!==void 0?(A="partial ",S=O instanceof r.ClassType?"class":"struct"):(A="",S="class");const L=this.topLevelResultType(h);this.emitType(void 0,C.Public,[A,S],_,this.baseclassForType(h),()=>{this.emitExpressionMember(["public static ",L," FromJson(string json)"],["JsonConvert.DeserializeObject<",L,">(json, ",this._options.namespace,".Converter.Settings)"])})}emitDecoderSwitch(h){this.emitLine("switch (reader.TokenType)"),this.emitBlock(h)}emitTokenCase(h){this.emitLine("case JsonToken.",h,":")}emitThrow(h){this.emitLine("throw new Exception(",h,");")}deserializeTypeCode(h){return["serializer.Deserialize<",h,">(reader)"]}serializeValueCode(h){return["serializer.Serialize(writer, ",h,")"]}emitSerializeClass(){this.emitType(void 0,C.Public,"static class","Serialize",void 0,()=>{const h=new Set;this.forEachTopLevel("none",_=>{h.has(_)||(h.add(_),this.emitExpressionMember(["public static string ToJson(this ",this.topLevelResultType(_)," self)"],["JsonConvert.SerializeObject(self, ",this._options.namespace,".Converter.Settings)"]))})})}emitCanConvert(h){this.emitExpressionMember("public override bool CanConvert(Type t)",h)}emitReadJson(h){this.emitLine("public override object ReadJson(JsonReader reader, Type t, object existingValue, JsonSerializer serializer)"),this.emitBlock(h)}emitWriteJson(h,_){this.emitLine("public override void WriteJson(JsonWriter writer, object ",h,", JsonSerializer serializer)"),this.emitBlock(_)}converterObject(h){return[h,".Singleton"]}emitConverterClass(){const h=["Converter"];this.emitType(void 0,C.Internal,"static class",h,void 0,()=>{this.emitLine("public static readonly JsonSerializerSettings Settings = new JsonSerializerSettings"),this.emitBlock(()=>{this.emitLine("MetadataPropertyHandling = MetadataPropertyHandling.Ignore,"),this.emitLine("DateParseHandling = DateParseHandling.None,"),this.emitLine("Converters ="),this.emitLine("{"),this.indent(()=>{for(const[_,A]of this.typesWithNamedTransformations)U((0,l.defined)((0,d.transformationForType)(_)))&&this.emitLine(this.converterObject(A),",");this.emitLine("new IsoDateTimeConverter { DateTimeStyles = DateTimeStyles.AssumeUniversal }")}),this.emitLine("},")},!0)})}emitDecoderTransformerCase(h,_,A,S,O){if(A!==void 0){for(const L of h)this.emitTokenCase(L);this.indent(()=>{this.emitDecodeTransformer(A,S,O,_)||this.emitLine("break;")})}}emitConsume(h,_,A,S){return _===void 0?(S(h),!0):this.emitTransformer(h,_,A,S)}emitDecodeTransformer(h,_,A,S="value"){if(h instanceof d.DecodingTransformer){const O=h.sourceType,L=this.converterForType(_);if(L!==void 0){const K=this.csType(_);this.emitLine("var converter = ",this.converterObject(L),";"),this.emitLine("var ",S," = (",K,")converter.ReadJson(reader, typeof(",K,"), null, serializer);")}else if(O.kind!=="null"){let K=_.kind==="double"?_:O;this.emitLine("var ",S," = ",this.deserializeTypeCode(this.csType(K)),";")}return this.emitConsume(S,h.consumer,_,A)}else if(h instanceof d.ArrayDecodingTransformer){if(!(_ instanceof r.ArrayType))return(0,l.panic)("Array decoding must produce an array type");this.emitLine("reader.Read();"),this.emitLine("var ",S," = new List<",this.csType(_.items),">();"),this.emitLine("while (reader.TokenType != JsonToken.EndArray)"),this.emitBlock(()=>{this.emitDecodeTransformer(h.itemTransformer,h.itemTargetType,L=>this.emitLine(S,".Add(",L,");"),"arrayItem"),this.emitLine("reader.Read();")});let O=S;return this._options.useList||(O=[O,".ToArray()"]),A(O),!0}else return h instanceof d.DecodingChoiceTransformer?(this.emitDecoderSwitch(()=>{const O=h.nullTransformer;O!==void 0&&(this.emitTokenCase("Null"),this.indent(()=>{this.emitDecodeTransformer(O,_,A,"null")||this.emitLine("break")})),this.emitDecoderTransformerCase(["Integer"],"integerValue",h.integerTransformer,_,A),this.emitDecoderTransformerCase(h.integerTransformer===void 0?["Integer","Float"]:["Float"],"doubleValue",h.doubleTransformer,_,A),this.emitDecoderTransformerCase(["Boolean"],"boolValue",h.boolTransformer,_,A),this.emitDecoderTransformerCase(["String","Date"],"stringValue",h.stringTransformer,_,A),this.emitDecoderTransformerCase(["StartObject"],"objectValue",h.objectTransformer,_,A),this.emitDecoderTransformerCase(["StartArray"],"arrayValue",h.arrayTransformer,_,A)}),!1):(0,l.panic)("Unknown transformer")}stringCaseValue(h,_){return h.kind==="string"?['"',(0,s.utf16StringEscape)(_),'"']:h instanceof r.EnumType?[this.nameForNamedType(h),".",this.nameForEnumCase(h,_)]:(0,l.panic)(`Type ${h.kind} does not have string cases`)}emitTransformer(h,_,A,S){function O(L){return L===void 0?A:(0,d.followTargetType)(L.sourceType)}if(_ instanceof d.ChoiceTransformer){const L=_.transformers;if(L.length>1&&L.every(K=>K instanceof d.StringMatchTransformer))return this.emitLine("switch (",h,")"),this.emitBlock(()=>{for(const K of L){const I=K,k=this.stringCaseValue((0,d.followTargetType)(I.sourceType),I.stringCase);this.emitLine("case ",k,":"),this.indent(()=>{this.emitTransformer(h,I.transformer,A,S)||this.emitLine("break;")})}}),!1;for(const K of L)this.emitTransformer(h,K,A,S)}else if(_ instanceof d.UnionMemberMatchTransformer){const L=_.memberType,K=(0,i.nullableFromUnion)(_.sourceType);let I,k;if(K!==null)L.kind==="null"?(I=[h," == null"],k="null"):(I=[h," != null"],k=h);else if(L.kind==="null")I=[h,".IsNull"],k="null";else{const x=this.nameForUnionMember(_.sourceType,L);k=[h,".",x],I=[k," != null"]}L.kind!=="null"&&f(L)&&(k=[k,".Value"]),this.emitLine("if (",I,")"),this.emitBlock(()=>this.emitTransformer(k,_.transformer,A,S))}else if(_ instanceof d.StringMatchTransformer){const L=this.stringCaseValue((0,d.followTargetType)(_.sourceType),_.stringCase);this.emitLine("if (",h," == ",L,")"),this.emitBlock(()=>this.emitTransformer(h,_.transformer,A,S))}else if(_ instanceof d.EncodingTransformer){const L=this.converterForType(_.sourceType);return L!==void 0?(this.emitLine("var converter = ",this.converterObject(L),";"),this.emitLine("converter.WriteJson(writer, ",h,", serializer);")):this.emitLine(this.serializeValueCode(h),";"),S([]),!0}else if(_ instanceof d.ArrayEncodingTransformer){this.emitLine("writer.WriteStartArray();");const L="arrayItem";return this.emitLine("foreach (var ",L," in ",h,")"),this.emitBlock(()=>{this.emitTransformer(L,_.itemTransformer,_.itemTargetType,()=>{})}),this.emitLine("writer.WriteEndArray();"),S([]),!0}else if(_ instanceof d.ParseStringTransformer){const L=_.consumer===void 0?A:_.consumer.sourceType;switch(L.kind){case"date-time":this.emitLine("DateTimeOffset dt;"),this.emitLine("if (DateTimeOffset.TryParse(",h,", out dt))"),this.emitBlock(()=>this.emitConsume("dt",_.consumer,A,S));break;case"uuid":this.emitLine("Guid guid;"),this.emitLine("if (Guid.TryParse(",h,", out guid))"),this.emitBlock(()=>this.emitConsume("guid",_.consumer,A,S));break;case"uri":this.emitLine("try"),this.emitBlock(()=>{this.emitLine("var uri = new Uri(",h,");"),this.emitConsume("uri",_.consumer,A,S)}),this.emitLine("catch (UriFormatException) {}");break;case"integer":this.emitLine("long l;"),this.emitLine("if (Int64.TryParse(",h,", out l))"),this.emitBlock(()=>this.emitConsume("l",_.consumer,A,S));break;case"bool":this.emitLine("bool b;"),this.emitLine("if (Boolean.TryParse(",h,", out b))"),this.emitBlock(()=>this.emitConsume("b",_.consumer,A,S));break;default:return(0,l.panic)(`Parsing string to ${L.kind} not supported`)}}else if(_ instanceof d.StringifyTransformer)switch(_.sourceType.kind){case"date-time":return this.emitConsume([h,'.ToString("o", System.Globalization.CultureInfo.InvariantCulture)'],_.consumer,A,S);case"uuid":return this.emitConsume([h,'.ToString("D", System.Globalization.CultureInfo.InvariantCulture)'],_.consumer,A,S);case"integer":case"uri":return this.emitConsume([h,".ToString()"],_.consumer,A,S);case"bool":return this.emitLine("var boolString = ",h,' ? "true" : "false";'),this.emitConsume("boolString",_.consumer,A,S);default:return(0,l.panic)(`Stringifying ${_.sourceType.kind} not supported`)}else if(_ instanceof d.StringProducerTransformer){const L=this.stringCaseValue(O(_.consumer),_.result);return this.emitConsume(L,_.consumer,A,S)}else if(_ instanceof d.MinMaxLengthCheckTransformer){const L=_.minLength,K=_.maxLength,I=[];return L!==void 0&&I.push([h,".Length >= ",L.toString()]),K!==void 0&&I.push([h,".Length <= ",K.toString()]),this.emitLine("if (",(0,n.arrayIntercalate)([" && "],I),")"),this.emitBlock(()=>this.emitConsume(h,_.consumer,A,S)),!1}else if(_ instanceof d.MinMaxValueTransformer){const L=_.minimum,K=_.maximum,I=[];return L!==void 0&&I.push([h," >= ",L.toString()]),K!==void 0&&I.push([h," <= ",K.toString()]),this.emitLine("if (",(0,n.arrayIntercalate)([" && "],I),")"),this.emitBlock(()=>this.emitConsume(h,_.consumer,A,S)),!1}else if(_ instanceof d.UnionInstantiationTransformer){if(!(A instanceof r.UnionType))return(0,l.panic)("Union instantiation transformer must produce a union type");if((0,i.nullableFromUnion)(A)!==null)S(h);else{const K=this.nameForNamedType(A);let I;_.sourceType.kind==="null"?I=" ":I=[" ",this.nameForUnionMember(A,_.sourceType)," = ",h," "],S(["new ",K," {",I,"}"])}return!0}else return(0,l.panic)("Unknown transformer");return!1}emitTransformation(h,_){const A=(0,l.defined)((0,d.transformationForType)(_)),S=A.reverse,O=A.targetType,L=A.transformer;this.emitType(void 0,C.Internal,"class",h,"JsonConverter",()=>{const K=this.csType(O);let I=["t == typeof(",K,")"];const k=f(O);k&&(I=[I," || t == typeof(",K,"?)"]),this.emitCanConvert(I),this.ensureBlankLine(),this.emitReadJson(()=>{k&&!(O instanceof r.UnionType)&&this.emitLine("if (reader.TokenType == JsonToken.Null) return null;"),this.emitDecodeTransformer(L,O,q=>this.emitLine("return ",q,";"))||this.emitThrow(['"Cannot unmarshal type ',K,'"'])}),this.ensureBlankLine(),this.emitWriteJson("untypedValue",()=>{k&&!(O instanceof r.UnionType)&&(this.emitLine("if (untypedValue == null)"),this.emitBlock(()=>{this.emitLine("serializer.Serialize(writer, null);"),this.emitLine("return;")})),this.emitLine("var value = (",K,")untypedValue;"),this.emitTransformer("value",S.transformer,S.targetType,()=>this.emitLine("return;"))||this.emitThrow(['"Cannot marshal type ',K,'"'])}),this.ensureBlankLine(),this.emitLine("public static readonly ",h," Singleton = new ",h,"();")})}emitRequiredHelpers(){this._needHelpers&&(this.forEachTopLevel("leading-and-interposing",(h,_)=>this.emitFromJsonForTopLevel(h,_)),this.ensureBlankLine(),this.emitSerializeClass()),(this._needHelpers||this._needAttributes&&(this.haveNamedUnions||this.haveEnums))&&(this.ensureBlankLine(),this.emitConverterClass(),this.forEachTransformation("leading-and-interposing",(h,_)=>this.emitTransformation(h,_)))}needNamespace(){return this._needNamespaces}}e.NewtonsoftCSharpRenderer=N,e.systemTextJsonCSharpOptions=Object.assign({},e.cSharpOptions,{});class E extends v{constructor(h,_,A){super(h,_,A),this._options=A,this._enumExtensionsNames=new Map,this._needHelpers=A.features.helpers,this._needAttributes=A.features.attributes,this._needNamespaces=A.features.namespaces}forbiddenNamesForGlobalNamespace(){const h=["Converter","JsonConverter","JsonSerializer","JsonWriter","JsonToken","Serialize","JsonSerializerOptions","FromJson","Required"];return this._options.dense&&h.push("J","R","N"),this._options.baseclass!==void 0&&h.push(this._options.baseclass),super.forbiddenNamesForGlobalNamespace().concat(h)}forbiddenForObjectProperties(h,_){const A=super.forbiddenForObjectProperties(h,_);return A.names=A.names.concat(["ToJson","FromJson","Required"]),A}makeNameForTransformation(h,_){if(_===void 0){let A=h.transformer;return A instanceof d.DecodingTransformer&&A.consumer!==void 0&&(A=A.consumer),new c.SimpleName([`${A.kind}_converter`],D,p.inferredNameOrder+30)}return new c.DependencyName(D,_.order+30,A=>`${A(_)}_converter`)}makeNamedTypeDependencyNames(h,_){if(!(h instanceof r.EnumType))return[];const A=new c.DependencyName(D,_.order+30,S=>`${S(_)}_extensions`);return this._enumExtensionsNames.set(_,A),[A]}emitUsings(){if(!(!this._needAttributes&&!this._needHelpers)){super.emitUsings(),this.ensureBlankLine();for(const h of["System.Text.Json","System.Text.Json.Serialization","System.Globalization"])this.emitUsing(h);this._options.dense&&(this.emitUsing([R," = System.Text.Json.Serialization.JsonPropertyNameAttribute"]),this.emitUsing([Q," = System.Text.Json.Serialization.JsonIgnoreCondition"])),this._options.baseclass==="EntityData"&&this.emitUsing("Microsoft.Azure.Mobile.Server")}}baseclassForType(h){return this._options.baseclass}emitDefaultFollowingComments(){this._needHelpers&&(this.emitLine("#pragma warning restore CS8618"),this.emitLine("#pragma warning restore CS8601"),this.emitLine("#pragma warning restore CS8603"))}emitDefaultLeadingComments(){this._needHelpers&&(this.emitLine("// <auto-generated />"),this.emitLine("//"),this.emitLine("// To parse this JSON data, add NuGet 'System.Text.Json' then do",this.topLevels.size===1?"":" one of these",":"),this.emitLine("//"),this.emitLine("//    using ",this._options.namespace,";"),this.emitLine("//"),this.forEachTopLevel("none",(h,_)=>{let A;h instanceof r.EnumType?A=["JsonSerializer.Deserialize<",_,">(jsonString)"]:A=[_,".FromJson(jsonString)"],this.emitLine("//    var ",(0,a.modifySource)(s.camelCase,_)," = ",A,";")}),this.emitLine("#nullable enable"),this.emitLine("#pragma warning disable CS8618"),this.emitLine("#pragma warning disable CS8601"),this.emitLine("#pragma warning disable CS8603"))}converterForType(h){let _=(0,d.transformationForType)(h);if(_===void 0&&h instanceof r.UnionType){const A=(0,i.nullableFromUnion)(h);A!==null&&(h=A,_=(0,d.transformationForType)(h))}if(_!==void 0&&!U(_))return(0,l.defined)(this.nameForTransformation(h))}attributesForProperty(h,_,A,S){if(!this._needAttributes)return;const O=[],L=this._options.dense?R:"JsonPropertyName",K=(0,s.utf16StringEscape)(S),I=(0,d.followTargetType)(h.type).isNullable;h.isOptional&&!I&&O.push(["[","JsonIgnore","(Condition = JsonIgnoreCondition.WhenWritingNull)]"]),O.push(["[",L,'("',K,'")]']);const x=this.converterForType(h.type);return x!==void 0&&O.push(["[JsonConverter(typeof(",x,"))]"]),O}blankLinesBetweenAttributes(){return this._needAttributes&&!this._options.dense}topLevelResultType(h){return h.kind==="any"||h.kind==="none"?"object":this.csType(h)}emitFromJsonForTopLevel(h,_){if(h instanceof r.EnumType)return;let A,S;const O=this.namedTypeToNameForTopLevel(h);O!==void 0?(A="partial ",S=O instanceof r.ClassType?"class":"struct"):(A="",S="class");const L=this.topLevelResultType(h);this.emitType(void 0,C.Public,[A,S],_,this.baseclassForType(h),()=>{this.emitExpressionMember(["public static ",L," FromJson(string json)"],["JsonSerializer.Deserialize<",L,">(json, ",this._options.namespace,".Converter.Settings)"])})}emitDecoderSwitch(h){this.emitLine("switch (reader.TokenType)"),this.emitBlock(h)}emitTokenCase(h){this.emitLine("case JsonTokenType.",h,":")}emitThrow(h){this.emitLine("throw new Exception(",h,");")}deserializeTypeCode(h){switch(h){case"bool":return["reader.GetBoolean()"];case"long":return["reader.GetInt64()"];case"decimal":return["reader.GetDecimal()"];case"double":return["reader.GetDouble()"];case"string":return["reader.GetString()"];default:return["JsonSerializer.Deserialize<",h,">(ref reader, options)"]}}serializeValueCode(h){return h!=="null"?["JsonSerializer.Serialize(writer, ",h,", options)"]:["writer.WriteNullValue()"]}emitSerializeClass(){this.emitType(void 0,C.Public,"static class","Serialize",void 0,()=>{const h=new Set;this.forEachTopLevel("none",_=>{h.has(_)||(h.add(_),this.emitExpressionMember(["public static string ToJson(this ",this.topLevelResultType(_)," self)"],["JsonSerializer.Serialize(self, ",this._options.namespace,".Converter.Settings)"]))})})}emitCanConvert(h){this.emitExpressionMember("public override bool CanConvert(Type t)",h)}emitReadJson(h,_){this.emitLine("public override ",_," Read(ref Utf8JsonReader reader, Type typeToConvert, JsonSerializerOptions options)"),this.emitBlock(h)}emitWriteJson(h,_,A){this.emitLine("public override void Write(Utf8JsonWriter writer, ",A," ",h,", JsonSerializerOptions options)"),this.emitBlock(_)}converterObject(h){return[h,".Singleton"]}emitConverterClass(){const h=["Converter"];this.emitType(void 0,C.Internal,"static class",h,void 0,()=>{this.emitLine("public static readonly JsonSerializerOptions Settings = new(JsonSerializerDefaults.General)"),this.emitBlock(()=>{this.emitLine("Converters ="),this.emitLine("{"),this.indent(()=>{for(const[_,A]of this.typesWithNamedTransformations)U((0,l.defined)((0,d.transformationForType)(_)))&&this.emitLine(this.converterObject(A),",");this.emitLine("new DateOnlyConverter(),"),this.emitLine("new TimeOnlyConverter(),"),this.emitLine("IsoDateTimeOffsetConverter.Singleton")}),this.emitLine("},")},!0)})}emitDecoderTransformerCase(h,_,A,S,O){if(A!==void 0){for(const L of h)this.emitTokenCase(L);this.indent(()=>{this.emitDecodeTransformer(A,S,O,_)||this.emitLine("break;")})}}emitConsume(h,_,A,S){return _===void 0?(S(h),!0):this.emitTransformer(h,_,A,S)}emitDecodeTransformer(h,_,A,S="value"){if(h instanceof d.DecodingTransformer){const O=h.sourceType,L=this.converterForType(_);if(L!==void 0){const K=this.csType(_);this.emitLine("var converter = ",this.converterObject(L),";"),this.emitLine("var ",S," = (",K,")converter.ReadJson(reader, typeof(",K,"), null, serializer);")}else if(O.kind!=="null"){let K=_.kind==="double"?_:O;this.emitLine("var ",S," = ",this.deserializeTypeCode(this.csType(K)),";")}return this.emitConsume(S,h.consumer,_,A)}else if(h instanceof d.ArrayDecodingTransformer){if(!(_ instanceof r.ArrayType))return(0,l.panic)("Array decoding must produce an array type");this.emitLine("reader.Read();"),this.emitLine("var ",S," = new List<",this.csType(_.items),">();"),this.emitLine("while (reader.TokenType != JsonToken.EndArray)"),this.emitBlock(()=>{this.emitDecodeTransformer(h.itemTransformer,h.itemTargetType,L=>this.emitLine(S,".Add(",L,");"),"arrayItem"),this.emitLine("reader.Read();")});let O=S;return this._options.useList||(O=[O,".ToArray()"]),A(O),!0}else return h instanceof d.DecodingChoiceTransformer?(this.emitDecoderSwitch(()=>{const O=h.nullTransformer;O!==void 0&&(this.emitTokenCase("Null"),this.indent(()=>{this.emitDecodeTransformer(O,_,A,"null")||this.emitLine("break")})),this.emitDecoderTransformerCase(["Number"],"integerValue",h.integerTransformer,_,A),this.emitDecoderTransformerCase(["Number"],"doubleValue",h.doubleTransformer,_,A),this.emitDecoderTransformerCase(["True","False"],"boolValue",h.boolTransformer,_,A),this.emitDecoderTransformerCase(["String"],"stringValue",h.stringTransformer,_,A),this.emitDecoderTransformerCase(["StartObject"],"objectValue",h.objectTransformer,_,A),this.emitDecoderTransformerCase(["StartArray"],"arrayValue",h.arrayTransformer,_,A)}),!1):(0,l.panic)("Unknown transformer")}stringCaseValue(h,_){return h.kind==="string"?['"',(0,s.utf16StringEscape)(_),'"']:h instanceof r.EnumType?[this.nameForNamedType(h),".",this.nameForEnumCase(h,_)]:(0,l.panic)(`Type ${h.kind} does not have string cases`)}emitTransformer(h,_,A,S){function O(L){return L===void 0?A:(0,d.followTargetType)(L.sourceType)}if(_ instanceof d.ChoiceTransformer){const L=_.transformers;if(L.length>1&&L.every(K=>K instanceof d.StringMatchTransformer))return this.emitLine("switch (",h,")"),this.emitBlock(()=>{for(const K of L){const I=K,k=this.stringCaseValue((0,d.followTargetType)(I.sourceType),I.stringCase);this.emitLine("case ",k,":"),this.indent(()=>{this.emitTransformer(h,I.transformer,A,S)||this.emitLine("break;")})}}),!1;for(const K of L)this.emitTransformer(h,K,A,S)}else if(_ instanceof d.UnionMemberMatchTransformer){const L=_.memberType,K=(0,i.nullableFromUnion)(_.sourceType);let I,k;if(K!==null)L.kind==="null"?(I=[h," == null"],k="null"):(I=[h," != null"],k=h);else if(L.kind==="null")I=[h,".IsNull"],k="null";else{const x=this.nameForUnionMember(_.sourceType,L);k=[h,".",x],I=[k," != null"]}L.kind!=="null"&&f(L)&&(k=[k,".Value"]),this.emitLine("if (",I,")"),this.emitBlock(()=>this.emitTransformer(k,_.transformer,A,S))}else if(_ instanceof d.StringMatchTransformer){const L=this.stringCaseValue((0,d.followTargetType)(_.sourceType),_.stringCase);this.emitLine("if (",h," == ",L,")"),this.emitBlock(()=>this.emitTransformer(h,_.transformer,A,S))}else if(_ instanceof d.EncodingTransformer){const L=this.converterForType(_.sourceType);return L!==void 0?(this.emitLine("var converter = ",this.converterObject(L),";"),this.emitLine("converter.WriteJson(writer, ",h,", serializer);")):this.emitLine(this.serializeValueCode(h),";"),S([]),!0}else if(_ instanceof d.ArrayEncodingTransformer){this.emitLine("writer.WriteStartArray();");const L="arrayItem";return this.emitLine("foreach (var ",L," in ",h,")"),this.emitBlock(()=>{this.emitTransformer(L,_.itemTransformer,_.itemTargetType,()=>{})}),this.emitLine("writer.WriteEndArray();"),S([]),!0}else if(_ instanceof d.ParseStringTransformer){const L=_.consumer===void 0?A:_.consumer.sourceType;switch(L.kind){case"date-time":this.emitLine("DateTimeOffset dt;"),this.emitLine("if (DateTimeOffset.TryParse(",h,", out dt))"),this.emitBlock(()=>this.emitConsume("dt",_.consumer,A,S));break;case"uuid":this.emitLine("Guid guid;"),this.emitLine("if (Guid.TryParse(",h,", out guid))"),this.emitBlock(()=>this.emitConsume("guid",_.consumer,A,S));break;case"uri":this.emitLine("try"),this.emitBlock(()=>{this.emitLine('var uri = new Uri("about:blank");'),this.emitLine("if (!string.IsNullOrEmpty(stringValue))"),this.emitBlock(()=>{this.emitLine("uri = new Uri(",h,");")}),this.emitConsume("uri",_.consumer,A,S)}),this.emitLine("catch (UriFormatException) {}");break;case"integer":this.emitLine("long l;"),this.emitLine("if (Int64.TryParse(",h,", out l))"),this.emitBlock(()=>this.emitConsume("l",_.consumer,A,S));break;case"bool":this.emitLine("bool b;"),this.emitLine("if (Boolean.TryParse(",h,", out b))"),this.emitBlock(()=>this.emitConsume("b",_.consumer,A,S));break;default:return(0,l.panic)(`Parsing string to ${L.kind} not supported`)}}else if(_ instanceof d.StringifyTransformer)switch(_.sourceType.kind){case"date-time":return this.emitConsume([h,'.ToString("o", System.Globalization.CultureInfo.InvariantCulture)'],_.consumer,A,S);case"uuid":return this.emitConsume([h,'.ToString("D", System.Globalization.CultureInfo.InvariantCulture)'],_.consumer,A,S);case"integer":case"uri":return this.emitConsume([h,".ToString()"],_.consumer,A,S);case"bool":return this.emitLine("var boolString = ",h,' ? "true" : "false";'),this.emitConsume("boolString",_.consumer,A,S);default:return(0,l.panic)(`Stringifying ${_.sourceType.kind} not supported`)}else if(_ instanceof d.StringProducerTransformer){const L=this.stringCaseValue(O(_.consumer),_.result);return this.emitConsume(L,_.consumer,A,S)}else if(_ instanceof d.MinMaxLengthCheckTransformer){const L=_.minLength,K=_.maxLength,I=[];return L!==void 0&&I.push([h,".Length >= ",L.toString()]),K!==void 0&&I.push([h,".Length <= ",K.toString()]),this.emitLine("if (",(0,n.arrayIntercalate)([" && "],I),")"),this.emitBlock(()=>this.emitConsume(h,_.consumer,A,S)),!1}else if(_ instanceof d.MinMaxValueTransformer){const L=_.minimum,K=_.maximum,I=[];return L!==void 0&&I.push([h," >= ",L.toString()]),K!==void 0&&I.push([h," <= ",K.toString()]),this.emitLine("if (",(0,n.arrayIntercalate)([" && "],I),")"),this.emitBlock(()=>this.emitConsume(h,_.consumer,A,S)),!1}else if(_ instanceof d.UnionInstantiationTransformer){if(!(A instanceof r.UnionType))return(0,l.panic)("Union instantiation transformer must produce a union type");if((0,i.nullableFromUnion)(A)!==null)S(h);else{const K=this.nameForNamedType(A);let I;_.sourceType.kind==="null"?I=" ":I=[" ",this.nameForUnionMember(A,_.sourceType)," = ",h," "],S(["new ",K," {",I,"}"])}return!0}else return(0,l.panic)("Unknown transformer");return!1}emitTransformation(h,_){const A=(0,l.defined)((0,d.transformationForType)(_)),S=A.reverse,O=A.targetType,L=A.transformer,K=this.csType(O);this.emitType(void 0,C.Internal,"class",h,["JsonConverter<",K,">"],()=>{let I=["t == typeof(",K,")"];this.emitCanConvert(I),this.ensureBlankLine(),this.emitReadJson(()=>{this.emitDecodeTransformer(L,O,x=>this.emitLine("return ",x,";"))||this.emitThrow(['"Cannot unmarshal type ',K,'"'])},K),this.ensureBlankLine(),this.emitWriteJson("value",()=>{this.emitTransformer("value",S.transformer,S.targetType,()=>this.emitLine("return;"))||this.emitThrow(['"Cannot marshal type ',K,'"'])},K),this.ensureBlankLine(),this.emitLine("public static readonly ",h," Singleton = new ",h,"();")})}emitRequiredHelpers(){this._needHelpers&&(this.forEachTopLevel("leading-and-interposing",(h,_)=>this.emitFromJsonForTopLevel(h,_)),this.ensureBlankLine(),this.emitSerializeClass()),(this._needHelpers||this._needAttributes&&(this.haveNamedUnions||this.haveEnums))&&(this.ensureBlankLine(),this.emitConverterClass(),this.forEachTransformation("leading-and-interposing",(h,_)=>this.emitTransformation(h,_)),this.emitMultiline(`
public class DateOnlyConverter : JsonConverter<DateOnly>
{
    private readonly string serializationFormat;
    public DateOnlyConverter() : this(null) { }

    public DateOnlyConverter(string? serializationFormat)
    {
        this.serializationFormat = serializationFormat ?? "yyyy-MM-dd";
    }

    public override DateOnly Read(ref Utf8JsonReader reader, Type typeToConvert, JsonSerializerOptions options)
    {
        var value = reader.GetString();
        return DateOnly.Parse(value!);
    }

    public override void Write(Utf8JsonWriter writer, DateOnly value, JsonSerializerOptions options)
        => writer.WriteStringValue(value.ToString(serializationFormat));
}

public class TimeOnlyConverter : JsonConverter<TimeOnly>
{
    private readonly string serializationFormat;

    public TimeOnlyConverter() : this(null) { }

    public TimeOnlyConverter(string? serializationFormat)
    {
        this.serializationFormat = serializationFormat ?? "HH:mm:ss.fff";
    }

    public override TimeOnly Read(ref Utf8JsonReader reader, Type typeToConvert, JsonSerializerOptions options)
    {
        var value = reader.GetString();
        return TimeOnly.Parse(value!);
    }

    public override void Write(Utf8JsonWriter writer, TimeOnly value, JsonSerializerOptions options)
        => writer.WriteStringValue(value.ToString(serializationFormat));
}

internal class IsoDateTimeOffsetConverter : JsonConverter<DateTimeOffset>
{
    public override bool CanConvert(Type t) => t == typeof(DateTimeOffset);

    private const string DefaultDateTimeFormat = "yyyy'-'MM'-'dd'T'HH':'mm':'ss.FFFFFFFK";

    private DateTimeStyles _dateTimeStyles = DateTimeStyles.RoundtripKind;
    private string? _dateTimeFormat;
    private CultureInfo? _culture;

    public DateTimeStyles DateTimeStyles
    {
        get => _dateTimeStyles;
        set => _dateTimeStyles = value;
    }

    public string? DateTimeFormat
    {
        get => _dateTimeFormat ?? string.Empty;
        set => _dateTimeFormat = (string.IsNullOrEmpty(value)) ? null : value;
    }

    public CultureInfo Culture
    {
        get => _culture ?? CultureInfo.CurrentCulture;
        set => _culture = value;
    }

    public override void Write(Utf8JsonWriter writer, DateTimeOffset value, JsonSerializerOptions options)
    {
        string text;


        if ((_dateTimeStyles & DateTimeStyles.AdjustToUniversal) == DateTimeStyles.AdjustToUniversal
            || (_dateTimeStyles & DateTimeStyles.AssumeUniversal) == DateTimeStyles.AssumeUniversal)
        {
            value = value.ToUniversalTime();
        }

        text = value.ToString(_dateTimeFormat ?? DefaultDateTimeFormat, Culture);

        writer.WriteStringValue(text);
    }

    public override DateTimeOffset Read(ref Utf8JsonReader reader, Type typeToConvert, JsonSerializerOptions options)
    {
        string? dateText = reader.GetString();
        
        if (string.IsNullOrEmpty(dateText) == false)
        {
            if (!string.IsNullOrEmpty(_dateTimeFormat))
            {
                return DateTimeOffset.ParseExact(dateText, _dateTimeFormat, Culture, _dateTimeStyles);
            }
            else
            {
                return DateTimeOffset.Parse(dateText, Culture, _dateTimeStyles);
            }
        }
        else
        {
            return default(DateTimeOffset);
        }
    }


    public static readonly IsoDateTimeOffsetConverter Singleton = new IsoDateTimeOffsetConverter();
}`))}needNamespace(){return this._needNamespaces}}e.SystemTextJsonCSharpRenderer=E})(Pl);export{ot as A,Cl as C,Ci as D,Ol as E,Si as J,ze as M,Ae as N,Je as R,ie as S,Ai as T,Xs as U,vi as a,br as b,Ee as c,ki as d,Le as e,Zn as f,bh as g,Js as h,Ll as i,na as j,Pl as k,Qs as l,gl as m,Ce as n,vr as o,oh as p,ar as q,dn as r,bi as s,$p as t};
