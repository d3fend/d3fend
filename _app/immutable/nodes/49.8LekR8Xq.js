import{e as B}from"../chunks/index.aHWtvSLc.js";import{s as L,b as q,e as g,j as v,d as b,f as T,i as p,k as h,l as y,o as P,q as D,V as I,n as _,v as E,p as M,y as x,t as z,h as A}from"../chunks/scheduler.rYb7pZZG.js";import{h as S,u as U}from"../chunks/await_block.-eayCJv5.js";import{S as F,i as G,c as C,b as w,m as N,t as k,a as $,d as O}from"../chunks/index.DuGWJhq4.js";import{p as V}from"../chunks/stores.arz3Yo0p.js";import{b as H}from"../chunks/entry.UE8Em16G.js";import{T as J}from"../chunks/Technique.jmdJ_uhB.js";import{T as K}from"../chunks/Title.-2iHfz2o.js";import{D as Q}from"../chunks/D3FMatrix.9wZrn0hk.js";const R=!1;async function W({url:n,fetch:t}){const s=n.searchParams.get("technique_id"),a=await t(`/api/technique/${s}.json`),l=await a.json();return a.status!==200&&B(500,a.message),{technique:l,technique_id:s}}const fe=Object.freeze(Object.defineProperty({__proto__:null,load:W,prerender:R},Symbol.toStringTag,{value:"Module"}));function X(n){return{c:_,l:_,m:_,p:_,i:_,o:_,d:_}}function Y(n){let t,s="esc",a,l,i,c,u="close",m,d,r;return l=new J({props:{technique_id:n[0].technique_id,technique:n[10]}}),{c(){t=g("button"),t.textContent=s,a=q(),C(l.$$.fragment),i=q(),c=g("button"),c.textContent=u},l(e){t=b(e,"BUTTON",{"data-svelte-h":!0}),E(t)!=="svelte-1ed06k4"&&(t.textContent=s),a=v(e),w(l.$$.fragment,e),i=v(e),c=b(e,"BUTTON",{"data-svelte-h":!0}),E(c)!=="svelte-1x92hpv"&&(c.textContent=u)},m(e,o){h(e,t,o),h(e,a,o),N(l,e,o),h(e,i,o),h(e,c,o),m=!0,d||(r=[M(t,"click",n[7]),M(c,"click",n[8])],d=!0)},p(e,o){const f={};o&1&&(f.technique_id=e[0].technique_id),o&1&&(f.technique=e[10]),l.$set(f)},i(e){m||(k(l.$$.fragment,e),m=!0)},o(e){$(l.$$.fragment,e),m=!1},d(e){e&&(p(t),p(a),p(i),p(c)),O(l,e),d=!1,x(r)}}}function Z(n){let t;return{c(){t=z("loading...")},l(s){t=A(s,"loading...")},m(s,a){h(s,t,a)},p:_,i:_,o:_,d(s){s&&p(t)}}}function ee(n){let t,s,a,l,i,c,u,m,d;t=new K({props:{title:n[3],og_title:n[4],og_description:n[2]["d3f:definition"],og_type:"article"}}),i=new Q({props:{scroll_indicator:!1}});let r={ctx:n,current:null,token:null,hasCatch:!1,pending:Z,then:Y,catch:X,value:10,blocks:[,,,]};return S(m=n[0].technique,r),{c(){C(t.$$.fragment),s=q(),a=g("main"),l=g("section"),C(i.$$.fragment),c=q(),u=g("dialog"),r.block.c()},l(e){w(t.$$.fragment,e),s=v(e),a=b(e,"MAIN",{});var o=T(a);l=b(o,"SECTION",{});var f=T(l);w(i.$$.fragment,f),f.forEach(p),c=v(o),u=b(o,"DIALOG",{});var j=T(u);r.block.l(j),j.forEach(p),o.forEach(p)},m(e,o){N(t,e,o),h(e,s,o),h(e,a,o),y(a,l),N(i,l,null),y(a,c),y(a,u),r.block.m(u,r.anchor=null),r.mount=()=>u,r.anchor=null,n[9](u),d=!0},p(e,[o]){n=e,r.ctx=n,o&1&&m!==(m=n[0].technique)&&S(m,r)||U(r,n,o)},i(e){d||(k(t.$$.fragment,e),k(i.$$.fragment,e),k(r.block),d=!0)},o(e){$(t.$$.fragment,e),$(i.$$.fragment,e);for(let o=0;o<3;o+=1){const f=r.blocks[o];$(f)}d=!1},d(e){e&&(p(s),p(a)),O(t,e),O(i),r.block.d(),r.token=null,r=null,n[9](null)}}}function te(n,t,s){let a;P(n,V,f=>s(6,a=f));let{data:l}=t,i,c,u=l.technique.description["@graph"][0];const m=`${u["rdfs:label"]} - Technique ${u["d3f:d3fend-id"]}`,d=`${u["rdfs:label"]} - Technique ${u["d3f:d3fend-id"]}`;D(()=>{s(5,c=document.getElementsByTagName("body")[0])}),H(()=>{c?.classList.remove("scroll--none")});const r=()=>i.close(),e=()=>i.close();function o(f){I[f?"unshift":"push"](()=>{i=f,s(1,i)})}return n.$$set=f=>{"data"in f&&s(0,l=f.data)},n.$$.update=()=>{n.$$.dirty&98&&(i&&a.url.searchParams.size?(i.showModal(),c?.classList.add("scroll--none")):i&&(i.close(),c?.classList.remove("scroll--none")))},[l,i,u,m,d,c,a,r,e,o]}class me extends F{constructor(t){super(),G(this,t,te,ee,L,{data:0})}}export{me as component,fe as universal};
