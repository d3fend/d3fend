import{s as Ye,p as Se,f as a,a as S,l as ae,g as o,F as le,c as E,h as _,d as u,m as oe,j as s,i as Ce,x as t,C as ce,ag as $e,A as qe,n as Ue,D as Ze,z as et,B as be,I as at,k as Xe,o as ot}from"../chunks/scheduler.50831561.js";import{S as tt,i as st,f as Ve,b as De,d as Pe,m as ke,a as Ne,t as Te,e as Me}from"../chunks/index.24431cc3.js";import{S as He}from"../chunks/SimpleAutocomplete.98963f12.js";import{m as re}from"../chunks/measures.1b2dc2d6.js";import{a as it}from"../chunks/updateDefendTree.c70a257c.js";/* empty css                             */import{L as rt,s as ct}from"../chunks/dialog.6b7a2585.js";import{d as dt,a as ut}from"../chunks/consts.3b726b9b.js";function ft(n){var Ge;let i,p="Settings",l,r,h,b="Profile",M,f,w,q,D,k="Matrix Overlay",j,N,O,L,v,x,z,m,e,I,y,B="Matrix Readonly",U,Z,V,A,F,de,J,me="Show Side Capabilities",R,te,G,P,K,H,X,Ee="Show Legend",we,Y,c,g,W,ee,se=(n[3].containerSize*100).toFixed(0)+"",ue,pe,_e,T,ne,Ie="60",he,$,Ae,ve,We="100",ie,Fe,je;function nt(d){n[10](d)}let Be={inputClassName:"autocomplete-cursor-select",items:(Ge=n[3])==null?void 0:Ge.portfolios,readonly:!0,labelFieldName:"name",onChange:n[9]};n[2]!==void 0&&(Be.selectedItem=n[2]),f=new He({props:Be}),Se.push(()=>Ve(f,"selectedItem",nt));function lt(d){n[12](d)}let Je={inputClassName:"autocomplete-cursor-select",items:Object.values(n[4]),labelFieldName:"name",readonly:!0,onChange:n[11]};return n[1]!==void 0&&(Je.selectedItem=n[1]),N=new He({props:Je}),Se.push(()=>Ve(N,"selectedItem",lt)),{c(){i=a("h3"),i.textContent=p,l=S(),r=a("article"),h=a("div"),h.textContent=b,M=S(),De(f.$$.fragment),q=S(),D=a("div"),D.textContent=k,j=S(),De(N.$$.fragment),L=S(),v=a("section"),x=a("article"),z=a("form"),m=a("input"),I=S(),y=a("span"),y.textContent=B,U=S(),Z=a("article"),V=a("form"),A=a("input"),de=S(),J=a("span"),J.textContent=me,R=S(),te=a("article"),G=a("form"),P=a("input"),H=S(),X=a("span"),X.textContent=Ee,we=S(),Y=a("article"),c=a("div"),g=ae("Container Scale"),W=a("span"),ee=ae("("),ue=ae(se),pe=ae(")"),_e=S(),T=a("div"),ne=a("span"),ne.textContent=Ie,he=S(),$=a("input"),Ae=S(),ve=a("span"),ve.textContent=We,this.h()},l(d){i=o(d,"H3",{class:!0,"data-svelte-h":!0}),le(i)!=="svelte-ihiao5"&&(i.textContent=p),l=E(d),r=o(d,"ARTICLE",{class:!0});var C=_(r);h=o(C,"DIV",{class:!0,"data-svelte-h":!0}),le(h)!=="svelte-nczzpi"&&(h.textContent=b),M=E(C),Pe(f.$$.fragment,C),q=E(C),D=o(C,"DIV",{class:!0,"data-svelte-h":!0}),le(D)!=="svelte-czypmm"&&(D.textContent=k),j=E(C),Pe(N.$$.fragment,C),C.forEach(u),L=E(d),v=o(d,"SECTION",{class:!0});var Q=_(v);x=o(Q,"ARTICLE",{class:!0});var ye=_(x);z=o(ye,"FORM",{class:!0});var fe=_(z);m=o(fe,"INPUT",{class:!0,type:!0,name:!0,tabindex:!0}),I=E(fe),y=o(fe,"SPAN",{class:!0,"data-svelte-h":!0}),le(y)!=="svelte-ll0538"&&(y.textContent=B),fe.forEach(u),ye.forEach(u),U=E(Q),Z=o(Q,"ARTICLE",{class:!0});var Ke=_(Z);V=o(Ke,"FORM",{class:!0});var ze=_(V);A=o(ze,"INPUT",{class:!0,type:!0,name:!0,tabindex:!0}),de=E(ze),J=o(ze,"SPAN",{class:!0,"data-svelte-h":!0}),le(J)!=="svelte-13q7unb"&&(J.textContent=me),ze.forEach(u),Ke.forEach(u),R=E(Q),te=o(Q,"ARTICLE",{class:!0});var Qe=_(te);G=o(Qe,"FORM",{class:!0});var Oe=_(G);P=o(Oe,"INPUT",{class:!0,type:!0,name:!0,tabindex:!0}),H=E(Oe),X=o(Oe,"SPAN",{class:!0,"data-svelte-h":!0}),le(X)!=="svelte-1raoq47"&&(X.textContent=Ee),Oe.forEach(u),Qe.forEach(u),we=E(Q),Y=o(Q,"ARTICLE",{class:!0});var Le=_(Y);c=o(Le,"DIV",{class:!0});var Re=_(c);g=oe(Re,"Container Scale"),W=o(Re,"SPAN",{});var xe=_(W);ee=oe(xe,"("),ue=oe(xe,se),pe=oe(xe,")"),xe.forEach(u),Re.forEach(u),_e=E(Le),T=o(Le,"DIV",{class:!0});var ge=_(T);ne=o(ge,"SPAN",{"data-svelte-h":!0}),le(ne)!=="svelte-nt3n7g"&&(ne.textContent=Ie),he=E(ge),$=o(ge,"INPUT",{type:!0,min:!0,max:!0,class:!0,id:!0}),Ae=E(ge),ve=o(ge,"SPAN",{"data-svelte-h":!0}),le(ve)!=="svelte-rbuf0z"&&(ve.textContent=We),ge.forEach(u),Le.forEach(u),Q.forEach(u),this.h()},h(){s(i,"class","text-center"),s(h,"class","select-name svelte-1d9uoe9"),s(D,"class","select-name svelte-1d9uoe9"),s(r,"class","select-setting svelte-1d9uoe9"),s(m,"class","check-box"),s(m,"type","checkbox"),s(m,"name","readonly"),m.checked=e=n[3].isReadonly,s(m,"tabindex","0"),s(y,"class","measure-text"),s(z,"class","svelte-1d9uoe9"),s(x,"class","setting"),s(A,"class","check-box"),s(A,"type","checkbox"),s(A,"name","drawer open"),A.checked=F=n[3].isDrawerOpen,s(A,"tabindex","0"),s(J,"class","measure-text"),s(V,"class","svelte-1d9uoe9"),s(Z,"class","setting"),s(P,"class","check-box"),s(P,"type","checkbox"),s(P,"name","show legend"),P.checked=K=n[3].showLegend,s(P,"tabindex","0"),s(X,"class","measure-text"),s(G,"class","svelte-1d9uoe9"),s(te,"class","setting"),s(c,"class","select-name svelte-1d9uoe9"),s($,"type","range"),s($,"min","60"),s($,"max","99"),$.value="80",s($,"class","slider"),s($,"id","myRange"),s(T,"class","size-slider svelte-1d9uoe9"),s(Y,"class","setting"),s(v,"class","setting-checks-container svelte-1d9uoe9")},m(d,C){Ce(d,i,C),Ce(d,l,C),Ce(d,r,C),t(r,h),t(r,M),ke(f,r,null),t(r,q),t(r,D),t(r,j),ke(N,r,null),Ce(d,L,C),Ce(d,v,C),t(v,x),t(x,z),t(z,m),t(z,I),t(z,y),t(v,U),t(v,Z),t(Z,V),t(V,A),t(V,de),t(V,J),t(v,R),t(v,te),t(te,G),t(G,P),t(G,H),t(G,X),t(v,we),t(v,Y),t(Y,c),t(c,g),t(c,W),t(W,ee),t(W,ue),t(W,pe),t(Y,_e),t(Y,T),t(T,ne),t(T,he),t(T,$),n[16]($),t(T,Ae),t(T,ve),ie=!0,Fe||(je=[ce(m,"click",$e(n[13])),ce(A,"click",$e(n[14])),ce(P,"click",$e(n[15])),ce($,"input",n[8])],Fe=!0)},p(d,[C]){var fe;const Q={};C&8&&(Q.items=(fe=d[3])==null?void 0:fe.portfolios),!w&&C&4&&(w=!0,Q.selectedItem=d[2],qe(()=>w=!1)),f.$set(Q);const ye={};!O&&C&2&&(O=!0,ye.selectedItem=d[1],qe(()=>O=!1)),N.$set(ye),(!ie||C&8&&e!==(e=d[3].isReadonly))&&(m.checked=e),(!ie||C&8&&F!==(F=d[3].isDrawerOpen))&&(A.checked=F),(!ie||C&8&&K!==(K=d[3].showLegend))&&(P.checked=K),(!ie||C&8)&&se!==(se=(d[3].containerSize*100).toFixed(0)+"")&&Ue(ue,se)},i(d){ie||(Ne(f.$$.fragment,d),Ne(N.$$.fragment,d),ie=!0)},o(d){Te(f.$$.fragment,d),Te(N.$$.fragment,d),ie=!1},d(d){d&&(u(i),u(l),u(r),u(L),u(v)),Me(f),Me(N),n[16](null),Fe=!1,Ze(je)}}}function mt(n,i,p){var m;let l;et(n,re,e=>p(3,l=e));let r=null;const h={multiColor:{name:"multiColor",showLegend:!0},heatMap:{name:"heatMap",showLegend:!1}};let b=h[l==null?void 0:l.techniqueMappingMode]||null,M=((m=l==null?void 0:l.portfolios)==null?void 0:m[l==null?void 0:l.selectedPortfolio])||null;const f=e=>{be(re,l[e]=!l[e],l)},w=e=>{var I;if(e){const y=l.portfolios.findIndex(({id:B})=>B===e.id);be(re,l.selectedPortfolio=y,l),p(2,M=((I=l==null?void 0:l.portfolios)==null?void 0:I[y])||null),it.reset()}else be(re,l.selectedPortfolio=null,l),p(2,M=e)},q=e=>{if(typeof e=="string")p(1,b=e);else if(e&&e.name){const{name:I="none",showLegend:y}=e;p(1,b=e),be(re,l.techniqueMappingMode=I,l),be(re,l.showLegend=y,l)}},D=e=>{be(re,l.containerSize=e.target.value/100,l)},k=e=>w(e);function j(e){M=e,p(2,M)}const N=e=>q(e);function O(e){b=e,p(1,b)}const L=()=>f("isReadonly"),v=()=>f("isDrawerOpen"),x=()=>f("showLegend");function z(e){Se[e?"unshift":"push"](()=>{r=e,p(0,r)})}return[r,b,M,l,h,f,w,q,D,k,j,N,O,L,v,x,z]}class pt extends tt{constructor(i){super(),st(this,i,mt,ft,Ye,{})}}function _t(n){let i,p,l='<h1 class="svelte-588v9b"><span class="fancy-font">MITRE D3FEND</span> Embeddable Widget</h1> <h6 class="svelte-588v9b">Use the D3FEND Embeddable Widget to embed an interactive D3FEND Profile in another webpage.</h6>',r,h,b,M,f,w,q,D,k,j,N,O,L,v=n[3].func({size:n[0].containerSize})+"",x,z,m,e,I=n[3].text+"",y,B,U,Z,V,A,F,de,J,me,R,te,G,P,K,H,X,Ee;b=new pt({});function we(c){n[11](c)}let Y={inputClassName:"autocomplete-cursor-select",items:Object.values(n[4]),labelFieldName:"name",readonly:!0,onChange:n[10]};return n[3]!==void 0&&(Y.selectedItem=n[3]),k=new He({props:Y}),Se.push(()=>Ve(k,"selectedItem",we)),K=new rt({}),{c(){i=a("main"),p=a("section"),p.innerHTML=l,r=S(),h=a("code"),De(b.$$.fragment),M=S(),f=a("code"),w=a("h3"),q=ae(`Embed Code

      `),D=a("span"),De(k.$$.fragment),N=S(),O=a("div"),L=a("pre"),x=ae(v),z=S(),m=a("div"),e=a("div"),y=ae(I),B=S(),U=a("button"),Z=ae("Download"),A=S(),F=a("button"),de=ae("Copy to Clipboard"),me=S(),R=a("iframe"),G=S(),P=a("dialog"),De(K.$$.fragment),this.h()},l(c){i=o(c,"MAIN",{style:!0,class:!0});var g=_(i);p=o(g,"SECTION",{id:!0,class:!0,"data-svelte-h":!0}),le(p)!=="svelte-7quaw2"&&(p.innerHTML=l),r=E(g),h=o(g,"CODE",{id:!0,class:!0});var W=_(h);Pe(b.$$.fragment,W),W.forEach(u),M=E(g),f=o(g,"CODE",{id:!0,class:!0});var ee=_(f);w=o(ee,"H3",{class:!0});var se=_(w);q=oe(se,`Embed Code

      `),D=o(se,"SPAN",{id:!0,class:!0});var ue=_(D);Pe(k.$$.fragment,ue),ue.forEach(u),se.forEach(u),N=E(ee),O=o(ee,"DIV",{id:!0,class:!0});var pe=_(O);L=o(pe,"PRE",{class:!0});var _e=_(L);x=oe(_e,v),_e.forEach(u),pe.forEach(u),z=E(ee),m=o(ee,"DIV",{id:!0,class:!0});var T=_(m);e=o(T,"DIV",{});var ne=_(e);y=oe(ne,I),ne.forEach(u),B=E(T),U=o(T,"BUTTON",{class:!0});var Ie=_(U);Z=oe(Ie,"Download"),Ie.forEach(u),A=E(T),F=o(T,"BUTTON",{class:!0});var he=_(F);de=oe(he,"Copy to Clipboard"),he.forEach(u),T.forEach(u),ee.forEach(u),me=E(g),R=o(g,"IFRAME",{id:!0,src:!0,title:!0,class:!0}),_(R).forEach(u),G=E(g),P=o(g,"DIALOG",{class:!0});var $=_(P);Pe(K.$$.fragment,$),$.forEach(u),g.forEach(u),this.h()},h(){s(p,"id","header"),s(p,"class","svelte-588v9b"),s(h,"id","embed-settings"),s(h,"class","svelte-588v9b"),s(D,"id","download-options"),s(D,"class","svelte-588v9b"),s(w,"class","svelte-588v9b"),s(L,"class","svelte-588v9b"),s(O,"id","code-container"),s(O,"class","svelte-588v9b"),s(U,"class","download-code svelte-588v9b"),U.disabled=V=n[3].name==="Config Settings",s(F,"class","download-code svelte-588v9b"),F.disabled=J=n[3].name==="Config Settings",s(m,"id","download-container"),s(m,"class","svelte-588v9b"),s(f,"id","embed-code"),s(f,"class","config-container svelte-588v9b"),s(R,"id","measures-iframe"),at(R.src,te="/profile/")||s(R,"src",te),s(R,"title","D3FEND Embedded"),s(R,"class","svelte-588v9b"),s(P,"class","iframe-dialog"),Xe(i,"--container-size",n[0].containerSize),s(i,"class","svelte-588v9b")},m(c,g){Ce(c,i,g),t(i,p),t(i,r),t(i,h),ke(b,h,null),t(i,M),t(i,f),t(f,w),t(w,q),t(w,D),ke(k,D,null),t(f,N),t(f,O),t(O,L),t(L,x),t(f,z),t(f,m),t(m,e),t(e,y),t(m,B),t(m,U),t(U,Z),t(m,A),t(m,F),t(F,de),t(i,me),t(i,R),n[14](R),t(i,G),t(i,P),ke(K,P,null),n[15](P),H=!0,X||(Ee=[ce(window,"message",n[5]),ce(U,"click",n[12]),ce(F,"click",n[13]),ce(P,"close",n[16])],X=!0)},p(c,[g]){const W={};!j&&g&8&&(j=!0,W.selectedItem=c[3],qe(()=>j=!1)),k.$set(W),(!H||g&9)&&v!==(v=c[3].func({size:c[0].containerSize})+"")&&Ue(x,v),(!H||g&8)&&I!==(I=c[3].text+"")&&Ue(y,I),(!H||g&8&&V!==(V=c[3].name==="Config Settings"))&&(U.disabled=V),(!H||g&8&&J!==(J=c[3].name==="Config Settings"))&&(F.disabled=J),(!H||g&1)&&Xe(i,"--container-size",c[0].containerSize)},i(c){H||(Ne(b.$$.fragment,c),Ne(k.$$.fragment,c),Ne(K.$$.fragment,c),H=!0)},o(c){Te(b.$$.fragment,c),Te(k.$$.fragment,c),Te(K.$$.fragment,c),H=!1},d(c){c&&u(i),Me(b),Me(k),n[14](null),Me(K),n[15](null),X=!1,Ze(Ee)}}}function ht(n,i,p){let l,r;et(n,re,e=>p(0,r=e));let h=null,b=null;const M={"Config Settings":{name:"Config Settings",text:"Profile Config Settings",func:()=>l},"index.html":{name:"index.html",download:"index.html",text:"Complete HTML/Javascript runnable script",func:dt},"Svelte Compenent":{name:"Svelte Compenent",download:"D3fendProfile.svelte",text:"Composable Svelte Compoenent runnable in Svelte Application",func:ut},"Profile data":{name:"Profile data",text:"Export Profile Data",func:()=>JSON.stringify(r,null,2).trim()}};ot(()=>{r.localStorageWarning&&b.showModal()});const f=e=>{var I;((I=e.data)==null?void 0:I.call)==="FromParent"&&h.contentWindow.postMessage({call:"toParent",value:r},e.origin)};let w=M["Config Settings"];const q=e=>{e&&e.text&&p(3,w=e)},D=async(e,{func:I,download:y})=>{const B=I({size:r.containerSize},r);ct(B,y)},k=async(e,{func:I})=>{const y=I({size:r.containerSize},r);try{await navigator.clipboard.writeText(y)}catch(B){console.error("Failed to copy: ",B)}},j=e=>{e.close()},N=e=>q(e);function O(e){w=e,p(3,w)}const L=e=>D(e,w),v=e=>k(e,w);function x(e){Se[e?"unshift":"push"](()=>{h=e,p(1,h)})}function z(e){Se[e?"unshift":"push"](()=>{b=e,p(2,b)})}const m=()=>j(b);return n.$$.update=()=>{n.$$.dirty&1&&(l=JSON.stringify(r,["isReadonly","isDrawerOpen","showLegend","techniqueMappingMode","selectedPortfolio","matrixSize","containerSize"],2).trim())},[r,h,b,w,M,f,q,D,k,j,N,O,L,v,x,z,m]}class yt extends tt{constructor(i){super(),st(this,i,ht,_t,Ye,{})}}export{yt as component};
